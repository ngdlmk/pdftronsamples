(function() {(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):
n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},
j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?
n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),
j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==
t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,
t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=
c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+
r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&
n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");
return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,
u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=
n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=
j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t=
{},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==
t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==
t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||
j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==
typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=
function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?
r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,
r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+
"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;
return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&!b.silent&&this._changed&&this.change(b);this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(c,b))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(d,a))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||this.urlRoot||l();if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&!a._performValidation(c,b)&&(a=!1)}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!b?
g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!b)this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&this._hasPushState&&b&&a.hash)this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=function(a){this.cid=
f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);return a},delegateEvents:function(a){if(a||
(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&b&&(a=="create"||a=="update"))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||xhr.status>=200&&
xhr.status<300||xhr.status==304||xhr.status==1223||browser.safari&&xhr.status==undefined}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;
while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};if(!String.fromCodePoint)(function(){var defineProperty=function(){var result;try{var object={};var $defineProperty=Object.defineProperty;result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function(){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length)return"";
var result="";while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!==codePoint)throw RangeError("Invalid code point: "+codePoint);if(codePoint<=65535)codeUnits.push(codePoint);else{codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate)}if(index+1===length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=
0}}return result};if(defineProperty)defineProperty(String,"fromCodePoint",{"value":fromCodePoint,"configurable":true,"writable":true});else String.fromCodePoint=fromCodePoint})();if(!Element.prototype.scrollIntoViewIfNeeded)Element.prototype.scrollIntoViewIfNeeded=function(centerIfNeeded){function withinBounds(value,min,max,extent){if(centerIfNeeded===false||max<=value+extent&&value<=min+extent)return Math.min(max,Math.max(min,value));return(min+max)/2}function makeArea(left,top,width,height){return{"left":left,
"top":top,"width":width,"height":height,"right":left+width,"bottom":top+height,"translate":function(x,y){return makeArea(x+left,y+top,width,height)},"relativeFromTo":function(lhs,rhs){var newLeft=left,newTop=top;lhs=lhs.offsetParent;rhs=rhs.offsetParent;if(lhs===rhs)return area;for(;lhs;lhs=lhs.offsetParent){newLeft+=lhs.offsetLeft+lhs.clientLeft;newTop+=lhs.offsetTop+lhs.clientTop}for(;rhs;rhs=rhs.offsetParent){newLeft-=rhs.offsetLeft+rhs.clientLeft;newTop-=rhs.offsetTop+rhs.clientTop}return makeArea(newLeft,
newTop,width,height)}}}var parent,elem=this,area=makeArea(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);while((parent=elem.parentNode)instanceof HTMLElement){var clientLeft=parent.offsetLeft+parent.clientLeft;var clientTop=parent.offsetTop+parent.clientTop;area=area.relativeFromTo(elem,parent).translate(-clientLeft,-clientTop);parent.scrollLeft=withinBounds(parent.scrollLeft,area.right-parent.clientWidth,area.left,parent.clientWidth);parent.scrollTop=withinBounds(parent.scrollTop,
area.bottom-parent.clientHeight,area.top,parent.clientHeight);area=area.translate(clientLeft-parent.scrollLeft,clientTop-parent.scrollTop);elem=parent}};if(window.NodeList&&!NodeList.prototype.forEach)NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++)callback.call(thisArg,this[i],i,this)};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};if(!String.prototype.startsWith)String.prototype.startsWith=
function(search,pos){return this.substr(!pos||pos<0?0:+pos,search.length)===search};if(!String.prototype.endsWith)String.prototype.endsWith=function(search,thisLen){if(thisLen===undefined||thisLen>this.length)thisLen=this.length;return this.substring(thisLen-search.length,thisLen)===search};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,
function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;var ieWebView=function(){return exports.utils.ie&&exports.navigator.userAgent.toLowerCase().indexOf("webview")>-1}();exports.utils.ieWebView=ieWebView;var ieWebViewLocal=function(){return exports.utils.ieWebView&&window.location.href.indexOf("ms-appx-web://")===0}();exports.utils.ieWebViewLocal=
ieWebViewLocal;exports.utils.isEdge=!!navigator.userAgent.match(/Edge/i);exports.utils.isMobileDevice=function(){return!!(!ie&&(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Touch/i)||navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/Silk/i)))}();exports.busyLoop=function(step,finished,sync){var start=Date.now();function nextSlice(){while(step())if(Date.now()-
start>100&&!sync){start=Date.now();setTimeout(nextSlice,0);return}finished()}nextSlice()};exports.utils.mouseUpEventBug=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i);exports.utils.isChrome=function(){var opera=window.navigator.userAgent.match(/OPR/);var maxthon=window.navigator.userAgent.match(/Maxthon/);var edge=window.navigator.userAgent.match(/Edge/);return window.navigator.userAgent.match(/Chrome\/(.*?) /)&&!opera&&!maxthon&&!edge}();var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);
return match?parseInt(match[1],10):match}();exports.utils.chromeHasSubzero=exports.utils.isChrome&&chromeVersion>=56;exports.utils.isSafari=window.navigator.userAgent.match(/Safari/)&&!exports.utils.isChrome;exports.utils.disableFormCharacterProcessing=window.navigator.userAgent.indexOf("Android")>-1;var multiplierOverride;var getCanvasMultiplier=function(){return function(){if(!_.isUndefined(multiplierOverride))return multiplierOverride;return window.devicePixelRatio||1}}();exports.utils.getCanvasMultiplier=
getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};exports.utils.canvasFontMultiplier=function(){var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");var testSize=20;ctx.font=testSize+"px f0";return parseFloat(ctx.font)/testSize}();if(window.CanvasPixelArray)window.CanvasPixelArray.prototype.set=function(arr){var l=this.length,i=0;for(;i<l;i+=4){this[i]=
arr[i];this[i+1]=arr[i+1];this[i+2]=arr[i+2];this[i+3]=255}};if(!window.Uint8ClampedArray)window.Uint8ClampedArray=window.Uint8Array;var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,0,1,1).data[0];return val===
255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=new exports.Uint8Array(new ArrayBuffer(1));
String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;exports.utils.hasObjectURL=!!(exports.URL&&exports.URL.createObjectURL);if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=
Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=
serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&actual.indexOf(' xfa:spec="2.0.2"')>0&&actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=
serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();window.matchMedia||(window.matchMedia=function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,
null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet)style.styleSheet.cssText=text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,
isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;
if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0)index=queries.push({mql:mql,listeners:listeners});listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");canvas.width=1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,
0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,1,1);var result=ctx.getImageData(0,0,1,1).data[0]===0;exports.utils.specialBlendSupported=result;return result}();exports.utils.supportsImageDataConstructor=function(){try{new ImageData(1,1);return true}catch(e){return false}}();var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=
window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=clearTimeout}exports.utils.hasClass=function(element,cls){return(" "+element.className+
" ").indexOf(" "+cls+" ")>-1};exports.utils.eventHandler={on:function(){this.applyWithArgs($(this).on,arguments);return this},off:function(){this.applyWithArgs($(this).off,arguments);return this},trigger:function(){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))},one:function(){this.applyWithArgs($(this).one,arguments);return this}};exports.utils.isEditableElement=function(ele){return ele.is("input:text")||
ele.is("textarea")};if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=array[i];if(i>=array.length-1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&_.isArray(variable)&&varname.length===variable.length){var varlist="";for(var i=0;i<varname.length;i++)varlist=
varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=
documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=properties[name];Object.defineProperty(prototype,
name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=val}}});_(canvasProto).extend({S:function(){if(typeof this.saves===
"undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,ro:canvasProto.rotate,L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,
fillTextCustom:function(text,x,y){},xc:function(text,x,y){},tm:function(mapping){},cgb:function(){},cge:function(){},xw:function(text,x,y,skipLast){this.fillText(text,x,y)},xcw:function(text,x,y,skipLast){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale,cr:function(x,y,w,h){this.beginPath();this.rect(x,y,w,h);this.clip()},createCanvas:function(){return document.createElement("canvas")}});
Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=rect2.x2&&rect1.x2>=rect2.x1&&
rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)return true;return false};exports.utils.containsRect=function(rect1,rect2){if(rect1.x1<=rect2.x1&&rect1.x2>=rect2.x2&&rect1.y1<=rect2.y1&&rect1.y2>=rect2.y2)return true;return false};exports.utils.getRectIntersection=function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,rect2.x2);rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};
exports.utils.normalizeRect=function(pt1,pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.utils.getRotationOffsets=function(rotation,w,h){var dx=0,dy=0;rotation=Number(rotation);switch(rotation){case 90:dy=w;break;case 180:dx=w;dy=h;break;case 270:dx=h;break}return{dx:dx,dy:dy}};exports.json2xml=function(o,tab){var toXml=function(v,name,ind){var xml="";if(v instanceof Array)for(var i=
0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],name,ind+"\t")+"\n";else if(typeof v==="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+
"</"+name+">";return xml},xml="";for(var m in o)xml+=toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.roundToPrecision=function(number,precision){var factor=Math.pow(10,precision);var tempNumber=number*factor;var roundedTempNumber=Math.round(tempNumber);return roundedTempNumber/factor};exports.utils.utf8_decode=function(utftext){var string="";var i=0;var c1=0,c2=0,c3=0;while(i<utftext.length){c1=utftext.charCodeAt(i);if(c1<128){string+=String.fromCharCode(c1);i++}else if(c1>
191&&c1<224){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode((c1&31)<<6|c2&63);i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63);i+=3}}return string}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=
a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode)}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}try{window.indexedDB=window.indexedDB||
window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.msIndexedDB;if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}}catch(error){console.warn("No access to IndexedDB")}})(window,idbModules);var createPromiseCapability=function(){var capability={};capability.promise=new Promise(function(resolve,reject){capability.resolve=resolve;capability.reject=reject});return capability};(typeof window==="undefined"?this:window).createPromiseCapability=createPromiseCapability;
(function PromiseClosure(exports){if(exports.Promise){if(typeof exports.Promise.all!=="function")exports.Promise.all=function(iterable){var count=0,results=[],resolve,reject;var promise=new exports.Promise(function(resolve_,reject_){resolve=resolve_;reject=reject_});iterable.forEach(function(p,i){count++;p.then(function(result){results[i]=result;count--;if(count===0)resolve(results)},reject)});if(count===0)resolve(results);return promise};if(typeof exports.Promise.resolve!=="function")exports.Promise.resolve=
function(value){return new exports.Promise(function(resolve){resolve(value)})};if(typeof exports.Promise.reject!=="function")exports.Promise.reject=function(reason){return new exports.Promise(function(resolve,reject){reject(reason)})};if(typeof exports.Promise.prototype["catch"]!=="function")exports.Promise.prototype["catch"]=function(onReject){return exports.Promise.prototype.then(undefined,onReject)};return}var STATUS_PENDING=0;var STATUS_RESOLVED=1;var STATUS_REJECTED=2;var REJECTION_TIMEOUT=500;
var asap=typeof setImmediate==="function"&&setImmediate||function(fn){setTimeout(fn,1)};var HandlerManager={handlers:[],running:false,unhandledRejections:[],pendingRejectionCheck:false,scheduleHandlers:function scheduleHandlers(promise){if(promise._status===STATUS_PENDING)return;this.handlers=this.handlers.concat(promise._handlers);promise._handlers=[];if(this.running)return;this.running=true;asap(this.runHandlers.bind(this),0)},runHandlers:function runHandlers(){var RUN_TIMEOUT=1;var timeoutAt=Date.now()+
RUN_TIMEOUT;while(this.handlers.length>0){var handler=this.handlers.shift();var nextStatus=handler.thisPromise._status;var nextValue=handler.thisPromise._value;try{if(nextStatus===STATUS_RESOLVED){if(typeof handler.onResolve==="function")nextValue=handler.onResolve(nextValue)}else if(typeof handler.onReject==="function"){nextValue=handler.onReject(nextValue);nextStatus=STATUS_RESOLVED;if(handler.thisPromise._unhandledRejection)this.removeUnhandeledRejection(handler.thisPromise)}}catch(ex){nextStatus=
STATUS_REJECTED;nextValue=ex}handler.nextPromise._updateStatus(nextStatus,nextValue);if(Date.now()>=timeoutAt)break}if(this.handlers.length>0){asap(this.runHandlers.bind(this),0);return}this.running=false},addUnhandledRejection:function addUnhandledRejection(promise){this.unhandledRejections.push({promise:promise,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function removeUnhandeledRejection(promise){promise._unhandledRejection=false;for(var i=0;i<this.unhandledRejections.length;i++)if(this.unhandledRejections[i].promise===
promise){this.unhandledRejections.splice(i);i--}},scheduleRejectionCheck:function scheduleRejectionCheck(){if(this.pendingRejectionCheck)return;this.pendingRejectionCheck=true;setTimeout(function rejectionCheck(){this.pendingRejectionCheck=false;var now=Date.now();for(var i=0;i<this.unhandledRejections.length;i++)if(now-this.unhandledRejections[i].time>REJECTION_TIMEOUT){var unhandled=this.unhandledRejections[i].promise._value;var msg="Unhandled rejection: "+unhandled;if(unhandled.stack)msg+="\n"+
unhandled.stack;warn(msg);this.unhandledRejections.splice(i);i--}if(this.unhandledRejections.length)this.scheduleRejectionCheck()}.bind(this),REJECTION_TIMEOUT)}};function Promise(resolver){this._status=STATUS_PENDING;this._handlers=[];try{resolver.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}Promise.all=function Promise_all(promises){var resolveAll,rejectAll;var deferred=new Promise(function(resolve,reject){resolveAll=resolve;rejectAll=reject});var unresolved=
promises.length;var results=[];if(unresolved===0){resolveAll(results);return deferred}function reject(reason){if(deferred._status===STATUS_REJECTED)return;results=[];rejectAll(reason)}for(var i=0,ii=promises.length;i<ii;++i){var promise=promises[i];var resolve=function(i){return function(value){if(deferred._status===STATUS_REJECTED)return;results[i]=value;unresolved--;if(unresolved===0)resolveAll(results)}}(i);if(Promise.isPromise(promise))promise.then(resolve,reject);else resolve(promise)}return deferred};
Promise.isPromise=function Promise_isPromise(value){return value&&typeof value.then==="function"};Promise.resolve=function Promise_resolve(value){return new Promise(function(resolve){resolve(value)})};Promise.reject=function Promise_reject(reason){return new Promise(function(resolve,reject){reject(reason)})};Promise.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function Promise__updateStatus(status,value){if(this._status===STATUS_RESOLVED||this._status===
STATUS_REJECTED)return;if(status===STATUS_RESOLVED&&Promise.isPromise(value)){value.then(this._updateStatus.bind(this,STATUS_RESOLVED),this._updateStatus.bind(this,STATUS_REJECTED));return}this._status=status;this._value=value;if(status===STATUS_REJECTED&&this._handlers.length===0){this._unhandledRejection=true;HandlerManager.addUnhandledRejection(this)}HandlerManager.scheduleHandlers(this)},_resolve:function Promise_resolve(value){this._updateStatus(STATUS_RESOLVED,value)},_reject:function Promise_reject(reason){this._updateStatus(STATUS_REJECTED,
reason)},then:function Promise_then(onResolve,onReject){var nextPromise=new Promise(function(resolve,reject){this.resolve=resolve;this.reject=reject});this._handlers.push({thisPromise:this,onResolve:onResolve,onReject:onReject,nextPromise:nextPromise});HandlerManager.scheduleHandlers(this);return nextPromise},"catch":function Promise_catch(onReject){return this.then(undefined,onReject)}};exports.Promise=Promise})(typeof window==="undefined"?this:window);(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||key.length==24||key.length==32))key=forge.util.createBuffer(key);
else if(key.constructor==Array&&(key.length==16||key.length==24||key.length==32)){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||len==24||len==32){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||key.length==6||key.length==8)){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;var _output;var _inBlock;var _outBlock;
var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=0;i<Nb;++i)_output.putInt32(_outBlock[i]);
_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};cipher.start=
function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);_outBlock=
new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null)object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&i<len&&typeof object==="object"&&
object!==null){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||typeof object[next]!=="object"||object[next]===null)break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function a(e,t){if(!t||typeof t=="function")return e;for(var n in t)e[n]=t[n];return e}function f(e,t,n){var r,i=0,s=e.length,o=s===undefined||typeof e=="function";if(n)if(o)for(r in e){if(t.apply(e[r],n)===!1)break}else for(;i<s;){if(t.apply(e[i++],n)===!1)break}else if(o)for(r in e){if(t.call(e[r],r,e[r])===!1)break}else for(;i<s;)if(t.call(e[i],i,e[i++])===!1)break;return e}function l(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,
new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):
(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(){var e=arguments[0];
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},o=function(e,r,i,u){typeof i=="function"&&(u=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=i.async===undefined?!0:i.async;var a=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},o.headers,i.headers),f;a["content-type"]==="application/json"?f=JSON.stringify(i.data):f=n(i.data);if(e==="GET"){var l=[];f&&(l.push(f),
f=null),i.cache||l.push("_="+(new Date).getTime()),i.jsonp&&(l.push("callback="+i.jsonp),l.push("jsonp="+i.jsonp)),l=l.join("&"),l.length>1&&(r.indexOf("?")>-1?r+="&"+l:r+="?"+l);if(i.jsonp){var c=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=r,c.appendChild(h);return}}t(function(t,n){if(t)return u(t);n.open(e,r,i.async);for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);n.onreadystatechange=function(){if(n.readyState===4){var e=
n.responseText||"";if(!u)return;u(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(f)})},u={authBasic:function(e,t){o.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return o("CONNECT",e,t,n)},del:function(e,t,n){return o("DELETE",e,t,n)},get:function(e,t,n){return o("GET",e,t,n)},head:function(e,t,n){return o("HEAD",e,t,n)},headers:function(e){o.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},
options:function(e,t,n){return o("OPTIONS",e,t,n)},patch:function(e,t,n){return o("PATCH",e,t,n)},post:function(e,t,n){return o("POST",e,t,n)},put:function(e,t,n){return o("PUT",e,t,n)},trace:function(e,t,n){return o("TRACE",e,t,n)}},a=e.type?e.type.toLowerCase():"get";u[a](e.url,e,function(t,n){t===200?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function d(e,s){typeof e=="function"&&(s=e,e={}),e=e||{},p.extend(u,e),typeof u.ns=="string"&&(u.ns={namespaces:[u.ns],defaultNs:u.ns}),u.interpolationPrefixEscaped=
p.regexEscape(u.interpolationPrefix),u.interpolationSuffixEscaped=p.regexEscape(u.interpolationSuffix),u.lng||(u.lng=p.detectLanguage()),u.lng?u.useCookie&&p.cookie.create(u.cookieName,u.lng,u.cookieExpirationTime):(u.lng=u.fallbackLng,u.useCookie&&p.cookie.remove(u.cookieName)),o=p.toLanguages(u.lng),i=o[0],p.log("currentLng set to: "+i),_.setCurrentLng(i),t&&u.setJqueryExt&&S();var a;t&&t.Deferred&&(a=t.Deferred());if(u.resStore){r=u.resStore,s&&s(L),a&&a.resolve();if(a)return a.promise();return}var f=
p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var l=0,c=u.preload.length;l<c;l++){var h=p.toLanguages(u.preload[l]);for(var d=0,v=h.length;d<v;d++)f.indexOf(h[d])<0&&f.push(h[d])}n.sync.load(f,u,function(e,t){r=t,s&&s(L),a&&a.resolve()});if(a)return a.promise()}function v(e,t){typeof e=="string"&&(e=[e]);for(var n=0,r=e.length;n<r;n++)u.preload.indexOf(e[n])<0&&u.preload.push(e[n]);return d(t)}function m(e,t,n){typeof t!="string"&&(n=t,t=u.ns.defaultNs),r[e]=r[e]||{},
r[e][t]=r[e][t]||{},p.extend(r[e][t],n)}function g(e){u.ns.defaultNs=e}function y(e,t){b([e],t)}function b(e,t){var i={dynamicLoad:u.dynamicLoad,resGetPath:u.resGetPath,getAsync:u.getAsync,ns:{namespaces:e,defaultNs:""}},s=p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var o=0,a=u.preload.length;o<a;o++){var f=p.toLanguages(u.preload[o]);for(var l=0,c=f.length;l<c;l++)s.indexOf(f[l])<0&&s.push(f[l])}var h=[];for(var d=0,v=s.length;d<v;d++){var m=!1,g=r[s[d]];if(g)for(var y=
0,b=e.length;y<b;y++)g[e[y]]||(m=!0);else m=!0;m&&h.push(s[d])}h.length?n.sync._fetch(h,i,function(i,s){var o=e.length*h.length;p.each(e,function(e,i){p.each(h,function(e,a){r[a]=r[a]||{},r[a][i]=s[a][i],o--,o===0&&t&&(u.useLocalStorage&&n.sync._storeLocal(r),t())})})}):t&&t()}function w(e,t){return d({lng:e},t)}function E(){return i}function S(){function e(e,n,r){if(n.length===0)return;var i="text";if(n.indexOf("[")===0){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}n.indexOf(";")===n.length-
1&&(n=n.substr(0,n.length-2));var o;i==="html"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.html(t.t(n,o))):i==="text"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.text()},r):r,e.text(t.t(n,o))):(o=u.defaultValueFromContent?t.extend({defaultValue:e.attr(i)},r):r,e.attr(i,t.t(n,o)))}function n(n,r){var i=n.attr(u.selectorAttr);if(!i)return;var s=n,o=n.data("i18n-target");o&&(s=n.find(o)||n),!r&&u.useDataAttrOptions===!0&&(r=n.data("i18n-options")),r=r||{};if(i.indexOf(";")<=
i.length-1){var a=i.split(";");t.each(a,function(t,n){e(s,n,r)})}else e(s,k,r);u.useDataAttrOptions===!0&&n.data("i18n-options",r)}t.t=t.t||L,t.fn.i18n=function(e){return this.each(function(){n(t(this),e);var r=t(this).find("["+u.selectorAttr+"]");r.each(function(){n(t(this),e)})})}}function x(e,t,n,r){r=r||t;if(e.indexOf(r.interpolationPrefix||u.interpolationPrefix)<0)return e;var i=r.interpolationPrefix?p.regexEscape(r.interpolationPrefix):u.interpolationPrefixEscaped,s=r.interpolationSuffix?p.regexEscape(r.interpolationSuffix):
u.interpolationSuffixEscaped;return p.each(t,function(t,o){typeof o=="object"&&o!==null?e=x(e,o,n?n+u.keyseparator+t:t,r):e=e.replace(new RegExp([i,n?n+u.keyseparator+t:t,s].join(""),"g"),o)}),e}function T(e,t){var n=",",r="{",i="}",o=p.extend({},t);delete o.postProcess;while(e.indexOf(u.reusePrefix)!=-1){s++;if(s>u.maxRecursion)break;var a=e.indexOf(u.reusePrefix),f=e.indexOf(u.reuseSuffix,a)+u.reuseSuffix.length,l=e.substring(a,f),c=l.replace(u.reusePrefix,"").replace(u.reuseSuffix,"");if(c.indexOf(n)!=
-1){var h=c.indexOf(n);if(c.indexOf(r,h)!=-1&&c.indexOf(i,h)!=-1){var d=c.indexOf(r,h),v=c.indexOf(i,d)+i.length;try{o=p.extend(o,JSON.parse(c.substring(d,v))),c=c.substring(0,h)}catch(m){}}}var g=A(c,o);e=e.replace(l,g)}return e}function N(e){return e.context&&typeof e.context=="string"}function C(e){return e.count!==undefined&&typeof e.count!="string"&&e.count!==1}function L(e,t){return s=0,A(e,t)}function A(e,t){t=t||{};if(!r)return f;var s,a,f=t.defaultValue||e,l=o;if(t.lng){l=p.toLanguages(t.lng);
if(!r[l[0]]){var c=u.getAsync;u.getAsync=!1,n.sync.load(l,u,function(e,t){p.extend(r,t),u.getAsync=c})}}var h=t.ns||u.ns.defaultNs;if(e.indexOf(u.nsseparator)>-1){var d=e.split(u.nsseparator);h=d[0],e=d[1]}if(N(t)){s=p.extend({},t),delete s.context,s.defaultValue=u.contextNotFound;var v=h+u.nsseparator+e+"_"+t.context;a=L(v,s);if(a!=u.contextNotFound)return x(a,{context:t.context})}if(C(t)){s=p.extend({},t),delete s.count,s.defaultValue=u.pluralNotFound;var m=h+u.nsseparator+e+u.pluralSuffix,g=_.get(i,
t.count);g>=0?m=m+"_"+g:g===1&&(m=h+u.nsseparator+e),a=L(m,s);if(a!=u.pluralNotFound)return x(a,{count:t.count})}var y,b=e.split(u.keyseparator);for(var w=0,E=l.length;w<E;w++){if(y)break;var S=l[w],k=0,O=r[S]&&r[S][h];while(b[k])O=O&&O[b[k]],k++;if(O!==undefined){if(typeof O=="string")O=x(O,t),O=T(O,t);else if(Object.prototype.toString.apply(O)==="[object Array]"&&!u.returnObjectTrees&&!t.returnObjectTrees)O=O.join("\n"),O=x(O,t),O=T(O,t);else if(!u.returnObjectTrees&&!t.returnObjectTrees)O="key '"+
h+":"+e+" ("+S+")' "+"returned a object instead of string.",p.log(O);else{var P={};for(var H in O)P[H]=A(h+u.nsseparator+e+u.keyseparator+H,t);O=P}y=O}}y===undefined&&u.fallbackToDefaultNS&&(y=A(e,t)),y===undefined&&u.sendMissing&&(t.lng?M.postMissing(l[0],h,e,f,l):M.postMissing(u.lng,h,e,f,l));var B=t.postProcess||u.postProcess;return y!==undefined&&B&&D[B]&&(y=D[B](y,e,t)),y===undefined&&(f=x(f,t),f=T(f,t)),y!==undefined?y:f}function O(){var e,t=[];typeof window!="undefined"&&(function(){var e=
window.location.search.substring(1),n=e.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("=");if(i>0){var s=n[r].substring(0,i),o=n[r].substring(i+1);t[s]=o}}}(),t[u.detectLngQS]&&(e=t[u.detectLngQS]));if(!e&&typeof document!="undefined"&&u.useCookie){var n=p.cookie.read(u.cookieName);n&&(e=n)}return!e&&typeof navigator!="undefined"&&(e=navigator.language?navigator.language:navigator.userLanguage),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;
var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1});var e=this,t=e.jQuery,n={},r={},i,s=0,o=[];typeof module!="undefined"&&module.exports?module.exports=n:(t&&(t.i18n=t.i18n||n),e.i18n=e.i18n||n);var u={lng:undefined,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,
fallbackLng:"dev",detectLngQS:"setLng",ns:"translation",fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:undefined,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",
pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:undefined,useCookie:!0,cookieName:"i18next",postProcess:undefined},c={create:function(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*60*1E3),r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"},read:function(e){var t=e+"=",n=document.cookie.split(";");for(var r=
0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},h={create:function(e,t,n){},read:function(e){return null},remove:function(e){}},p={extend:t?t.extend:a,each:t?t.each:f,ajax:t?t.ajax:l,cookie:typeof document!="undefined"?c:h,detectLanguage:O,log:function(e){u.debug&&typeof console!="undefined"&&console.log(e)},toLanguages:function(e){var t=[];if(typeof e=="string"&&
e.indexOf("-")>-1){var n=e.split("-");e=u.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),u.load!=="unspecific"&&t.push(e),u.load!=="current"&&t.push(n[0])}else t.push(e);return t.indexOf(u.fallbackLng)===-1&&u.fallbackLng&&t.push(u.fallbackLng),t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},M={load:function(e,t,n){t.useLocalStorage?M._loadLocal(e,t,function(r,i){var s=[];for(var o=0,u=e.length;o<u;o++)i[e[o]]||
s.push(e[o]);s.length>0?M._fetch(s,t,function(e,t){p.extend(i,t),M._storeLocal(t),n(null,i)}):n(null,i)}):M._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var r={},i=(new Date).getTime();if(window.localStorage){var s=e.length;p.each(e,function(e,o){var u=window.localStorage.getItem("res_"+o);u&&(u=JSON.parse(u),u.i18nStamp&&u.i18nStamp+t.localStorageExpirationTime>i&&(r[o]=u)),s--,s===0&&n(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),
window.localStorage.setItem("res_"+t,JSON.stringify(e[t]));return},_fetch:function(e,t,n){var r=t.ns,i={};if(!t.dynamicLoad){var s=r.namespaces.length*e.length,o;p.each(r.namespaces,function(r,u){p.each(e,function(e,r){var a=function(e,t){e&&(o=o||[],o.push(e)),i[r]=i[r]||{},i[r][u]=t,s--,s===0&&n(o,i)};typeof t.customLoad=="function"?t.customLoad(r,u,t,a):M._fetchOne(r,u,t,a)})})}else{var u=x(t.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});p.ajax({url:u,success:function(e,t,r){p.log("loaded: "+
u),n(null,e)},error:function(e,t,r){p.log("failed loading: "+u),n("failed loading resource.json error: "+r)},dataType:"json",async:t.getAsync})}},_fetchOne:function(e,t,n,r){var i=x(n.resGetPath,{lng:e,ns:t});p.ajax({url:i,success:function(e,t,n){p.log("loaded: "+i),r(null,e)},error:function(e,t,n){p.log("failed loading: "+i),r(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(e,t,n,i,s){var o={};o[n]=i;var a=[];if(u.sendMissingTo==="fallback")a.push({lng:u.fallbackLng,url:x(u.resPostPath,
{lng:u.fallbackLng,ns:t})});else if(u.sendMissingTo==="current")a.push({lng:e,url:x(u.resPostPath,{lng:e,ns:t})});else if(u.sendMissingTo==="all")for(var f=0,l=s.length;f<l;f++)a.push({lng:s[f],url:x(u.resPostPath,{lng:s[f],ns:t})});for(var c=0,h=a.length;c<h;c++){var d=a[c];p.ajax({url:d.url,type:u.sendType,data:o,success:function(e,s,o){p.log("posted missing key '"+n+"' to: "+d.url);var u=n.split("."),a=0,f=r[d.lng][t];while(u[a])a===u.length-1?f=f[u[a]]=i:f=f[u[a]]=f[u[a]]||{},a++},error:function(e,
t,r){p.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:u.postAsync})}}},_={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ar:{name:"Arabic",
numbers:[0,1,2,3,11,100],plurals:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ay:{name:"Aymar\u00e1",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(e!=1)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&
e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ca:{name:"Catalan",
numbers:[1,2],plurals:function(e){return Number(e!=1)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(e!=1)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(e!=1)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>
1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(e!=1)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(e!=1)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(e!=1)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},
jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(e!==0)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},kw:{name:"Cornish",numbers:[1,
2,3,4],plurals:function(e){return Number(e==1?0:e==2?1:e==3?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[0,
1,2],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(e==1||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(e==1?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(e!=1)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(e!=1)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(e!=1)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?
1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(e==1?0:e===0||e%100>0&&e%100<
20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(e!=1)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(e!=1)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(e==
1?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:
2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(e!=1)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",
numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(e!=1)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,t){_.rules[e]=t},setCurrentLng:function(e){if(!_.currentRule||_.currentRule.lng!==
e){var t=e.split("-");_.currentRule={lng:e,rule:_.rules[t[0]]}}},get:function(e,t){function r(t,n){var r;_.currentRule&&_.currentRule.lng===e?r=_.currentRule.rule:r=_.rules[t];if(r){var i=r.plurals(n),s=r.numbers[i];return r.numbers.length===2&&r.numbers[0]===1&&(s===2?s=-1:s===1&&(s=1)),s}return n===1?"1":"-1"}var n=e.split("-");return r(n[0],t)}},D={},P=function(e,t){D[e]=t},H=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>
0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string")a.push(n[f]);else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l]))throw H('[sprintf] property "%s" does not exist',c[2][l]);u=u[c[2][l]]}}else c[1]?
u=r[c[1]]:u=r[i++];if(/[^s]/.test(c[8])&&e(u)!="number")throw H("[sprintf] expecting number but found %s",e(u));switch(c[8]){case "b":u=u.toString(2);break;case "c":u=String.fromCharCode(u);break;case "d":u=parseInt(u,10);break;case "e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case "f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case "o":u=u.toString(8);break;case "s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case "u":u=Math.abs(u);break;case "x":u=u.toString(16);break;
case "X":u=u.toString(16).toUpperCase()}u=/[def]/.test(c[8])&&c[3]&&u>=0?"+"+u:u,p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ",d=c[6]-String(u).length,h=c[6]?t(p,d):"",a.push(c[5]?u+h:h+u)}}return a.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=
1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),B=function(e,t){return t.unshift(e),H.apply(null,t)};P("sprintf",function(e,
t,n){return n.sprintf?Object.prototype.toString.apply(n.sprintf)==="[object Array]"?B(e,n.sprintf):typeof n.sprintf=="object"?H(e,n.sprintf):e:e}),n.init=d,n.setLng=w,n.preload=v,n.addResourceBundle=m,n.loadNamespace=y,n.loadNamespaces=b,n.setDefaultNamespace=g,n.t=L,n.translate=L,n.detectLanguage=p.detectLanguage,n.pluralExtensions=_,n.sync=M,n.functions=p,n.lng=E,n.addPostProcessor=P,n.options=u})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(e,t){var n,a,o,i="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),s={count:0,event:0},g=function(e,n){var a=n.originalEvent,o=t.Event(a);o.type=e;for(var i=0,c=u.length;c>i;i++)o[u[i]]=n[u[i]];return o},p=function(e){if(e.isTrigger)return!1;var n=s.event,a=Math.abs(e.pageX-n.pageX),o=Math.abs(e.pageY-n.pageY),i=Math.max(a,o);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&i<t.tap.POSITION_DELTA&&(!n.touches||1===s.count)&&T.isTracking},l=function(e){if(!o)return!1;
var n=Math.abs(e.pageX-o.pageX),a=Math.abs(e.pageY-o.pageY),i=Math.max(n,a);return Math.abs(e.timeStamp-o.timeStamp)<750&&i<t.tap.POSITION_DELTA},h=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,a=u.length;a>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||$.event.special.tap||(T.isEnabled=!0,n=t(e.body).on("touchstart"+i,T.onStart).on("mousedown"+i,T.onStart).on("click"+
i,T.onClick))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(i))},onStart:function(e){e.isTrigger||(h(e),(!t.tap.LEFT_BUTTON_ONLY||e.touches||1===e.which)&&(e.touches&&(s.count=e.touches.length),T.isTracking&&T.onCancel(e),(e.touches||!l(e))&&(T.isTracking=!0,s.event=e,e.touches?(o=e,n.on("touchend"+i+c,T.onEnd).on("touchcancel"+i+c,T.onCancel)):n.on("mouseup"+i+c,T.onEnd))))},onEnd:function(e){var n;e.isTrigger||(h(e),p(e)&&(n=g(r,e),a=n,t(s.event.target).trigger(n)),T.onCancel(e))},onCancel:function(e){e&&
"touchcancel"===e.type&&e.preventDefault(),T.isTracking=!1,n.off(c)},onClick:function(e){return!e.isTrigger&&a&&a.isDefaultPrevented()&&a.target===e.target&&a.pageX===e.pageX&&a.pageY===e.pageY&&e.timeStamp-a.timeStamp<750?(a=null,!1):void 0}};t(e).ready(T.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Dc.apply(null,arguments)}function b(a){Dc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&
!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=
typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Fc.length>0)for(c in Fc)d=Fc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Gc===!1&&(Gc=!0,a.updateOffset(this),Gc=!1)}function o(a){return a instanceof n||null!=a&&null!=
a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;
if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Hc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ec._abbr,require("./locale/"+a),v(b)}catch(c){}return Hc[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Ec=c)),Ec._abbr}function w(a,b){return null!==b?(b.abbr=a,Hc[a]||(Hc[a]=new r),Hc[a].set(b),v(a),Hc[a]):(delete Hc[a],null)}function x(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ec;if(!c(a)){if(b=
u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ic[c]=Ic[c+"s"]=Ic[b]=a}function z(a){return"string"==typeof a?Ic[a]||Ic[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==
typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Mc[a]=e),b&&(Mc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Mc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Jc);for(b=0,c=d.length;c>b;b++)Mc[d[b]]?d[b]=Mc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Lc[b]||(Lc[b]=I(b)),Lc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kc.lastIndex=0;d>=0&&Kc.test(a);)a=a.replace(Kc,c),Kc.lastIndex=0,d-=1;return a}function L(a,
b,c){_c[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(_c,a)?_c[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)ad[a[c]]=d}function P(a,b){O(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,
d,e)})}function Q(a,b,c){null!=b&&f(ad,a)&&ad[a](b,c._a,c,a)}function R(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+
(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[cd]<0||c[cd]>11?cd:c[dd]<1||c[dd]>R(c[bd],c[cd])?dd:c[ed]<0||c[ed]>24||24===c[ed]&&(0!==c[fd]||0!==c[gd]||0!==c[hd])?ed:c[fd]<0||c[fd]>59?fd:c[gd]<0||c[gd]>59?gd:c[hd]<0||c[hd]>999?hd:-1,j(a)._overflowDayOfYear&&(bd>b||b>dd)&&(b=dd),j(a).overflow=b),a}function Z(b){a.suppressDeprecationWarnings===
!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){kd[a]||(Z(b),kd[a]=!0)}function aa(a){var b,c,d=a._i,e=ld.exec(d);if(e){for(j(a).iso=!0,b=0,c=md.length;c>b;b++)if(md[b][1].exec(d)){a._f=md[b][0]+(e[6]||" ");break}for(b=0,c=nd.length;c>b;b++)if(nd[b][1].exec(d)){a._f+=nd[b][0];break}d.match(Yc)&&(a._f+="Z"),ta(a)}else a._isValid=
!1}function ba(b){var c=od.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}function ga(){return fa(this.year())}function ha(a,b,c){var d,
e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=
c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&null==a._a[dd]&&null==
a._a[cd]&&sa(a),a._dayOfYear&&(e=pa(a._a[bd],d[bd]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[cd]=c.getUTCMonth(),a._a[dd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ed]&&0===a._a[fd]&&0===a._a[gd]&&0===a._a[hd]&&(a._nextDay=!0,a._a[ed]=0),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ed]=24)}}function sa(a){var b,
c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=pa(b.GG,a._a[bd],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[bd],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[bd]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=K(b._f,b._locale).match(Jc)||[],c=0;c<e.length;c++)f=e[c],
d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Mc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ed]<=12&&b._a[ed]>0&&(j(b).bigHour=void 0),b._a[ed]=ua(b._locale,b._a[ed],b._meridiem),ra(b),Y(b)}function ua(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,
c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,
e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}
function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=
A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ha(a){var b=(a||"").match(Yc)||[],c=b[b.length-1]||[],d=(c+"").match(td)||["-",
0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ja(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,
"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):
"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,
b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ud.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[dd])*c,h:p(h[ed])*c,m:p(h[fd])*c,s:p(h[gd])*c,ms:p(h[hd])*c}):(h=vd.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ea(g),
Fa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,
f;return null===d||isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>
d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,
c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=hb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===
b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;
return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=
z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6E4*(this._offset||0)}function ub(){return Math.floor(+this/1E3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,
b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==
typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",
""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}
function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1E3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],
"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}
function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),a.milliseconds=Rd(a.milliseconds),a.seconds=Rd(a.seconds),a.minutes=Rd(a.minutes),a.hours=Rd(a.hours),a.months=Rd(a.months),a.years=Rd(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=
d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1E3,a=fb(d/1E3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*a/400}function sc(a){var b,c,d=
this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function tc(){return this._milliseconds+864E5*this._days+this._months%
12*2592E6+31536E6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=fe(d.as("s")),f=fe(d.as("m")),g=fe(d.as("h")),h=fe(d.as("d")),i=fe(d.as("M")),j=fe(d.as("y")),k=e<ge.s&&["s",e]||1===f&&["m"]||f<ge.m&&["mm",f]||1===g&&["h"]||g<ge.h&&["hh",g]||
1===h&&["d"]||h<ge.d&&["dd",h]||1===i&&["M"]||i<ge.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===ge[a]?!1:void 0===b?ge[a]:(ge[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=he(this.years()),b=he(this.months()),c=he(this.days()),d=he(this.hours()),e=he(this.minutes()),f=he(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return g?
(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var Dc,Ec,Fc=a.momentProperties=[],Gc=!1,Hc={},Ic={},Jc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lc={},Mc={},Nc=/\d/,Oc=/\d\d/,Pc=/\d{3}/,Qc=/\d{4}/,Rc=/[+-]?\d{6}/,Sc=/\d\d?/,Tc=/\d{1,3}/,Uc=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,
Wc=/\d+/,Xc=/[+-]?\d+/,Yc=/Z|[+-]\d\d:?\d\d/gi,Zc=/[+-]?\d+(\.\d{1,3})?/,$c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_c={},ad={},bd=0,cd=1,dd=2,ed=3,fd=4,gd=5,hd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Sc),L("MM",Sc,Oc),L("MMM",$c),L("MMMM",$c),O(["M",
"MM"],function(a,b){b[cd]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[cd]=e:j(c).invalidMonth=a});var id="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kd={};a.suppressDeprecationWarnings=!1;var ld=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
md=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],od=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",Xc),L("YY",Sc,Oc),L("YYYY",Uc,Qc),L("YYYYY",Vc,Rc),L("YYYYYY",Vc,Rc),O(["YYYY","YYYYY","YYYYYY"],bd),O("YY",function(b,c){c[bd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2E3)};var pd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),
y("week","w"),y("isoWeek","W"),L("w",Sc),L("ww",Sc,Oc),L("W",Sc),L("WW",Sc,Oc),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var qd={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Tc),L("DDDD",Pc),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var rd=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),sd=
$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",Yc),L("ZZ",Yc),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var td=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ud=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Va.fn=Ea.prototype;var wd=Za(1,"add"),xd=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var yd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),
Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",Xc),L("g",Xc),L("GG",Sc,Oc),L("gg",Sc,Oc),L("GGGG",Uc,Qc),L("gggg",Uc,Qc),L("GGGGG",Vc,Rc),L("ggggg",Vc,Rc),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Nc),O("Q",function(a,b){b[cd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Sc),L("DD",Sc,Oc),L("Do",function(a,b){return a?
b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],dd),O("Do",function(a,b){b[dd]=p(a.match(Sc)[0],10)});var zd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Sc),L("e",Sc),L("E",Sc),L("dd",$c),L("ddd",
$c),L("dddd",$c),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Ad="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Sc),L("h",Sc),L("HH",Sc,Oc),
L("hh",Sc,Oc),O(["H","HH"],ed),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[ed]=p(a),j(c).bigHour=!0});var Dd=/[ap]\.?m?\.?/i,Ed=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Sc),L("mm",Sc,Oc),O(["m","mm"],fd);var Fd=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Sc),L("ss",Sc,Oc),O(["s","ss"],gd);var Gd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/
10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Tc,Nc),L("SS",Tc,Oc),L("SSS",Tc,Pc),L("SSSS",Wc),O(["S","SS","SSS","SSSS"],function(a,b){b[hd]=p(1E3*("0."+a))});var Hd=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Id=n.prototype;Id.add=wd,Id.calendar=_a,Id.clone=ab,Id.diff=gb,Id.endOf=sb,Id.format=kb,Id.from=lb,Id.fromNow=mb,Id.to=nb,Id.toNow=ob,Id.get=E,Id.invalidAt=zb,Id.isAfter=bb,Id.isBefore=cb,Id.isBetween=db,Id.isSame=eb,Id.isValid=xb,Id.lang=yd,Id.locale=pb,Id.localeData=
qb,Id.max=sd,Id.min=rd,Id.parsingFlags=yb,Id.set=E,Id.startOf=rb,Id.subtract=xd,Id.toArray=wb,Id.toDate=vb,Id.toISOString=jb,Id.toJSON=jb,Id.toString=ib,Id.unix=ub,Id.valueOf=tb,Id.year=pd,Id.isLeapYear=ga,Id.weekYear=Cb,Id.isoWeekYear=Db,Id.quarter=Id.quarters=Gb,Id.month=W,Id.daysInMonth=X,Id.week=Id.weeks=la,Id.isoWeek=Id.isoWeeks=ma,Id.weeksInYear=Fb,Id.isoWeeksInYear=Eb,Id.date=zd,Id.day=Id.days=Mb,Id.weekday=Nb,Id.isoWeekday=Ob,Id.dayOfYear=oa,Id.hour=Id.hours=Ed,Id.minute=Id.minutes=Fd,Id.second=
Id.seconds=Gd,Id.millisecond=Id.milliseconds=Hd,Id.utcOffset=Ka,Id.utc=Ma,Id.local=Na,Id.parseZone=Oa,Id.hasAlignedHourOffset=Pa,Id.isDST=Qa,Id.isDSTShifted=Ra,Id.isLocal=Sa,Id.isUtcOffset=Ta,Id.isUtc=Ua,Id.isUTC=Ua,Id.zoneAbbr=Ub,Id.zoneName=Vb,Id.dates=$("dates accessor is deprecated. Use date instead.",zd),Id.months=$("months accessor is deprecated. Use month instead",W),Id.years=$("years accessor is deprecated. Use year instead",pd),Id.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
La);var Jd=Id,Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},
Qd=r.prototype;Qd._calendar=Kd,Qd.calendar=Yb,Qd._longDateFormat=Ld,Qd.longDateFormat=Zb,Qd._invalidDate=Md,Qd.invalidDate=$b,Qd._ordinal=Nd,Qd.ordinal=_b,Qd._ordinalParse=Od,Qd.preparse=ac,Qd.postformat=ac,Qd._relativeTime=Pd,Qd.relativeTime=bc,Qd.pastFuture=cc,Qd.set=dc,Qd.months=S,Qd._months=id,Qd.monthsShort=T,Qd._monthsShort=jd,Qd.monthsParse=U,Qd.week=ia,Qd._week=qd,Qd.firstDayOfYear=ka,Qd.firstDayOfWeek=ja,Qd.weekdays=Ib,Qd._weekdays=Ad,Qd.weekdaysMin=Kb,Qd._weekdaysMin=Cd,Qd.weekdaysShort=
Jb,Qd._weekdaysShort=Bd,Qd.weekdaysParse=Lb,Qd.isPM=Rb,Qd._meridiemParse=Dd,Qd.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Rd=Math.abs,Sd=uc("ms"),Td=uc("s"),Ud=uc("m"),Vd=uc("h"),Wd=uc("d"),Xd=uc("w"),Yd=uc("M"),Zd=uc("y"),$d=wc("milliseconds"),
_d=wc("seconds"),ae=wc("minutes"),be=wc("hours"),ce=wc("days"),de=wc("months"),ee=wc("years"),fe=Math.round,ge={s:45,m:45,h:22,d:26,M:11},he=Math.abs,ie=Ea.prototype;ie.abs=lc,ie.add=nc,ie.subtract=oc,ie.as=sc,ie.asMilliseconds=Sd,ie.asSeconds=Td,ie.asMinutes=Ud,ie.asHours=Vd,ie.asDays=Wd,ie.asWeeks=Xd,ie.asMonths=Yd,ie.asYears=Zd,ie.valueOf=tc,ie._bubble=pc,ie.get=vc,ie.milliseconds=$d,ie.seconds=_d,ie.minutes=ae,ie.hours=be,ie.days=ce,ie.weeks=xc,ie.months=de,ie.years=ee,ie.humanize=Bc,ie.toISOString=
Cc,ie.toString=Cc,ie.toJSON=Cc,ie.locale=pb,ie.localeData=qb,ie.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),ie.lang=yd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",Xc),L("X",Zc),O("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.3",b(Aa),a.fn=Jd,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=
Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var je=a;return je});(function(exports){exports.PDFNet=exports.PDFNet?exports.PDFNet:{};exports.PDFNet.Convert=exports.PDFNet.Convert?exports.PDFNet.Convert:{};var finishedInitializeCapability;exports.PDFNet.initialize=function(l,pdfBackendType){if(!finishedInitializeCapability){var workerHandlers={pnaclCrashError:function(msg,genericMsg){console.log("PNaClCrashError: "+msg+", "+genericMsg)},pnaclLoadError:function(msg,genericMsg){console.log("PNaClLoadError: "+msg+", "+genericMsg)},emsWorkerError:function(msg,genericMsg){console.log("EmsWorkerError: "+
msg+", "+genericMsg)}};var useEmscriptenWhileLoading=pdfBackendType!=="pnacl"&&!exports.CoreControls.isSubzeroEnabled();finishedInitializeCapability=createPromiseCapability();var finishInit=function(pdfBackendType){exports.CoreControls.preloadPDFWorker(pdfBackendType,workerHandlers,{useEmscriptenWhileLoading:useEmscriptenWhileLoading,autoSwap:false});var workerTransportPromise=exports.CoreControls.initPDFWorkerTransports(pdfBackendType,workerHandlers,l);workerTransportPromise.then(function(transport){exports.PDFNet.messageHandler=
transport;finishedInitializeCapability.resolve()})};if(typeof readerControl!=="undefined"&&typeof readerControl.pdfType!=="undefined")pdfBackendType=readerControl.pdfType;if(!pdfBackendType||pdfBackendType==="auto"){var getBackendeallocPromise=CoreControls.getDefaultPdfBackendType();getBackendeallocPromise.then(finishInit)}else finishInit(pdfBackendType)}return finishedInitializeCapability.promise};exports.PDFNet.Convert.office2PDFBuffer=function(input,options){return new Promise(function(resolve,
reject){var partRetriever=typeof input==="string"?new CoreControls.PartRetrievers.ExternalPdfPartRetriever(input):new CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever(input);var officeDoc=new CoreControls.Document(undefined,"office");var officeDocReady=function(err){if(err)reject(err);officeDoc.getFileData({"downloadType":"pdf"}).then(function(buffer){resolve(buffer)})["catch"](function(e){reject(e)})};officeDoc.loadAsync(partRetriever,officeDocReady,{workerTransportPromise:CoreControls.initOfficeWorkerTransports(CoreControls.getCurrentPDFBackendType(),
{},options["l"])})})}})(typeof window==="undefined"?this:window);var I=self,R=I.aS;(function(){function b(a){e?e.push(a):setTimeout(a,0)}var d={version:"0.7.2.0",isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},Xf:function(a){return null===a||void 0===a},sV:function(a){return null!==a&&void 0!==a}},e=[];I.attachEvent&&I.attachEvent("onload",function(){if(e){var a=e;e=null;for(var f=0,g=a.length;f<g;f++)a[f]()}});R||(I.aS=R={init:b,ready:b});for(var c in d)R[c]=d[c]})();Object.De="Object";Object.Zj=null;Object.nU=function(b){for(var d in b)delete b[d]};
Object.Pp=function(b,d){return void 0!==b[d]};Object.keys?Object.eN=function(b){return Object.keys(b).length}:(Object.keys=function(b){var d=[],e;for(e in b)d.push(e);return d},Object.eN=function(b){var d=0,e;for(e in b)d++;return d});Boolean.De="Boolean";Boolean.parse=function(b){return"true"==b.toLowerCase()};Number.De="Number";Number.parse=function(b){return b&&b.length?0<=b.indexOf(".")||0<=b.indexOf("e")||b.endsWith("f")||b.endsWith("F")?parseFloat(b):parseInt(b,10):0};
Number.prototype.format=function(b){return R.Xf(b)||0==b.length||"i"==b?this.toString():ba(this,b,!1)};Number.prototype.CF=function(b){return R.Xf(b)||0==b.length||"i"==b?this.toLocaleString():ba(this,b,!0)};
Number.Vv=function(b,d,e,c){var a=null;e=b.indexOf(e);0<e&&(a=b.substr(e),b=b.substr(0,e));(e=b.startsWith("-"))&&(b=b.substr(1));var f=0,g=d[f];if(b.length<g)return a?b+a:b;for(var l=b.length,h="",k=!1;!k;){var m=g,n=l-m;0>n&&(g+=n,m+=n,n=0,k=!0);if(!m)break;n=b.substr(n,m);h=h.length?n+c+h:n;l-=m;f<d.length-1&&(f++,g=d[f])}e&&(h="-"+h);return a?h+a:h};
function ba(b,d,e){e=e?R.gI.jT.numberFormat:R.gI.tT.numberFormat;var c="",a=-1;1<d.length&&(a=parseInt(d.substr(1)));d=d.charAt(0);switch(d){case "d":case "D":c=parseInt(Math.abs(b)).toString();-1!=a&&(c=c.length<a?String.XD(a-c.length)+c:c);0>b&&(c="-"+c);break;case "x":case "X":c=parseInt(Math.abs(b)).toString(16);"X"==d&&(c=c.toUpperCase());-1!=a&&(c=c.length<a?String.XD(a-c.length)+c:c);break;case "e":case "E":c=-1==a?b.toExponential():b.toExponential(a);"E"==d&&(c=c.toUpperCase());break;case "f":case "F":case "n":case "N":-1==
a&&(a=e.DV);c=b.toFixed(a).toString();a&&"."!=e.LF&&(a=c.indexOf("."),c=c.substr(0,a)+e.LF+c.substr(a+1));if("n"==d||"N"==d)c=Number.Vv(c,e.FV,e.LF,e.EV);break;case "c":case "C":-1==a&&(a=e.yU);c=Math.abs(b).toFixed(a).toString();a&&"."!=e.bD&&(a=c.indexOf("."),c=c.substr(0,a)+e.bD+c.substr(a+1));c=Number.Vv(c,e.AU,e.bD,e.zU);c=0>b?String.format(e.BU,c):String.format(e.CU,c);break;case "p":case "P":-1==a&&(a=e.JV),c=(100*Math.abs(b)).toFixed(a).toString(),a&&"."!=e.dG&&(a=c.indexOf("."),c=c.substr(0,
a)+e.dG+c.substr(a+1)),c=Number.Vv(c,e.LV,e.dG,e.KV),c=0>b?String.format(e.MV,c):String.format(e.NV,c)}return c}String.De="String";String.jI="";String.compare=function(b,d,e){e&&(b&&(b=b.toUpperCase()),d&&(d=d.toUpperCase()));b=b||"";d=d||"";return b==d?0:b<d?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};
String.prototype.endsWith=function(b){return b.length?b.length>this.length?!1:this.substr(this.length-b.length)==b:!0};String.HD=function(b,d,e){return 0==String.compare(b,d,e)};String._format=function(b,d,e){String.zB||(String.zB=/(\{[^\}^\{]+\})/g);return b.replace(String.zB,function(c,a){var f=d[parseInt(a.substr(1))+1];if(R.Xf(f))return"";if(f.format){var g=null,b=a.indexOf(":");0<b&&(g=a.substring(b+1,a.length-1));return e?f.CF(g):f.format(g)}return e?f.toLocaleString():f.toString()})};
String.format=function(b){return String._format(b,arguments,!1)};String.XD=function(b){for(var d="0",e=1;e<b;e++)d+="0";return d};String.prototype.insert=function(b,d){return d?b?this.substr(0,b)+d+this.substr(b):d+this:this};String.Ht=function(b){return!b||!b.length};String.CF=function(b){return String._format(b,arguments,!0)};String.prototype.remove=function(b,d){return!d||b+d>this.length?this.substr(0,b):this.substr(0,b)+this.substr(b+d)};
String.prototype.startsWith=function(b){return b.length?b.length>this.length?!1:this.substr(0,b.length)==b:!0};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.De="Array";Array.mr=[R.Uq];
Object.defineProperties(Array.prototype,{add:{value:function(b){this.push(b)}},addRange:{value:function(b){this.push.apply(this,b)}},aggregate:{value:function(b,d,e){for(var c=this.length,a=0;a<c;a++)a in this&&(b=d.call(e,b,this[a],a,this));return b}},clear:{value:function(){this.length=0}},clone:{value:function(){return 1===this.length?[this[0]]:Array.apply(null,this)}},contains:{value:function(b){return 0<=this.indexOf(b)}},dequeue:{value:function(){return this.shift()}},enqueue:{value:function(b){this.sK=
!0;this.push(b)}},peek:{value:function(){return this.length?this[this.sK?0:this.length-1]:null}},extract:{value:function(b,d){return d?this.slice(b,b+d):this.slice(b)}},getEnumerator:{value:function(){return new R.Kq(this)}},groupBy:{value:function(b,d){for(var e=this.length,c=[],a={},f=0;f<e;f++)if(f in this){var g=b.call(d,this[f],f);if(!String.Ht(g)){var l=a[g];l||(l=[],l.key=g,a[g]=l,c.add(l));l.add(this[f])}}return c}},index:{value:function(b,d){for(var e=this.length,c={},a=0;a<e;a++)if(a in
this){var f=b.call(d,this[a],a);String.Ht(f)||(c[f]=this[a])}return c}},insert:{value:function(b,d){this.splice(b,0,d)}},insertRange:{value:function(b,d){if(0===b)this.unshift.apply(this,d);else for(var e=0;e<d.length;e++)this.splice(b+e,0,d[e])}},remove:{value:function(b){b=this.indexOf(b);return 0<=b?(this.splice(b,1),!0):!1}},removeAt:{value:function(b){this.splice(b,1)}},removeRange:{value:function(b,d){return this.splice(b,d)}}});
Array.prototype.every||Object.defineProperty(Array.prototype,"every",{value:function(b,d){for(var e=this.length,c=0;c<e;c++)if(c in this&&!b.call(d,this[c],c,this))return!1;return!0}});Array.prototype.filter||Object.defineProperty(Array.prototype,"filter",{value:function(b,d){for(var e=this.length,c=[],a=0;a<e;a++)if(a in this){var f=this[a];b.call(d,f,a,this)&&c.push(f)}return c}});
Array.prototype.forEach||Object.defineProperty(Array.prototype,"forEach",{value:function(b,d){for(var e=this.length,c=0;c<e;c++)c in this&&b.call(d,this[c],c,this)}});Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:function(b,d){var e=this.length;if(e)for(var c=d||0;c<e;c++)if(this[c]===b)return c;return-1}});
Array.prototype.map||Object.defineProperty(Array.prototype,"map",{value:function(b,d){for(var e=this.length,c=Array(e),a=0;a<e;a++)a in this&&(c[a]=b.call(d,this[a],a,this));return c}});Array.parse=function(b){return eval("("+b+")")};Array.prototype.some||Object.defineProperty(Array.prototype,"some",{value:function(b,d){for(var e=this.length,c=0;c<e;c++)if(c in this&&b.call(d,this[c],c,this))return!0;return!1}});Array.toArray=function(b){return Array.prototype.slice.call(b)};RegExp.De="RegExp";
RegExp.parse=function(b){if(b.startsWith("/")){var d=b.lastIndexOf("/");if(1<d)return new RegExp(b.substring(1,d),b.substr(d+1))}return null};Error.De="Error";
Error.rU=function(b,d,e){b=Error(b);if(d)for(var c in d)b[c]=d[c];e&&(b.jV=e);if(!(R.Xf(b.stack)||R.Xf(b.fileName)||R.Xf(b.lineNumber))){d=b.stack.split("\n");e=d[0];for(c=b.fileName+":"+b.lineNumber;!R.Xf(e)&&-1===e.indexOf(c);)d.shift(),e=d[0];e=d[1];isNullOrUndefined(e)||(e=e.match(/@(.*):(\d+)$/),R.Xf(e)||(d.shift(),b.stack=d.join("\n"),b.fileName=e[1],b.lineNumber=parseInt(e[2])))}return b};R.ng=I.ng||function(){};R.ng.De="Debug";
R.ng.writeln||(R.ng.writeln=function(b){I.console?I.console.debug?I.console.debug(b):I.console.log&&I.console.log(b):I.opera&&I.opera.postError&&I.opera.postError(b)});R.ng.uB=function(b){R.ng.writeln(b);eval("debugger;")};R.ng.assert=function(b,d){b||(d="Assert failed: "+d,confirm(d+"\r\n\r\nBreak into debugger?")&&R.ng.uB(d))};R.ng.fail=function(b){R.ng.uB(b)};I.jb=Function;I.jb.De="Type";I.NA=function(b){this.De=b};I.NA.prototype={NJ:!0,getName:function(){return this.De}};
I.jb.vu=function(b){I.Mv||(I.Mv={});I.ZA||(I.ZA=[]);if(!I.Mv[b]){for(var d=self,e=b.split("."),c=0;c<e.length;c++){var a=e[c],f=d[a];f||(d[a]=f=new I.NA(e.slice(0,c+1).join(".")),0==c&&I.ZA.add(f));d=f}I.Mv[b]=d}};I.jb.prototype.Ha=function(b,d,e){this.prototype.constructor=this;this.De=b;this.PA=!0;this.Zj=d||Object;d&&(this.lr=!0);if(e){this.mr=[];for(var c=2;c<arguments.length;c++)e=arguments[c],this.mr.add(e)}};function ea(b,d){b.De=d;b.VA=!0}
I.jb.prototype.Qz=function(){if(this.lr){var b=this.Zj;b.lr&&b.Qz();for(var d in b.prototype){var e=b.prototype[d];this.prototype[d]||(this.prototype[d]=e)}delete this.lr}};I.jb.prototype.yQ||(I.jb.prototype.yQ=I.jb.prototype.Qz);function fa(b,d){return R.Xf(d)?!1:b==Object||d instanceof b?!0:ia(b,I.jb.bN(d))}
function ia(b,d){if(b==Object||b==d)return!0;if(b.PA)for(var e=d.Zj;e;){if(b==e)return!0;e=e.Zj}else if(b.VA){var c=d.mr;if(c&&c.contains(b))return!0;for(e=d.Zj;e;){if((c=e.mr)&&c.contains(b))return!0;e=e.Zj}}return!1}I.jb.mV=function(b){return 1==b.PA};I.jb.nV=function(b){return 1==b.LJ};I.jb.oV=function(b){return 1==b.LJ&&1==b.RA};I.jb.pV=function(b){return 1==b.VA};I.jb.qV=function(b){return 1==b.NJ};I.jb.kU=function(b,d){return fa(d,b)};I.jb.UV=function(b,d){return fa(d,b)?b:null};
I.jb.bN=function(b){var d=null;try{d=b.constructor}catch(e){}d&&d.De||(d=Object);return d};I.jb.QN=function(b){if(!b)return null;I.jb.Nv||(I.jb.Nv={});var d=I.jb.Nv[b];d||(d=eval(b),I.jb.Nv[b]=d);return d};I.jb.parse=function(b){return I.jb.QN(b)};R.li=function(){};R.li.Ha("Enum");
R.li.parse=function(b,d){var e=b.prototype;if(b.RA){for(var c=d.split("|"),a=0,f=!0,g=c.length-1;0<=g;g--){var l=c[g].trim(),h=!1;for(k in e)if(k===l){a|=e[k];h=!0;break}if(!h){f=!1;break}}if(f)return a}else for(var k in e)if(k===d)return e[k];throw"Invalid Enumeration Value";};
R.li.eU=function(b){var d=this.prototype;if(this.RA&&0!==b){var e=[];for(c in d)d[c]&b&&(e.length&&e.add(" | "),e.add(c));if(!e.length)throw"Invalid Enumeration Value";return e.join("")}for(var c in d)if(d[c]===b)return c;throw"Invalid Enumeration Value";};R.cd=function(){};R.cd.Ha("Delegate");R.cd.empty=function(){};R.cd.UJ=function(b,d,e){for(var c=0;c<b.length;c+=2)if(b[c]===d&&b[c+1]===e)return!0;return!1};
R.cd._create=function(b){function d(){if(2==b.length)return b[1].apply(b[0],arguments);for(var e=b.clone(),c=0;c<e.length;c+=2)R.cd.UJ(b,e[c],e[c+1])&&e[c+1].apply(e[c],arguments);return null}d.zg=b;return d};R.cd.create=function(b,d){return b?R.cd._create([b,d]):d};R.cd.oU=function(b,d){return b?d?R.cd._create((b.zg?b.zg:[null,b]).concat(d.zg?d.zg:[null,d])):b.zg?b:R.cd.create(null,b):d.zg?d:R.cd.create(null,d)};
R.cd.remove=function(b,d){if(!b||b===d)return null;if(!d)return b;var e=b.zg,c=null,a;d.zg?(c=d.zg[0],a=d.zg[1]):a=d;for(var f=0;f<e.length;f+=2)if(e[f]===c&&e[f+1]===a){if(2==e.length)return null;e.splice(f,2);return R.cd._create(e)}return b};R.cd.sU=function(b,d,e){e=e||"__"+(new Date).valueOf();self[e]=d?b:function(){try{delete self[e]}catch(c){self[e]=void 0}b.apply(null,arguments)};return e};R.cd.GU=function(b){delete self[b]};R.cd.mU=function(b){self[b]=R.cd.empty};R.Ce=function(){};
R.Ce.prototype={Rg:null,reset:null};R.Ce.getEnumerator=function(b){return b?b.getEnumerator?b.getEnumerator():new R.Kq(b):null};ea(R.Ce,"IEnumerator");R.Uq=function(){};R.Uq.prototype={getEnumerator:null};ea(R.Uq,"IEnumerable");R.Kq=function(b){this.eB=b;this.Dr=-1;this.current=null};R.Kq.prototype={Rg:function(){this.Dr++;this.current=this.eB[this.Dr];return this.Dr<this.eB.length},reset:function(){this.Dr=-1;this.current=null}};R.Kq.Ha("ArrayEnumerator",null,R.Ce);R.vA=function(){};
R.vA.prototype={Sc:null};ea(R.vA,"IDisposable");R.JA=function(b){this.Sr=R.Xf(b)?[]:[b];this.isEmpty=0==this.Sr.length};R.JA.prototype={append:function(b){R.Xf(b)||(this.Sr.add(b),this.isEmpty=!1);return this},clear:function(){this.Sr=[];this.isEmpty=!0},toString:function(b){return this.Sr.join(b||"")}};R.JA.Ha("StringBuilder");R.Sq=function(){};R.Sq.Ha("EventArgs");R.Sq.jI=new R.Sq;I.XMLHttpRequest||(I.XMLHttpRequest=function(){for(var b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<b.length;d++)try{return new ActiveXObject(b[d])}catch(e){}return null});
R.qA=function(){var b=R.qA;b.lr&&b.Qz();b.Zj.apply(this);this.cancel=!1};R.qA.Ha("CancelEventArgs",R.Sq);R.yJ=function(b,d){this.first=b;this.second=d};R.yJ.Ha("Tuple");R.Pd=function(b){this.zw=b;this.oh=null};R.Pd.prototype={Ua:function(){this.oh=R.Pd.hB(this.oh);return this.zw},Ab:function(b){this.zw!==b&&(this.zw=b,b=this.oh)&&(this.oh=null,R.Pd.GB(b))}};R.Pd.rw=[];R.Pd.nK={Sc:function(){R.Pd.rw.pop()}};R.Pd.SV=function(b){R.Pd.rw.push(b);return R.Pd.nK};
R.Pd.hB=function(b){var d=R.Pd.rw,e=d.length;if(e){b=b||[];for(var c=0;c<e;c++){var a=d[c];b.contains(a)||b.push(a)}return b}return null};R.Pd.GB=function(b){for(var d=0,e=b.length;d<e;d++)b[d].lV()};R.Pd.Ha("Observable");R.xA=function(b){this.kh=b||[];this.oh=null};
R.xA.prototype={add:function(b){this.kh.push(b);ka(this)},clear:function(){this.kh.clear();ka(this)},contains:function(b){return this.kh.contains(b)},getEnumerator:function(){this.oh=R.Pd.hB(this.oh);return this.kh.getEnumerator()},indexOf:function(b){return this.kh.indexOf(b)},insert:function(b,d){this.kh.insert(b,d);ka(this)},remove:function(b){return this.kh.remove(b)?(ka(this),!0):!1},removeAt:function(b){this.kh.removeAt(b);ka(this)},toArray:function(){return this.kh}};
function ka(b){var d=b.oh;d&&(b.oh=null,R.Pd.GB(d))}R.xA.Ha("ObservableCollection",null,R.Uq);R.tI=function(){};ea(R.tI,"IApplication");R.uI=function(){};ea(R.uI,"IContainer");R.yI=function(){};ea(R.yI,"IObjectFactory");R.vI=function(){};ea(R.vI,"IEventManager");R.wI=function(){};ea(R.wI,"IInitializable");self.jb.vu("XODText");self.jb.vu("XODTextOld");XODText.Tc=function(){};
XODText.vv=function(b,d){this.NB=b;this.nb=Array(8);this.nb[0]=d[0];this.nb[1]=d[1];this.nb[2]=d[2];this.nb[3]=d[3];this.nb[4]=d[4];this.nb[5]=d[5];this.nb[6]=d[6];this.nb[7]=d[7]};XODText.vv.prototype={NB:null,nb:null,Jc:function(){for(var b=Array(8),d=0;8>d;d++)b[d]=this.nb[d];return b}};XODText.tF={ff:String.fromCharCode(64256),fi:String.fromCharCode(64257),fl:String.fromCharCode(64258),ffi:String.fromCharCode(64259),ffl:String.fromCharCode(64260),ft:String.fromCharCode(64261),st:String.fromCharCode(64262)};
XODText.Ry=function(b){this.BJ=this.width=b};XODText.Ry.prototype={width:0,BJ:0};XODText.Yt=function(){};XODText.Yt.prototype={A:function(){},addColorStop:function(){}};XODText.Ql=function(b){this.mk=[];this.lB={};var d=new XODText.Da;d.set(1,0,0,1,0,0);this.mk.push(d);this.dm=b};
$.extend(XODText.Ql.prototype,{dm:null,WB:0,Mo:0,pw:0,canvas:{nW:0,height:0},hN:function(b){return this.lB[b]},fU:function(b,d){var e=new XODText.Ia;e.Mg(b);d.EH(e);return e.width()},em:function(b){if(Object.Pp(this.dm,b))return this.dm[b];b=b.split(" ")[1];console.assert(Object.Pp(this.dm,b),"Font "+b+" file not found");return this.dm[b]},kC:function(b,d){var e=new XODText.Da,c=b.ow,a=b.OB;e.set(a/c,0,0,a/c,0,0);e.EH(d)},font:null,save:function(){var b=new XODText.Da;b.hn(this.mk.peek());this.mk.push(b)},
restore:function(){this.mk.pop()},transform:function(b,d,e,c,a,f){var g=new XODText.Da;g.set(b,d,e,c,a,f);this.mk.peek().concat(g)},rotate:function(b){var d=new XODText.Da,e=Math.cos(b);b=Math.sin(b);d.set(e,b,-b,e,0,0);this.mk.peek().concat(d)},translate:function(b,d){this.Mo=b;this.pw=d},setLineDash:function(){},fillRect:function(){},fillText:function(b,d,e){var c=this.em(this.font);this.xr(b,d,e,c)},xr:function(b,d,e,c){if(!this.$l){this.translate(d,e);d=0;for(e=b.length;d<e;){var a=b.charCodeAt(d),
f=d;55296<=a&&55551>=a?(a=String.fromCodePoint((a-55296<<10)+(b.charCodeAt(d+1)-56320)+65536),d+=2):(a=String.fromCodePoint(a),d++);f=this.Mt&&f in this.Mt?this.Mt[f]:a;a=c.Ix(a);this.kC(c,a);var g=a.y1;a.y1=a.y2;a.y2=g;a.x1+=this.Mo;a.x2+=this.Mo;a.y1+=this.pw;a.y2+=this.pw;this.Mo+=a.width();g=Array(8);g[0]=a.x1;g[1]=a.y1;g[2]=a.x2;g[3]=a.y1;g[4]=a.x2;g[5]=a.y2;g[6]=a.x1;g[7]=a.y2;this.mk.peek().FH(g);this.lB[this.WB]=new XODText.vv(f,g);this.WB++}this.Mt=null}},measureText:function(b){var d=this.em(this.font);
return this.SB(b,d)},SB:function(b,d){var e=0;if(!this.$l)for(var c=0,a=b.length;c<a;){var f=b.charCodeAt(c);55296<=f&&55551>=f?(f=d.Ix(String.fromCodePoint((f-55296<<10)+(b.charCodeAt(c+1)-56320)+65536)),c+=2):(f=d.Ix(String.fromCodePoint(f)),c++);this.kC(d,f);e+=f.width()}return new XODText.Ry(e)},strokeRect:function(){},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.Yt},createRadialGradient:function(){return new XODText.Yt},
createPattern:function(){},addColorStop:function(){},beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.ImageData},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(b,d,e,c,
a,f){this.transform(b,d,e,c,a,f)},ro:function(b){this.rotate(b)},T:function(b,d){this.translate(b,d)},w:0,c:null,s:null,f:null,a:0,L:function(b,d,e,c){return this.createLinearGradient(b,d,e,c)},R:function(b,d,e,c,a,f){return this.createRadialGradient(b,d,e,c,a,f)},P:function(b,d){this.createPattern(b,d)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},cr:function(){this.strokeRect()},C:function(){this.clip()},M:function(b,
d){this.moveTo(b,d)},l:function(b,d){this.lineTo(b,d)},q:function(b,d,e,c){this.quadraticCurveTo(b,d,e,c)},B:function(b,d,e,c,a,f){this.bezierCurveTo(b,d,e,c,a,f)},n:null,x:function(b,d,e){var c=this.em(this.font);this.xr(b,d,e,c)},m:function(b){var d=this.em(this.font);return this.SB(b,d)},i:0,j:null,I:function(b,d,e){this.drawImage(b,d,e)},Z:function(b,d,e,c,a,f){this.setTransform(b,d,e,c,a,f)},d:function(b,d,e,c){return this.getImageData(b,d,e,c)},D:function(b,d,e){this.putImageData(b,d,e)},e:function(b,
d){this.scale(b,d)},tm:function(b){this.Mt=b},fillTextCustom:function(b,d,e){var c=this.em(this.font);this.xr(b,d,e,c)},xc:function(b,d,e){var c=this.em(this.font);this.xr(b,d,e,c)},cgb:function(){console.assert(!this.$l,"Custom Glyphs begin offset is incorrect");this.$l=!0},cge:function(){console.assert(this.$l,"Custom Glyphs end offset is incorrect");this.$l=!1},xw:function(b,d,e){1<b.length&&(b=b.substr(0,b.length-1));this.x(b,d,e)},xcw:function(b,d,e){1<b.length&&(b=b.substr(0,b.length-1));this.xc(b,
d,e)},createCanvas:function(){return{getContext:function(){return new XODText.Ql(this.dm)}}},$l:!1});Object.defineProperties(XODText.Ql.prototype,{n:{get:function(){return this.font},set:function(b){this.font=b}}});XODText.We=function(){this.af=[];this.Vb=[];this.Aa=[];this.hc=!1;this.im=null};
XODText.We.prototype={clear:function(){this.Pa="";this.Vb.clear();this.Aa.clear();this.hc=!1},Kb:function(){this.Vb=[];this.Aa=[];this.hc=!1},SK:function(b){function d(e){for(var c=e.length,a=0;a<c;a+=8){var f=b.aa({x:e[a],y:e[a+1]}),g=b.aa({x:e[a+2],y:e[a+3]}),l=b.aa({x:e[a+4],y:e[a+5]}),d=b.aa({x:e[a+6],y:e[a+7]}),k=new XODText.ab;k.fC(f.x,f.y,g.x,g.y,l.x,l.y,d.x,d.y);k=k.Lg();e[a]=k.x1;e[a+1]=k.y1;e[a+2]=k.x2;e[a+3]=k.y2;e[a+4]=k.x3;e[a+5]=k.y3;e[a+6]=k.x4;e[a+7]=k.y4}}d(this.Aa);this.af.forEach(function(b){d(b.nb);
b.wb.forEach(function(c){d(c.nb);c.zd.forEach(function(a){d(a)})})})},mu:function(b){this.Aa=b.Aa;this.Vb=b.Vb;this.Pa=b.Pa;this.hc=b.hc;this.af=function(b,e,c){function a(a,f){return a.slice(f,f+8)}function f(){var f=new XODText.ub;f.Wb=b[k+1];f.mb=p;p++;var g=b[k+1];f.ha=c.slice(g,g+b[k+2]);f.Jo=g;for(var g=b[k],l=0;l<g;++l)f.zd.push(a(e,8*(f.Wb+l)));n&&(n.Lo=f);return n=f}function g(a){var g=f(),c=b[k],e=b[k+3],l=b[k+4],h;if(e===l){e=Math.min(a.x1,a.x2);l=Math.max(a.x1,a.x2);h=g.zd[0];a=g.zd[c-
1];a=[h[1],h[3],h[5],h[7],a[1],a[3],a[5],a[7]];h=Math.min.apply(null,a);a=Math.max.apply(null,a);for(var m=0;m<c;++m)for(var p=g.zd[m],n=Math.min(p[0],p[2],p[4]),y=0;8>y;y+=2)p[y]=p[y]===n?e:l}else for(h=Math.min(a.y1,a.y2),a=Math.max(a.y1,a.y2),m=0;m<c;++m)for(p=g.zd[m],n=Math.min(p[1],p[3],p[5]),y=1;8>y;y+=2)p[y]=p[y]===n?a:h;c=g.nb;p=g.zd[0];m=p[2]-p[0];p=p[3]-p[1];0<m?(c[0]=e,c[1]=a,c[2]=l,c[3]=a,c[4]=l,c[5]=h,c[6]=e,c[7]=h):0>m?(c[0]=e,c[1]=h,c[2]=l,c[3]=h,c[4]=l,c[5]=a,c[6]=e,c[7]=a):0<p?(c[0]=
e,c[1]=h,c[2]=e,c[3]=a,c[4]=l,c[5]=a,c[6]=l,c[7]=h):0>p?(c[0]=l,c[1]=a,c[2]=l,c[3]=h,c[4]=e,c[5]=h,c[6]=e,c[7]=a):(c[0]=e,c[1]=a,c[2]=l,c[3]=a,c[4]=l,c[5]=h,c[6]=e,c[7]=h);k+=5;return g}function l(){var g=f();g.nb=a(b,k+3);k+=11;return g}function h(f){var c=new XODText.Ob;c.mb=f;var e=0<b[k];if(e){var h=6;f=b[k];var p=c.nb,z=b.slice(k+2,k+4),D=b.slice(k+4,k+6);p[0]=z[0];p[1]=z[1];p[2]=D[0];p[3]=z[1];p[4]=D[0];p[5]=D[1];p[6]=z[0];p[7]=D[1]}else h=10,f=-b[k],c.nb=a(b,k+2);e=e?g:l;p=new XODText.Ia;c.pb(p);
k+=h;n=null;for(h=0;h<f;++h)c.wb.push(e(p));c.ha=c.wb.map(function(a){return a.ha}).join(" ");c.Jo=c.wb[0]?c.wb[0].Jo:0;m&&(m.Ko=c);return m=c}var k=0,m=null,n=null,p=0;return function(){var a=[],f=b[k];k++;for(var g=0;g<f;++g)a.push(h(g));return a}()}(b.Va,this.Aa,this.Pa)},Ar:function(b){for(var d="",e=0,c,a,f;e<b.length;)c=b.charCodeAt(e),9==c?(d+=String.fromCharCode(10),e++):128>c?(d+=String.fromCharCode(c),e++):191<c&&224>c?(a=b.charCodeAt(e+1),d+=String.fromCharCode((c&31)<<6|a&63),e+=2):(a=
b.charCodeAt(e+1),f=b.charCodeAt(e+2),d+=String.fromCharCode((c&15)<<12|(a&63)<<6|f&63),e+=3);return d},YB:function(b,d){for(var e=new XODText.ub,c=R.Ce.getEnumerator(b.split(",")),a=-1;c.Rg();){var f=c.current.split(":"),g=parseInt(f[0]),l=0;1<f.length&&(l=parseInt(f[1]));a===g&&(++g,--l);for(a=g+l;g<=a;g++)f=d.hN(g),l=f.NB,1<l.length&&(l=l in XODText.tF?XODText.tF[l]:l.charAt(0)),e.es(l,f.Jc()),this.Vb.add(g),this.Aa.addRange(f.Jc())}return e},parse:function(b,d){var e=0,c=0,a=0;do{for(var f;b.advance();)if(f=
b.ta(),"F"===f)b.ma();else if("P"===f)b.ma();else if("L"===f){b.ma();f=new XODText.Ob;f.Oo(e++);0<this.af.length&&this.af[this.af.length-1].XG(f);this.af.add(f);for(var g=R.Ce.getEnumerator(b.current.textContent.split(" "));g.Rg();){var l=g.current;if(0<f.Ig()){this.Pa+=" ";this.Vb.add(-1);a++;var h=Array(8);f.Uc().Jc(h);this.Aa.addRange(h)}l=this.YB(l,d);l.Oo(c++);l.iC(a);f.wC(l);this.Pa+=l.ha;a+=l.Ub()}this.Pa+="\n";this.Vb.add(-2);a++;console.assert(0<f.Ig(),"No words in line");0<f.Ig()&&(h=Array(8),
f.Uc().Jc(h),this.Aa.addRange(h))}else console.assert("XML parser has encountered a symbol it can't process.");b.wa()}while(b.depth)},yL:function(b,d){var e=0,c=0,a=0;this.im=[];for(var f=0;f<b.length;++f)for(var g=b[f],l=0;l<g.length;++l)for(var h=g[l],k=0;k<h.length;++k){var m=new XODText.Ob;m.Oo(e++);0<this.af.length&&this.af[this.af.length-1].XG(m);this.af.add(m);for(var n=R.Ce.getEnumerator(h[k].split(" "));n.Rg();){var p=n.current;if(0<m.Ig()){this.im.push(this.Pa.length);this.Pa+=" ";this.Vb.add(-1);
a++;var q=Array(8);m.Uc().Jc(q);this.Aa.addRange(q)}p=this.YB(p,d);p.Oo(c++);p.iC(a);m.wC(p);this.Pa+=p.ha;a+=p.Ub()}this.im.push(this.Pa.length);this.Pa+="\n";this.Vb.add(-2);a++;console.assert(0<m.Ig(),"No words in line");0<m.Ig()&&(q=Array(8),m.Uc().Jc(q),this.Aa.addRange(q))}this.hc=!0},mz:function(b,d){try{var e=new window.Xe(b);console.assert("TextData"===e.ta(),"XML parser has encountered a symbol it can't process.");"TextData"===e.ta()&&(e.ma(),this.parse(e,d))}catch(c){console.warn("TextSelection has encountered an error: "+
c.message);return}this.hc=!0},ready:function(){return this.hc},yp:function(){return this.af.length?this.af[0]:new XODText.Ob},Ne:function(){return this.Aa},Pa:"",Vb:null,Aa:null,hc:!1};XODText.Ob=function(){this.wb=[];this.mb=-1;this.mc=[];this.nb=Array(8);this.Ko=null};
XODText.Ob.prototype={Kb:function(){this.mb=this.Ec=-1;this.mc=[]},pa:function(b){return this.mb===b.mb},Ig:function(){return this.wb.length},Gb:function(){return this.wb.length?this.wb[0]:new XODText.ub},Uc:function(){return this.wb.length?this.wb[this.wb.length-1]:new XODText.ub},OE:function(b){return 0>b||b>=this.Ig()?new XODText.ub:this.wb[b]},le:function(){return null==this.Ko?new XODText.Ob:this.Ko},pb:function(b){b.nl(this.nb)},Oo:function(b){this.mb=b},Gg:function(){if(this.mc.length)return this.mc[0];
var b=new XODText.ca,d=new XODText.ca,e=this.Gb(),c=this.Uc(),a=Array(8),f=Array(8);e.kd(0,a);b.x=(a[0]+a[2]+a[4]+a[6])/4;b.y=(a[1]+a[3]+a[5]+a[7])/4;c.kd(c.Ub()-1,f);d.x=(f[0]+f[2]+f[4]+f[6])/4;d.y=(f[1]+f[3]+f[5]+f[7])/4;.01>Math.abs(b.x-d.x)&&.01>Math.abs(b.y-d.y)&&this.mc.add(0);b=Math.atan2(d.y-b.y,d.x-b.x);b*=180/3.1415926;0>b&&(b+=360);this.mc.add(b);return 0},ha:"",za:null,mb:0,mc:null,nb:null,Ko:null,XG:function(b){this.Ko=b},wC:function(b){0<this.wb.length&&this.wb[this.wb.length-1].mR(b);
this.wb.add(b);var d=String.Ht(this.ha),e=Array(8);b.Jc(e);if(d)for(d=0;8>d;d++)this.nb[d]=e[d];else this.ha+=" ",XODText.ab.Pr(this.nb,e,!1,0);this.ha+=b.ha}};XODText.ub=function(){this.zd=[];this.mb=this.Wb=-1;this.nb=Array(8);this.Lo=null};
XODText.ub.prototype={Kb:function(){this.mb=this.Wb=-1},pa:function(b){return this.mb===b.mb},Ub:function(){return this.zd.length},Sf:function(){return this.ha.length},Xa:function(){return this.Jo},iC:function(b){this.Jo=b},Td:function(){return null==this.Lo?new XODText.ub:this.Lo},Pm:function(b,d){if(this.zd&&this.zd[b]){var e=this.zd[b][0],c=this.zd[b][2],a=this.zd[b][1],f=this.zd[b][5];a<f?(d[1]=f,d[3]=f,d[5]=a,d[7]=a):(d[1]=a,d[3]=a,d[5]=f,d[7]=f);d[0]=e;d[2]=c;d[4]=c;d[6]=e}else exports.utils.warn("default",
"getGlyphQuadInWordQuadFormat: No glyph with index "+b+" found.")},kd:function(b,d){for(var e=0;8>e;e++)d[e]=this.zd[b][e]},Jc:function(b){for(var d=0;8>d;d++)b[d]=this.nb[d]},pb:function(b){var d=new XODText.Ia;d.nl(this.nb);b[0]=d.x1;b[1]=d.y1;b[2]=d.x2;b[3]=d.y2},Oo:function(b){this.mb=this.Wb=b},Wb:0,ha:"",za:null,mb:0,Jo:0,nb:null,Lo:null,es:function(b,d){var e=String.Ht(this.ha);this.ha+=b;for(var c=Array(8),a=0;8>a;a++)c[a]=d[a];for(a=0;a<b.length;++a)this.zd.add(c);if(e)for(a=0;8>a;a++)this.nb[a]=
c[a];else XODText.ab.Pr(this.nb,c,!1,0)},mR:function(b){this.Lo=b}};XODTextOld.We=function(){};
XODTextOld.We.prototype={clear:function(){this.Va.clear();this.Pa="";this.Vb.clear();this.Aa.clear();this.hc=!1},Kb:function(){this.Va=[];this.Vb=[];this.Aa=[];this.hc=!1},Ar:function(b){for(var d="",e=0,c,a,f;e<b.length;)c=b.charCodeAt(e),9==c?(d+=String.fromCharCode(10),e++):128>c?(d+=String.fromCharCode(c),e++):191<c&&224>c?(a=b.charCodeAt(e+1),d+=String.fromCharCode((c&31)<<6|a&63),e+=2):(a=b.charCodeAt(e+1),f=b.charCodeAt(e+2),d+=String.fromCharCode((c&15)<<12|(a&63)<<6|f&63),e+=3);return d},
zO:function(b){this.Va=[];this.Vb=[];this.Aa=[];this.hc=!1;try{var d=new window.Xe(b);this.Pa="";d.ma();if(!d.advance())return;var e=d.current.textContent;this.Pa=e=this.Ar(e);this.Vb.clear();d.advance();for(var e=d.current.textContent,c=e.split(","),a=R.Ce.getEnumerator(c);a.Rg();){var f=a.current;try{var g=parseInt(f.trim());this.Vb.add(g)}catch(r){}}this.Va.clear();d.advance();for(var e=d.current.textContent,c=e.split(","),l=R.Ce.getEnumerator(c);l.Rg();){f=l.current;try{g=parseFloat(f.trim()),
this.Va.add(g)}catch(r){}}this.Aa.clear();d.advance();e=d.current.textContent;c=e.split(",");b=[];for(var d=[],e=0,h=R.Ce.getEnumerator(c);h.Rg();){f=h.current;switch(f){case "Q":e=1;break;case "R":e=2;break;case "S":e=3;break;default:e=0}if(e)b.add(0),d.add(e);else try{g=parseFloat(f.trim()),b.add(g),d.add(e)}catch(r){return}}for(var e=0,k=b.length,m,n,p,q,h=f=c=0;h<k;){var u=d[h];if(0<u)e=u,++h,3===e&&(c=b[h],f=b[h+1],h+=2);else if(1===e)for(g=0;8>g;++g)this.Aa.add(b[h++]);else 2===e?(m=b[h++],
n=b[h++],p=b[h++],q=b[h++],this.Aa.add(m),this.Aa.add(n),this.Aa.add(p),this.Aa.add(n),this.Aa.add(p),this.Aa.add(q),this.Aa.add(m),this.Aa.add(q)):3===e&&(m=b[h++],n=c,p=b[h++],q=f,this.Aa.add(m),this.Aa.add(n),this.Aa.add(p),this.Aa.add(n),this.Aa.add(p),this.Aa.add(q),this.Aa.add(m),this.Aa.add(q))}}catch(r){return}this.Pa.length&&this.Pa.length===this.Vb.length&&8*this.Pa.length===this.Aa.length&&(this.hc=!0)},ready:function(){return this.hc},yp:function(){var b=new XODTextOld.Ob;if(!this.Va.length)return b.Pe(this.Va,
-1,this.Pa,this.Aa,0),b;b.Pe(this.Va,1,this.Pa,this.Aa,1);return b},Ne:function(){return this.Aa},Va:null,Pa:null,Vb:null,Aa:null,hc:!1};XODTextOld.Ob=function(){};
XODTextOld.Ob.prototype={Kb:function(){this.Ec=-1;this.mb=0;this.mc=[]},Pe:function(b,d,e,c,a){this.Ec=d;this.mb=a;this.mc=[];this.yd=b;this.ha=e;this.za=c},pa:function(b){return this.Ec===b.Ec},Ig:function(){return Math.abs(this.yd[this.Ec])},Nh:function(){return 0<this.yd[this.Ec]},Gb:function(){var b=new XODTextOld.ub;b.Pe(this.yd,this.Ec+(this.Nh()?6:10),this.Ec,this.ha,this.za,1);return b},OE:function(b){if(0>b||b>=this.Ig()){var d=new XODTextOld.ub;d.Pe(this.yd,-1,-1,this.ha,this.za,0)}else{var e=
this.Nh()?6:10,c=this.Nh()?5:11,d=new XODTextOld.ub;d.Pe(this.yd,this.Ec+e+c*b,this.Ec,this.ha,this.za,1+b)}return d},le:function(){var b=this.Ec+parseInt(this.yd[this.Ec+1]);if(b>=this.yd.length){var d=new XODTextOld.Ob;d.Pe(this.yd,-1,this.ha,this.za,0)}else d=new XODTextOld.Ob,d.Pe(this.yd,b,this.ha,this.za,this.mb+1);return d},pb:function(b){if(this.Nh())b.x1=this.yd[this.Ec+2+0],b.y1=this.yd[this.Ec+2+1],b.x2=this.yd[this.Ec+2+2],b.y2=this.yd[this.Ec+2+3];else{for(var d=1.79769E308,e=XODText.Tc.oi,
c=1.79769E308,a=XODText.Tc.oi,f=0;4>f;++f)var g=this.yd[this.Ec+2+2*f],l=this.yd[this.Ec+2+2*f+1],d=Math.min(d,g),e=Math.max(e,g),c=Math.min(c,l),a=Math.max(a,l);b.x1=d;b.y1=c;b.x2=e;b.y2=a}},Gg:function(){if(this.mc.length)return this.mc[0];var b=new XODText.ca,d=new XODText.ca,e=new XODTextOld.ub;e.Kb();var c=this.Gb(),a=new XODTextOld.ub;a.Kb();for(var f=this.Gb();!f.pa(e);f=f.Td())a=f;e=Array(8);f=Array(8);c.kd(0,e);b.x=(e[0]+e[2]+e[4]+e[6])/4;b.y=(e[1]+e[3]+e[5]+e[7])/4;a.kd(a.Ub()-1,f);d.x=
(f[0]+f[2]+f[4]+f[6])/4;d.y=(f[1]+f[3]+f[5]+f[7])/4;.01>Math.abs(b.x-d.x)&&.01>Math.abs(b.y-d.y)&&this.mc.add(0);b=Math.atan2(d.y-b.y,d.x-b.x);b*=180/3.1415926;0>b&&(b+=360);this.mc.add(b);return 0},Ec:0,yd:null,ha:null,za:null,mb:0,mc:null};XODTextOld.ub=function(){};
XODTextOld.ub.prototype={Kb:function(){this.lh=this.Wb=-1;this.mb=0},Pe:function(b,d,e,c,a,f){this.Wb=d;this.lh=e;this.Va=b;this.ha=c;this.za=a;this.mb=f},pa:function(b){return this.Wb===b.Wb},Ub:function(){return parseInt(this.Va[this.Wb])},Sf:function(){return parseInt(this.Va[this.Wb+2])},Xa:function(){return parseInt(this.Va[this.Wb+1])},Nh:function(){return 0<this.Va[this.lh]},wN:function(){return Math.abs(this.Va[this.lh])},Td:function(){var b=this.Nh(),d=b?5:11;this.Wb>=this.lh+(b?6:10)+(this.wN()-
1)*d?(b=new XODTextOld.ub,b.Pe(this.Va,-1,-1,this.ha,this.za,0)):(b=new XODTextOld.ub,b.Pe(this.Va,this.Wb+d,this.lh,this.ha,this.za,this.mb+1));return b},XM:function(b){var d=this.Ub();return 0>b||b>=d?-1:parseInt(this.Va[this.Wb+1])+b},kd:function(b,d){var e=this.XM(b);if(!(0>e)){var c=new XODTextOld.Ob;c.Pe(this.Va,this.lh,this.ha,this.za,0);if(c.Nh()){var a=new XODText.Ia;c.pb(a);c=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2;e*=8;d[0]=this.za[e];d[1]=c;d[2]=this.za[e+2];d[3]=d[1];d[4]=this.za[e+
4];d[5]=a;d[6]=this.za[e+6];d[7]=d[5]}else for(e*=8,c=0;8>c;++c)d[c]=this.za[e+c]}},Jc:function(b){var d=new XODTextOld.Ob;d.Pe(this.Va,this.lh,this.ha,this.za,0);if(d.Nh()){var e=this.Va[this.Wb+3],c=this.Va[this.Wb+4];if(e>c){var a;a=e;e=c;c=a}a=new XODText.Ia;d.pb(a);d=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2;b[0]=e;b[1]=d;b[2]=c;b[3]=d;b[4]=c;b[5]=a;b[6]=e;b[7]=a}else for(e=this.Wb+3,c=0;8>c;++c)b[c]=this.Va[e+c]},pb:function(b){var d=new XODTextOld.Ob;d.Pe(this.Va,this.lh,this.ha,this.za,0);
if(d.Nh()){var e=this.Va[this.Wb+3],c=this.Va[this.Wb+4];if(e>c){var a;a=e;e=c;c=a}a=new XODText.Ia;d.pb(a);d=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2}else{e=1.79769E308;c=XODText.Tc.oi;d=1.79769E308;a=XODText.Tc.oi;for(var f=this.Wb+3,g=0;4>g;++g){var l=this.Va[f+2*g],h=this.Va[f+2*g+1],e=Math.min(e,l),c=Math.max(c,l),d=Math.min(d,h);a=Math.max(a,h)}}b[0]=e;b[1]=d;b[2]=c;b[3]=a},Wb:0,lh:0,Va:null,ha:null,za:null,mb:0};XODText.Ia=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.Ia.prototype={Oa:function(b,d,e,c){this.x1=b;this.y1=d;this.x2=e;this.y2=c},Mg:function(b){this.x1=b.x1;this.y1=b.y1;this.x2=b.x2;this.y2=b.y2},normalize:function(){if(this.x1>this.x2){var b;b=this.x1;this.x1=this.x2;this.x2=b}this.y1>this.y2&&(b=this.y1,this.y1=this.y2,this.y2=b)},set:function(b,d,e,c){this.x1=b;this.y1=d;this.x2=e;this.y2=c},Yp:function(b){return this.x2<b.x1||this.x1>b.x2||this.y2<b.y1||this.y1>b.y2},width:function(){var b=this.x2-this.x1;return 0>b?-b:b},height:function(){var b=
this.y2-this.y1;return 0>b?-b:b},nl:function(b){for(var d=1.79769E308,e=XODText.Tc.oi,c=1.79769E308,a=XODText.Tc.oi,f=0;4>f;++f)var g=b[2*f],l=b[2*f+1],d=Math.min(d,g),e=Math.max(e,g),c=Math.min(c,l),a=Math.max(a,l);this.x1=d;this.y1=c;this.x2=e;this.y2=a},Dt:function(b,d){var e,c,a,f,g,l,h,k;b.x1<b.x2?(e=b.x1,c=b.x2):(e=b.x2,c=b.x1);b.y1<b.y2?(a=b.y1,f=b.y2):(a=b.y2,f=b.y1);d.x1<d.x2?(g=d.x1,l=d.x2):(g=d.x2,l=d.x1);d.y1<d.y2?(h=d.y1,k=d.y2):(h=d.y2,k=d.y1);if(c<g||l<e||f<h||k<a)return this.x1=this.x2=
this.y1=this.y2=0,!1;this.x1=e<g?g:e;this.x2=c<l?c:l;this.y1=a<h?h:a;this.y2=f<k?f:k;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},yO:function(b){this.fK(b,b)},fK:function(b,d){this.normalize();this.x1-=b;this.x2+=b;this.y1-=d;this.y2+=d},union:function(b){b.x1<this.x1&&(this.x1=b.x1);b.y1<this.y1&&(this.y1=b.y1);b.x2>this.x2&&(this.x2=b.x2);b.y2>this.y2&&(this.y2=b.y2)},contains:function(b,d){if(this.x1<this.x2){if(b<this.x1||b>this.x2)return!1}else if(b<
this.x2||b>this.x1)return!1;if(this.y1<this.y2){if(d<this.y1||d>this.y2)return!1}else if(d<this.y2||d>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.ca=function(b,d){this.x=b;this.y=d};XODText.ca.pa=function(b,d){return b.x===d.x&&b.y===d.y};XODText.ca.CV=function(b,d){return b!==d};XODText.ca.uD=function(b){var d=new XODText.ca;d.x=b.x/2;d.y=b.y/2;return d};XODText.ca.multiply=function(b,d){var e=new XODText.ca;e.init(b.x*d,b.y*d);return e};
XODText.ca.ag=function(b,d){var e=new XODText.ca;e.init(b.x-d.x,b.y-d.y);return e};XODText.ca.un=function(b,d){var e=new XODText.ca;e.init(b.x+d.x,b.y+d.y);return e};XODText.ca.distance=function(b,d){var e=b.x-d.x,c=b.y-d.y;return Math.sqrt(e*e+c*c)};
XODText.ca.prototype={x:0,y:0,init:function(b,d){this.x=b;this.y=d},Ct:function(b){this.x=b.x;this.y=b.y},add:function(b){this.x+=b.x;this.y+=b.y},sub:function(b){this.x-=b.x;this.y-=b.y},normalize:function(){var b=Math.sqrt(this.x*this.x+this.y*this.y);return b?(this.x/=b,this.y/=b,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Sb:function(b){return this.x*b.x+this.y*b.y}};XODText.Tc.Ha("XODText.doubleData");XODText.vv.Ha("XODText.Letter");XODText.Ry.Ha("XODText.nsIDOMTextMetrics");
XODText.Yt.Ha("XODText.nsIDOMCanvasGradient");XODText.Ql.Ha("XODText.SelectionContext");XODText.We.Ha("XODText.SelectionInfo");XODText.Ob.Ha("XODText.Line");XODText.ub.Ha("XODText.Word");XODText.Ia.Ha("XODText.SelectionRect");XODText.ca.Ha("XODText.SelectionPoint");XODText.Tc.Jj=1.79769E308;XODText.Tc.oi=-1.79769E308;
(function(){self.jb.vu("XODText");XODText.Er=function(){};XODText.vd=function(b,e){this.x=b;this.y=e};XODText.vd.prototype={x:0,y:0};XODText.ab=function(){this.Iq=this.Gq=this.Hq=this.Fq=this.y2=this.x2=this.y1=this.x1=0};var b=RegExp("[-[\\]{}()*+?.,\\\\^$|#\\s]","g");XODText.Bv=function(d,e){this.lF=e&&("r"===e||"w"===e);this.text=e&&"w"===e?d.replace(/(\*+|.)/g,function(c){return"*"===c.charAt(0)?1==c.length?".*?":"*".repeat(c.length/2|0).replace(b,"\\$&"):c.replace(b,"\\$&")}):d};XODText.ab.Pr=
function(b,e,c,a){var f=new XODText.ca;f.init(0,0);var g=new XODText.ca;g.init(0,0);var l=new XODText.ca;l.init(0,0);var h=new XODText.ca;h.init(0,0);for(var k=0;4>k;++k){XODText.ab.KE(f,b,k);if(!f.normalize()&&c)return!1;k?2===k?l=XODText.ca.ag(l,f):1===k?h=XODText.ca.un(h,f):3===k&&(h=XODText.ca.ag(h,f)):l=XODText.ca.un(l,f);for(var m=Array(8),n=0;1>n;++n){for(var p=0;8>p;++p)m[p]=e[8*n+p];XODText.ab.KE(g,m,k);if(!g.normalize()&&c)return!1;k?2===k?l=XODText.ca.ag(l,g):1===k?h=XODText.ca.un(h,g):
3===k&&(h=XODText.ca.ag(h,g)):l=XODText.ca.un(l,g)}if(c&&Math.abs(f.Sb(g))<XODText.ab.BL)return!1}l=XODText.ca.uD(l);h=XODText.ca.uD(h);if(!l.normalize()&&c||!h.normalize()&&c||c&&!XODText.ab.oP(b,e,l,h,a,a/10))return!1;XODText.ab.inflate(b,e,1,l,h);return!0};XODText.ab.KE=function(b,e,c){var a=(c+1)%4;b.x=e[2*a]-e[2*c];b.y=e[2*a+1]-e[2*c+1]};XODText.ab.oP=function(b,e,c,a,f,g){var l=new XODText.ca;l.init(b[0],b[1]);var h=new XODText.ca;h.init(b[2],b[3]);var k=new XODText.ca;k.init(e[0],e[1]);var m=
new XODText.ca;m.init(e[2],e[3]);var n=l.Sb(c),p=h.Sb(c),q=k.Sb(c);c=m.Sb(c);if(n>p)var u=n,n=p,p=u;q>c&&(u=q,q=c,c=u);if(q-p>f||n-c>f)return!1;l.x=b[2];l.y=b[3];h.x=b[4];h.y=b[5];k.x=e[2];k.y=e[3];m.x=e[4];m.y=e[5];n=l.Sb(a);p=h.Sb(a);q=k.Sb(a);c=m.Sb(a);n>p&&(u=n,n=p,p=u);q>c&&(u=q,q=c,c=u);return Math.abs(n-q)>g||Math.abs(p-c)>g?!1:!0};XODText.ab.inflate=function(b,e,c,a,f){var g=!1;avx_=new XODText.ca;avx_.init(1,0);avy_=new XODText.ca;avy_.init(0,1);if(1E-4<=Math.abs(a.x-1)||1E-4<=Math.abs(a.y-
0)&&1E-4<=Math.abs(f.x-0)||1E-4<=Math.abs(f.y-1)){var g=!0,l=new XODText.Da;l.Oa(a.x,f.x,a.y,f.y,0,0);l=l.inverse();avx_.x=l.m_a;avx_.y=l.m_b;avy_.x=l.m_c;avy_.y=l.m_d}for(var l=XODText.Tc.Jj,h=XODText.Tc.oi,k=XODText.Tc.Jj,m=XODText.Tc.oi,n,p,q=0,u=0,r=0;4>r;++r){var v=new XODText.ca;v.init(b[2*r],b[2*r+1]);g?(n=v.Sb(avx_),p=v.Sb(avy_)):(n=v.x,p=v.y);r?(l>n&&(l=n,q=v.x),h<n&&(h=n),k>p&&(k=p,u=v.y),m<p&&(m=p)):(l=h=n,k=m=p,q=v.x,u=v.y);for(v=0;v<c;++v){var w=new XODText.ca;w.init(e[8*v+2*r],e[8*v+
2*r+1]);g?(n=w.Sb(avx_),p=w.Sb(avy_)):(n=w.x,p=w.y);l>n&&(l=n,q=w.x);h<n&&(h=n);k>p&&(k=p,u=w.y);m<p&&(m=p)}}e=new XODText.ca;e.init(q,u);q=e.Sb(f);c=XODText.ca.multiply(a,l-e.Sb(a));q=XODText.ca.multiply(f,k-q);e.x+=c.x+q.x;e.y+=c.y+q.y;g?(g=a.x,e=f.x,a=a.y,f=f.y,b[0]=g*l+e*k,b[1]=a*l+f*k,b[2]=g*h+e*k,b[3]=a*h+f*k,b[4]=g*h+e*m,b[5]=a*h+f*m,b[6]=g*l+e*m,b[7]=a*l+f*m):(b[0]=l,b[1]=k,b[2]=h,b[3]=k,b[4]=h,b[5]=m,b[6]=l,b[7]=m)};XODText.ab.prototype={_init:function(b,e,c,a,f,g,l,h){this.x1=b;this.y1=
e;this.x2=c;this.y2=a;this.Fq=f;this.Hq=g;this.Gq=l;this.Iq=h},fC:function(b,e,c,a,f,g,l,h){this.x1=b;this.y1=e;this.x2=c;this.y2=a;this.Fq=f;this.Hq=g;this.Gq=l;this.Iq=h},Lg:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.Fq,y3:this.Hq,x4:this.Gq,y4:this.Iq}},kN:function(){var b=this.Lg(),e=Math.min(b.x1,b.x2,b.x3,b.x4),c=Math.max(b.x1,b.x2,b.x3,b.x4),a=Math.min(b.y1,b.y2,b.y3,b.y4),f=Math.max(b.y1,b.y2,b.y3,b.y4);b.x1=e;b.x2=c;b.x3=c;b.x4=e;b.y1=a;b.y2=a;b.y3=f;b.y4=f;return b},
x1:0,y1:0,x2:0,y2:0,Fq:0,Hq:0,Gq:0,Iq:0};XODText.Da=function(){};XODText.Da.jl=function(b){var e=Math.cos(b);b=Math.sin(b);1E-7>Math.abs(b)&&(b=0);1E-7>Math.abs(e)&&(e=0);var c=new XODText.Da;c.Oa(e,-b,b,e,0,0);return c};XODText.Da.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,hn:function(b){this.m_a=b.m_a;this.m_b=b.m_b;this.m_c=b.m_c;this.m_d=b.m_d;this.m_h=b.m_h;this.m_v=b.m_v},Oa:function(b,e,c,a,f,g){this.m_a=b;this.m_b=e;this.m_c=c;this.m_d=a;this.m_h=f;this.m_v=g},set:function(b,e,c,a,f,g){this.m_a=
b;this.m_b=e;this.m_c=c;this.m_d=a;this.m_h=f;this.m_v=g},inverse:function(){var b=new XODText.Da,e=this.m_a*this.m_d-this.m_b*this.m_c;if(!e)return b;b.m_a=this.m_d/e;b.m_c=-this.m_c/e;b.m_h=(this.m_c*this.m_v-this.m_h*this.m_d)/e;b.m_b=-this.m_b/e;b.m_d=this.m_a/e;b.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/e;return b},aa:function(b){var e=b.x;b.x=b.x*this.m_a+b.y*this.m_c+this.m_h;b.y=e*this.m_b+b.y*this.m_d+this.m_v;return b},concat:function(b){var e=this.m_a,c=this.m_b,a=this.m_c,f=this.m_d;
this.m_a=b.m_a*e+b.m_b*a;this.m_b=b.m_a*c+b.m_b*f;this.m_c=b.m_c*e+b.m_d*a;this.m_d=b.m_c*c+b.m_d*f;this.m_h=b.m_h*e+b.m_v*a+this.m_h;this.m_v=b.m_h*c+b.m_v*f+this.m_v},HD:function(b){return this.m_a==b.m_a&&this.m_b==b.m_b&&this.m_c==b.m_c&&this.m_d==b.m_d&&this.m_h==b.m_h&&this.m_v==b.m_v},FH:function(b){var e=new XODText.vd(b[0],b[1]),c=new XODText.vd(b[2],b[3]),a=new XODText.vd(b[4],b[5]),f=new XODText.vd(b[6],b[7]),e=this.aa(e),c=this.aa(c),a=this.aa(a),f=this.aa(f);b[0]=e.x;b[1]=e.y;b[2]=c.x;
b[3]=c.y;b[4]=a.x;b[5]=a.y;b[6]=f.x;b[7]=f.y},EH:function(b){var e=Array(8);e[0]=b.x1;e[1]=b.y1;e[2]=b.x2;e[3]=b.y1;e[4]=b.x2;e[5]=b.y2;e[6]=b.x1;e[7]=b.y2;this.FH(e);b.nl(e)}};XODText.Eo=function(){};XODText.Eo.SJ=function(b,e){return b.Rc<e.Rc||b.Rc===e.Rc&&b._position<e._position||b.Rc===e.Rc&&b._position===e._position&&b.jk<e.jk?-1:b.Rc===e.Rc&&b._position===e._position&&b.jk===e.jk?0:1};XODText.Eo.prototype={_init:function(){this.Kr=[]},_add:function(b){this.Kr.add(b)},_clear:function(){this.Kr.clear()},
TJ:function(b,e){e.clear();for(var c=[],a=R.Ce.getEnumerator(this.Kr);a.Rg();){var f=a.current;c.add(f)}c.sort(XODText.Eo.SJ);for(var a="",g,l=[],h=[],k=XODText.Er.MA,m=0;m<c.length;++m)if(f=c[m],!(0>f.Rc||f.Rc>=b.length||0>f._position||0>=f.jk)){if(-1!==f.Rc){l=b[f.Rc].text;if(!l.ready())return!1;a=l.Pa;g=l.Vb;l=l.Ne();if(!a.length||a.length!==g.length||8*a.length!==l.length)continue;for(var k=XODText.Er.MA,n=R.Ce.getEnumerator(g);n.Rg();){var p=n.current;p>k&&(k=p)}h.clear();for(var q=0;q<k+1;++q)h.add(-1);
for(q=0;q<g.length;++q)n=g[q],0<=n&&(h[n]=q)}g=Array(8);for(n=f._position;n<f._position+f.jk&&!(n>k);++n)if(p=h[n],!(0>p)){for(q=0;8>q;++q)g[q]=l[8*p+q];var u=!1;if(1<=e.length&&(q=e[e.length-1],q.Rc===f.Rc)){var r=g[0]-g[2],v=g[1]-g[3];XODText.ab.Pr(q.Kf,g,!0,Math.sqrt(r*r+v*v))&&(u=a.charAt(p),q.ww.insert(q.ww.length,u),u=!0)}u||(u=a.charAt(p),p=new XODText.dw,p.Ho(f.Rc,u,g),e.add(p))}}return 0<e.length},Kr:null};XODText.Do=function(){};XODText.Do.prototype={Ho:function(b,e,c){this.Rc=b;this._position=
e;this.jk=c},Rc:0,_position:0,jk:0};XODText.dw=function(){};XODText.dw.prototype={Ho:function(b,e,c){this.Rc=b;this.ww=e;this.Kf=Array(8);for(b=0;8>b;++b)this.Kf[b]=c[b]},Rc:0,ww:null,Kf:null};XODText.Xr=function(){this.bf=new XODText.Ia;this.mw=new XODText.Ia};XODText.Xr.prototype={bf:null,mw:null,mh:null,nh:null};XODText.cb=function(){};XODText.Yb=function(){};XODText.ge=function(){this.lm={};this.If=0;this.Za=this.gm=this.Jr=this.wd=-1;this.lw=this.Ei=this.Mr=this.kk=!1;this.$e=[];this.Dc=[];this.Jf=
[];this.fb=this.Ja="";this.xd=[];this.vg=[];this.hm=[];this.jw=[];this.Ga={};this.Ga[" "]=null;this.Ga["\t"]=null;this.Ga["\n"]=null;this.Ga["."]=null;this.Ga[","]=null;this.Ga["?"]=null;this.Ga[":"]=null;this.Ga[";"]=null;this.Ga['"']=null;this.Ga["'"]=null;this.Ga["<"]=null;this.Ga[">"]=null;this.Ga["`"]=null;this.Ga["~"]=null;this.Ga["!"]=null;this.Ga["@"]=null;this.Ga["#"]=null;this.Ga.$=null;this.Ga["%"]=null;this.Ga["^"]=null;this.Ga["&"]=null;this.Ga["("]=null;this.Ga[")"]=null;this.Ga["["]=
null;this.Ga["]"]=null;this.Ga["{"]=null;this.Ga["}"]=null;this.Ga["|"]=null;this.Ga._=null;this.Ga["\\"]=null;this.Ga["-"]=null;this.Ga["="]=null;this.Ga["+"]=null;this.Ga["/"]=null;this.Ga["*"]=null};XODText.ge.Dg=function(b,e){for(var c=0,a=b.length-1,f=Math.floor((c+a)/2);b[f]!==e&&c<a;)e<b[f]?a=f-1:e>b[f]&&(c=f+1),f=Math.floor((c+a)/2);return b[f]!==e?!1:!0};XODText.ge.prototype={YK:function(b,e,c,a,f){this.Mr=!1;this.je=b.Jb();if(0>this.je.length||0>e.length||0<=a&&a>f)return!1;this.If=c;if(!this.hC(e))return!1;
b=a;e=this.je.length;if(0>b)if(0>f)b=0,f=e-1;else return!1;else if(f<b)return!1;console.assert(0<=b&&b<=f);if(b>=e||f>=e)return!1;this.Jr=b;this.gm=f;this.wd=this.Ng()?this.gm:this.Jr;++this.gm;this.fb=this.Ja="";this.vg.clear();this.hm.clear();this.$e.clear();this.Dc.clear();this.Mr=!0;this.Za=-1;this.kk=!1;return!0},run:function(b){var e=-1,c=-1,a=-1,f="",g="",l=new XODText.Eo;l._init();l._clear();if(!this.Mr||0>=this.lk.text.length)return new XODText.fh(XODText.Yb.zk,a,f,g,e,c);for(var h="",k=
-1,m=-1;;){if(this.wd===this.gm)return new XODText.fh(XODText.Yb.zk,a,f,g,e,c);var n=!0;if(!this.Ja.length||this.Za===this.Ja.length){if(!this.Ng()){if(this.Za===this.Ja.length){if(this.kF()&&!this.kk)return this.kk=!0,a=this.wd,new XODText.fh(XODText.Yb.Ns,a,f,g,e,c);++this.wd}if(this.wd===this.gm)return new XODText.fh(XODText.Yb.zk,a,f,g,e,c)}else if(this.Za===this.Ja.length){if(this.kF()&&!this.kk)return this.kk=!0,a=this.wd,new XODText.fh(XODText.Yb.Ns,a,f,g,e,c);if(this.wd===this.Jr)return new XODText.fh(XODText.Yb.zk,
a,f,g,e,c);--this.wd}(n=this.Xv(this.wd))?this.Ng()?(this.Za=this.Ja.length,--this.Za):this.Za=0:this.Za=0}this.kk=!1;n&&(console.assert(this.Za!==this.Ja.length),c=this.ZJ(l),h=c.bw,k=c.zr,m=c.yr,g=c.nr,e=c.Wr,c=c.Vr);if(n&&k!==this.Ja.length){console.assert(0<h.length);f=h;a=this.wd;this.Ng()?(this.Za=k)?--this.Za:this.Za=this.Ja.length:this.Za=m;if(this.Mp())for(b.clear(),h=[],l.TJ(this.je,h),l=0;l<h.length;++l)k=new XODText.ab,m=h[l],k.x1=m.Kf[0],k.y1=m.Kf[1],k.x2=m.Kf[2],k.y2=m.Kf[3],k.Fq=m.Kf[4],
k.Hq=m.Kf[5],k.Gq=m.Kf[6],k.Iq=m.Kf[7],b.add(k);return new XODText.fh(XODText.Yb.kp,a,f,g,e,c)}this.Za=this.Ja.length}},hC:function(b){if(0>=b.length)return!1;for(var e="",c=b.length,a=!1,f=0;f<c;++f){var g=this.Rr(b.charAt(f));" "===g?a||(e+=g,a=!0):(a=!1,e+=g)}this.MB=e;this.Jf.clear();b="";for(f=0;f<e.length;++f)g=e.charAt(f),this.hk(g)?this.Jf.add(b.length-1):b+=g;this.Et()||(b=b.toLowerCase());this.lk=this.OO()?new XODText.Bv(b,"r"):this.XO()?new XODText.Bv(b,"w"):new XODText.Bv(b,"");f=this.Ei;
this.lk.text.length?this.Ei=!1:(this.lk.text=e,this.Jf.clear(),this.Ei=!0);this.Ei!==f&&0<this.Ja.length&&!this.Xv(this.wd)&&(this.Za=this.Ja.length);return!0},setMode:function(b){var e=this.Mp(),c=this.Et(),a=this.Ng();this.If=b;var f=this.Mp();b=this.Et();var g=this.Ng(),l=!1;c!==b&&this.hC(this.MB);if(!(0>=this.Ja.length)){e!==f&&f&&!l&&(console.assert(0<=this.Za&&this.Za<=this.Ja.length),this.Xv(this.wd),l=!0);if(c!==b&&!l){console.assert(this.xd.length===this.Ja.length);console.assert(this.xd.length<=
this.fb.length);e=this.Ja.length;c="";for(f=0;f<e;++f)console.assert(0<=this.xd[f]&&this.xd[f]<this.fb.length),c+=this.Rr(this.fb.charAt(this.xd[f]));this.Ja=c;b||(this.Ja=this.Ja.toLowerCase())}if(a!==g)if(console.assert(0<=this.Za&&this.Za<=this.Ja.length),this.Za!==this.Ja.length)if(g)for(f=0;2>f;++f)this.Za&&--this.Za;else for(f=0;2>f;++f)this.Za!==this.Ja.length&&++this.Za;else g?(this.Za=this.Ja.length,--this.Za):this.Za=0}},Mp:function(){return 0<(this.If&XODText.cb.BD)},HO:function(){return 0<
(this.If&XODText.cb.zD)},Et:function(){return 0<(this.If&XODText.cb.AD)},XO:function(){return 0<(this.If&XODText.cb.FD)},OO:function(){return 0<(this.If&XODText.cb.DD)},WO:function(){return 0<(this.If&XODText.cb.ED)},Ng:function(){return 0<(this.If&XODText.cb.tx)},kF:function(){return 0<(this.If&XODText.cb.CD)},ZJ:function(b){var e,c,a,f=this.KJ();c=f.zr;a=f.yr;ambient=f.nr;var g=f.Wr,l=f.Vr;if(c===this.Ja.length)return f;var h,k;e=this.XJ(0,0,c,a,a-c);h=e.dC;k=e.qB;for(var m="",n=h;n<k;++n)m+=this.fb.charAt(n);
e=m;m="";if(this.HO()){var p=h,q=k,g=this.fb.length,u=l=0,r=n=!1,v=!1;if(p)for(--p;p;){var w=this.fb.charAt(p);n&&this.jh(w)&&u++;n||!v||this.jh(w)||(n=r=!0);if(30<=l||0<u){p++;break}if(this.vg.length>p&&-2===this.vg[p]){var z=this.fb.charAt(p+1);if("A"<=z&&"Z">=z){++p;r=!0;break}}--p;l++;v=v||this.jh(w)||"\n"===w}r||(p=h);n=q;for(u=0;q!==g;){this.jh(this.fb.charAt(q))&&(n=q-1,u++);if(10<=u||70<=l){q===g-1||this.jh(this.fb.charAt(q+1))||(q=n);break}q++}q===g&&--q;for(n=p;n<=q;++n)g=this.fb.charAt(n),
m="\n"===g?m+" ":m+g;g=h-p;l=k-p}f.nr=m;if(this.Mp()){console.assert(this.fb.length===this.vg.length);console.assert(k>=h);m=k-h;u=[];for(n=h;n<k;++n)u.insert(u.length,this.vg[n]);for(h=0;h<m&&0>u[h];)++h;for(n=k=h;h<m;)if(p=u[h],h===m-1)r=this.wd,p=u[n],q=u[h],0>q&&(q=u[k]),console.assert(0<=r&&0<=p&&q>=p),v=new XODText.Do,v.Ho(r,p,q-p+1),b._add(v),++h;else if(-1===p)console.assert(0<=u[k]),++h;else if(-2===p){console.assert(0<=u[k]);r=this.wd;p=u[n];q=u[k];console.assert(0<=r&&0<=p&&q>=p);v=new XODText.Do;
v.Ho(r,p,q-p+1);b._add(v);for(++h;h<m&&0>u[h];)++h;n=k=h}else 0<=p&&(console.assert(0<=u[k]),k===h||this.VJ(u,k,h)?(k=h,++h):(r=this.wd,p=u[n],q=u[k],console.assert(0<=r&&0<=p&&q>=p),v=new XODText.Do,v.Ho(r,p,q-p+1),b._add(v),n=k=h))}f.bw=e;f.zr=c;f.yr=a;f.Wr=g;f.Vr=l;return f},fm:null,Fb:null,tB:function(d){return d.replace(b,"\\$&")},tK:function(b,e,c){Object.Pp(this.lm,b.text)?this.Fb=this.lm[b.text]:(this.Fb=b.lF?{re:new RegExp(b.text,"g"),matches:null}:{re:new RegExp(this.tB(b.text),"g"),matches:null},
this.lm[b.text]=this.Fb);this.Fb.re.lastIndex=c;this.fm=this.Fb.re.exec(e);return null!=this.fm?{start:this.Fb.re.lastIndex-this.fm[0].length,length:this.fm[0].length}:{start:-1,length:0}},uK:function(b,e,c){this.Fb=null;Object.Pp(this.lm,b.text)&&(this.Fb=this.lm[b.text]);if(null===this.Fb||null==this.Fb.matches)this.Fb=b.lF?{re:new RegExp(b.text,"g"),matches:[],xz:null}:{re:new RegExp(this.tB(b.text),"g"),matches:[],xz:null},this.lm[b.text]=this.Fb;if(this.Fb.xz!==e){for(this.Fb.matches=[];null!==
(this.fm=this.Fb.re.exec(e));)this.Fb.matches.push({start:this.fm.index,end:this.Fb.re.lastIndex});this.Fb.xz=e}if(0<this.Fb.matches.length)for(b=this.Fb.matches.length-1;0<=b;b--)if(this.Fb.matches[b].end<c)return{start:this.Fb.matches[b].start,length:this.Fb.matches[b].end-this.Fb.matches[b].start};return{start:-1,length:0}},KJ:function(){var b,e,c,a;c=this.Za;for(a=this.Ja.length;;){var f=!1;console.assert(0<this.lk.text.length);if(this.Ng()){if(c===a){b=e=a;break}e=this.uK(this.lk,this.Ja,c)}else e=
this.tK(this.lk,this.Ja,c);b=e.start;if(0>b){b=e=a;break}e=e.start+e.length;this.Ng()?(c=b,0!==c?--c:c=a):c=e;if(!this.Ei)if(0<this.Jf.length)if(this.$e.length||this.Dc.length){for(var g=this.Dc.length,l=this.$e.length,h=b-0,k=R.Ce.getEnumerator(this.Jf);k.Rg();){var m=k.current,m=h+m;if(!XODText.ge.Dg(this.$e,m)&&!XODText.ge.Dg(this.Dc,m)){f=!0;break}}if(f)continue;for(var k=b-0,n=e-0-1,p=m=this.iw(this.Dc,k);p!==g;++p){var q=this.Dc[p];if(q>=k&&q<n&&(m=q-h,!XODText.ge.Dg(this.Jf,m))){f=!0;break}if(q>=
n)break}if(f)continue;for(p=m=this.iw(this.$e,k);p!==l;++p){q=this.$e[p];if(q>=k&&q<n&&(m=q-h,!XODText.ge.Dg(this.Jf,m))){f=!0;break}if(q>=n)break}if(f)continue}else continue;else if(this.Dc.length)for(k=b-0,n=e-0-1,g=this.Dc.length,p=m=this.iw(this.Dc,k);p!==g&&(q=this.Dc[p],q>=k&&q<n||!(q>=n));++p);if(this.WO()){if(0!==b&&(q=b-0-1,!(XODText.ge.Dg(this.$e,q)||XODText.ge.Dg(this.Dc,q)||this.jh(this.Ja.charAt(b))||this.jh(this.Ja.charAt(b-1)))))continue;if(e!==a&&(q=e-0-1,!(XODText.ge.Dg(this.$e,q)||
XODText.ge.Dg(this.Dc,q)||this.jh(this.Ja.charAt(e-1))||this.jh(this.Ja.charAt(e)))))continue}break}return new XODText.Av("",b,e,"",-1,-1)},jh:function(b){return Object.Pp(this.Ga,b)?!0:this.Hr(b)||this.jK(b)},iw:function(b,e){var c=b.indexOf(e);0>c&&(c=~c);return c},Rr:function(b){b=b.charCodeAt(0);if(39===b||8217===b)b=39;else if(34===b||8220===b||8221===b)b=34;return String.fromCharCode(b)},hk:function(b){var e=b;b=b.charCodeAt(0);return"-"===e||8208===b||8209===b||65293===b||173===b},iK:function(b){var e=
b;b=b.charCodeAt(0);return","===e||65292===b||65294===b},jK:function(b){var e=b;b=b.charCodeAt(0);return 32<b&&48>b||57<b&&65>b||90<b&&97>b||122<b&&127>b||this.iK(e)||this.hk(e)||173===b||1642<=b&&(1645>=b||8210<=b&&8231>=b||8240<=b&&8269>=b||8592<=b&&9215>=b||12441<=b&&12444>=b||65281<=b&&65291>=b||65295===b||65306<=b&&65312>=b||65344===b||65371<=b&&65374>=b)?!0:!1},Hr:function(b){b=b.charCodeAt(0);return 32===b||1<=b&&31>=b||160===b||8192<=b&&(8207>=b||8232<=b&&8239>=b||8298<=b&&8303>=b)?!0:!1},
Xv:function(b){if(0>b||b>=this.je.length)return!1;this.fb=this.Ja="";this.xd.clear();this.$e.clear();this.Dc.clear();var e=this.Mp(),c=[],a=[];if(e){var f=this.je[b].text;if(!f.ready())return!1;b=f.Pa;c=f.Vb;a=f.Ne();this.vg.clear();this.lw&&this.jw.clear()}else{f=this.je[b].text;if(!f.ready())return!1;b=f.Pa}if(0>=b.length)return!1;for(var f="",g=b.length,l=-1,h=0;h<g;++h){var k=b.charAt(h),m=-1;e&&(m=c[h]);if("\n"===k){for(k=h-1;0<=k&&" "===b.charAt(k);)--k;if(!(0>k||this.hk(b.charAt(k)))){for(k=
h+1;k<g&&" "===b.charAt(k);)++k;k>=g||this.hk(b.charAt(k))||(f+=" ",this.xd.add(this.fb.length),this.fb+=" ",e&&(l=l<m?m:l,this.Rv(m,a,8*h)))}}else if(" "===k)h<g-1&&("\n"===b.charAt(h+1)||" "===b.charAt(h+1))||(f+=k,this.xd.add(this.fb.length),this.fb+=k,e&&(l=l<m?m:l,this.Rv(m,a,8*h)));else{if(this.hk(k))if(this.Ei)f+=this.Rr(k),this.xd.add(this.fb.length);else{var n=f.length-1;h<g-1&&"\n"===b.charAt(h+1)?this.$e.add(n):this.Dc.length&&n===this.Dc[this.Dc.length-1]||this.Dc.add(n)}else f+=this.Rr(k),
this.xd.add(this.fb.length);this.fb+=k;e&&(l=l<m?m:l,this.Rv(m,a,8*h))}}console.assert(f.length===this.xd.length);this.Ja=f;if(e){g=this.vg.length;this.hm.clear();for(h=0;h<l+1;++h)this.hm.add(!0);for(h=0;h<g;++h)m=this.vg[h],0<=m&&(this.hm[m]=!1)}this.Et()||(this.Ja=this.Ja.toLowerCase());this.$e.sort();this.Dc.sort();this.Jf.sort();return!0},Rv:function(b,e,c){this.vg.add(b);if(this.lw)for(b=c;b<c+8;++b)this.jw.add(e[b])},XJ:function(b,e,c,a,f){c?(b=this.xd[c-1],++b):b=0;a<this.xd.length?e=this.xd[a]:
(e=this.xd[a-1],e===this.fb.length-1&&++e);console.assert(b>=c&&e>=a&&e>=b);if(!this.Ei){if(!XODText.ge.Dg(this.Jf,f-1))for(;0<e&&this.hk(this.fb.charAt(e-1));)--e;c=this.fb.length;if(!XODText.ge.Dg(this.Jf,-1))for(;b<c-1&&this.hk(this.fb.charAt(b));)++b;e<b&&(console.assert(!1),e=b)}return new XODText.zv(b,e)},VJ:function(b,e,c){console.assert(0<=e&&e<=c&&e<b.length&&c<b.length);e=b[e];b=b[c];if(e===b||e+1===b)return!0;for(c=!0;0<=e&&e<b-1;)if(!this.hm[++e]){c=!1;break}return c},Mr:!1,je:null,If:0,
Ga:null,wd:0,Jr:0,gm:0,Za:0,kk:!1,fb:null,Ja:null,xd:null,vg:null,hm:null,lk:null,Ei:!1,MB:null,$e:null,Dc:null,Jf:null,jw:null,lw:!1};XODText.ti=function(b){this.ha="";this.Lr=-1;this.za=[];this.Ka="";this.je=b.Jb();this.wb=new XODText.We;this.wb.Kb();this.lb=[];this.Or=[];this.Nr=[]};XODText.ti.prototype={Ne:function(){for(var b=this.za.length/8,e=[],c=0;c<b;++c){var a=new XODText.ab,f=8*c;a.fC(this.za[f],this.za[f+1],this.za[f+2],this.za[f+3],this.za[f+4],this.za[f+5],this.za[f+6],this.za[f+7]);
e.add(a)}return e},Hr:function(b){b=b.charCodeAt(0);return 32===b||1<=b&&31>=b||160===b||8192<=b&&(8207>=b||8232<=b&&8239>=b||8298<=b&&8303>=b)?!0:!1},eC:function(b,e){this.za.clear();this.Ka="";e.normalize();var c=[],a="",f;for(f=b-1;f<b+2;f++)this.Gi(f)&&(c.push({idx:f,yf:this.ha}),a+=this.ha);if(0===c.length||0===a.length||!this.Gi(b))return!1;var g=new XODText.Ia,l=Array(8),h,k,m=new XODText.Ob;m.Kb();var n,p=new XODText.ub;p.Kb();var q=[],u=!1;for(k=this.wb.yp();!k.pa(m);k=k.le())if(k.pb(g),
g.normalize(),!e.Yp(g)){var r=[null,null],v=[null,null],w=-1;h=-1;for(n=k.Gb();!n.pa(p);n=n.Td())if(n.Jc(l),g.nl(l),!e.Yp(g)){h=n.Sf();var z=n.Xa();-1===w&&(w=z);f=q.length;if(0<h&&0<f){u&&("\n"!==q[0]&&(this.Hr(q[f-1])?q[f-1]="\n":q.add("\n")),u=!1);for(f=0;f<q.length;++f)this.Ka+=q[f];q.clear()}for(f=0;f<=h;++f)z+f<this.ha.length&&(f<h?this.Ka+=this.ha.charAt(z+f):q.add(this.ha.charAt(z+f)));if(0<h){f=g.x2-g.x1;var D=g.y2-g.y1;this.yg(l,Math.sqrt(f*f+D*D)/h*3)}h=z+h}u=!0;r[0]=w;for(f=n=0;f<c.length;f++)if(c[f].idx===
b){n+=r[0];break}else c[f].idx<b&&(n+=c[f].yf.length);v[0]=a.substring(Math.max(0,n-100),n);if(-1!==h){r[1]=h;for(f=n=0;f<c.length;f++)if(c[f].idx===b){n+=h;break}else c[f].idx<b&&(n+=c[f].yf.length);v[1]=a.substr(n+1,100)}null!==r[0]&&null!==r[1]&&this.Nr.push(r);null!==v[0]&&null!==v[1]&&this.Or.push(v)}return 0<this.za.length},RJ:function(){var b,e=new XODText.Ob;e.Kb();var c=Array(8),a=Array(8),f=.1,g=-100;for(b=this.wb.yp();!b.pa(e);b=b.le()){var l=new XODText.ca,h=new XODText.ca,k=new XODText.ub;
k.Kb();var m=b.Gb(),n=new XODText.ub;n.Kb();for(var p=b.Gb();!p.pa(k);p=p.Td())n=p;m.kd(0,c);l.x=(c[0]+c[2]+c[4]+c[6])/4;l.y=(c[1]+c[3]+c[5]+c[7])/4;n.kd(n.Ub()-1,a);h.x=(a[0]+a[2]+a[4]+a[6])/4;h.y=(a[1]+a[3]+a[5]+a[7])/4;k=XODText.ca.distance(l,h);k>f&&(g=Math.atan2(h.y-l.y,h.x-l.x),g*=180/3.1415926,g=Math.round(g),0>g&&(g+=360),f=k)}this.mc=g;this.kw=2>Math.abs(this.mc)||2>Math.abs(this.mc-180)},PG:function(b,e){this.za.clear();this.Ka="";e.normalize();var c=[],a="",f;for(f=b-1;f<b+2;f++)this.Gi(f)&&
(c.push({idx:f,yf:this.ha}),a+=this.ha);if(0===c.length||0===a.length||!this.Gi(b))return!1;var g=new XODText.Ia,l=Array(8),h,k,m,n=new XODText.Ob;n.Kb();var p,q=new XODText.ub;q.Kb();var u=[],r=!1;for(m=this.wb.yp();!m.pa(n);m=m.le())if(m.pb(g),g.normalize(),!e.Yp(g)){var v=[null,null],w=[null,null],z=-1,D=!0;for(p=m.Gb();!p.pa(q);p=p.Td())if(p.Jc(l),g.nl(l),!e.Yp(g)){h=p.Sf();var A=p.Xa(),x=u.length;if(0<h&&0<x){r&&("\n"!==u[0]&&(this.Hr(u[x-1])?u[x-1]="\n":u.add("\n")),r=!1);for(f=0;f<u.length;++f)this.Ka+=
u[f];u.clear()}var x=0,y=Array(8),E=Array(8),F=!1,B=!1;for(k=0;k<h;++k){var G=A+k;if(G<this.ha.length){f=Array(8);var H=new XODText.Ia;p.kd(k,f);H.nl(f);if(e.Yp(H))0===x?F=!0:B=!0;else{z=G;x++;if(1===x){if(D){v[0]=G;for(f=D=0;f<c.length;f++)if(c[f].idx===b){D+=G;break}else c[f].idx<b&&(D+=c[f].yf.length);w[0]=a.substring(Math.max(0,D-100),D);D=!1}F&&p.kd(k,y)}p.kd(k,E);k<h?this.Ka+=this.ha.charAt(G):u.add(this.ha.charAt(G))}}}"\n"!=u[h]&&u.push(" ");0<x&&(F&&this.ak(l,y,!0),B&&this.ak(l,E,!1),g.nl(l),
h=g.x2-g.x1,A=g.y2-g.y1,this.yg(l,Math.sqrt(h*h+A*A)/x*3))}r=!0;if(-1!==z){v[1]=z;for(f=p=0;f<c.length;f++)if(c[f].idx===b){p+=z;break}else c[f].idx<b&&(p+=c[f].yf.length);w[1]=a.substr(p+1,100)}null!==v[0]&&null!==v[1]&&this.Nr.push(v);null!==w[0]&&null!==w[1]&&this.Or.push(w)}return 0<this.za.length},AN:function(b,e,c){for(var a=[],f=-1,g="",l=0;l<e.length;l++){var h=this.KN(b,e[l][0],e[l][1]);if(h.status)-1!==f||void 0===h.bl||null===h.bl||isNaN(h.bl)||(f=h.bl),h.bl===f&&Array.prototype.push.apply(a,
h.value),g+=this.Ka;else break}-1===f&&(f=0);return 0===a.length?{status:!1}:g.replace(/( |\n)/gm,"")!==c.replace(/( |\n)/gm,"")?{status:!1}:{status:!0,value:a,bl:f}},KN:function(b,e,c,a){if(20>=e.length||20>=c.length)return{status:!1};var f=[],g="",l=[],h=!0,k=0,m,n;for(m=b-1;m<b+2;m++)if(this.Gi(m))if(f.push({idx:m,yf:this.ha}),g+=this.ha,null!==this.je[m].text.im){for(n=0;n<this.je[m].text.im.length;n++)l.push(this.je[m].text.im[n]+k);k+=this.ha.length}else h=!1;if(0===f.length||0===g.length)return{status:!1};
k=[];m=0;h?(n=g.replace(/( |\n)/gm,""),e=e.replace(/( |\n)/gm,"")):n=g;for(;!(0===n.length||n.length<e.length||(b=n.indexOf(e),0>b));)k.push(m+b+e.length),n=n.substr(b+1),m+=b+1;if(0===k.length)return{status:!1};e=[];m=k[0]+1;h?(n=g.replace(/( |\n)/gm,"").substring(k[0]+1),c=c.replace(/( |\n)/gm,"")):n=g.substring(k[0]+1);for(;!(0===n.length||n.length<c.length||(b=n.indexOf(c),0>b));)e.push(m+b),n=n.substr(b+1),m+=b+1;if(0===e.length)return{status:!1};c=[];for(m=0;m<k.length;m++)for(n=0;n<e.length;n++)if(k[m]+
1<=e[n]&&(b=[],b.push(k[m]),b.push(e[n]),c.push(b)),1<c.length)return{status:!1};if(1!==c.length)return{status:!1};if(h){for(m=0;m<l.length&&!(c[0][0]<l[m]);m++)c[0][0]++;for(m=0;m<l.length&&!(c[0][1]<l[m]);m++)c[0][1]++}h=[0,0];l=-1;for(m=k=0;m<f.length;m++){e=f[m].yf;if(c[0][0]>=k&&c[0][0]<k+e.length){l=f[m].idx;h[0]=c[0][0]-k;break}k+=e.length}if(-1===l)return{status:!1};n=-1;for(m=k=0;m<f.length;m++){e=f[m].yf;if(c[0][1]>=k&&c[0][1]<k+e.length){n=f[m].idx;h[1]=c[0][1]-k;break}k+=e.length}if(-1===
n)return{status:!1};if(l===n)f=this.ey(l,h[0],h[1]-1);else{for(m=0;m<f.length&&f[m].idx!==l;m++);f=this.ey(l,h[0],f[m].yf.length-1);this.Ka=g.substring(c[0][0],c[0][1])}if(f.status){if(a&&this.Ka.replace(/( |\n)/gm,"")!==a.replace(/( |\n)/gm,""))return{status:!1};f.bl=l;return f}return{status:!1}},BN:function(b,e,c){for(var a=[],f="",g=0;g<e.length;g++){var l=Number(e[g][0]),h=Number(e[g][1]);if(isNaN(l)||isNaN(h))return exports.utils.warn("getRectangularSelectionFromTextIndices: could not parse index-based selectors as numbers."),
{status:!1};l=this.ey(b,l,h);if(l.status)Array.prototype.push.apply(a,l.value),f+=this.Ka;else return{status:!1}}return 0===a.length?{status:!1}:f.replace(/( |\n)/gm,"")!==c.replace(/( |\n)/gm,"")?{status:!1}:{status:!0,value:a}},ey:function(b,e,c,a){if(!this.Gi(b))return{status:!1};var f=new XODText.ub;f.Kb();b=new XODText.Ob;b.Kb();this.Ka=this.ha.substring(e,Math.min(c+1,this.ha.length));if(a&&this.Ka.replace(/( |\n)/gm,"")!==a.replace(/( |\n)/gm,""))return{status:!1};a=0;for(var g,l;;){if(a>=
this.lb.length)return{status:!1};g=this.lb[a].mh;l=this.lb[a].nh;if(l.Uc().Xa()+l.Uc().Ub()>=e&&g.Gb().Xa()<=e)break;a++}for(var h=this.lb[a],k=h.mh;;){if(k.pa(b))return{status:!1};if(this.qh(k.Gg())){if(k.Uc().Xa()+k.Uc().Ub()>=e&&k.Gb().Xa()<=e)break;if(k.pa(h.nh)||k.pa(b))return{status:!1};k=k.le()}}for(var m=k.Gb();;){if(m.pa(f))return{status:!1};if(m.Xa()+m.Ub()>=e&&m.Xa()<=e)break;m=m.Td()}for(var n=0;;){if(n>=this.lb.length)return{status:!1};g=this.lb[n].mh;l=this.lb[n].nh;if(l.Uc().Xa()+l.Uc().Ub()>=
c&&g.Gb().Xa()<=c)break;n++}for(var p=this.lb[n].mh;;){if(p.pa(b))return{status:!1};if(this.qh(p.Gg())){if(p.Uc().Xa()+p.Uc().Ub()>=c&&p.Gb().Xa()<=c)break;if(p.pa(h.nh))return{status:!1};p=p.le()}}for(h=p.Gb();;){if(h.pa(f))return{status:!1};if(h.Xa()+h.Ub()>=c&&h.Xa()<=c)break;h=h.Td()}for(var f=[],q=Array(4),u=a;u<=n;u++)if(g=this.lb[u].mh,l=this.lb[u].nh,u===a&&u!==n)for(g=k;!g.pa(b);g=g.le()){if(this.qh(g.Gg())){var r=Array(8);g.pa(k)?m.Pm(Math.min(e-m.Xa(),m.Ub()-1),r):(g.Gb().pb(q),r[0]=q[0],
r[1]=q[3],r[6]=q[0],r[7]=q[1]);g.Uc().pb(q);r[2]=q[2];r[3]=q[3];r[4]=q[2];r[5]=q[1];f.push(r);if(g.pa(l))break}}else if(u!==a&&u===n)for(;;g=g.le()){if(g.pa(b))return{status:!1};if(this.qh(g.Gg())&&(r=Array(8),g.pa(p)?h.Pm(Math.min(c-h.Xa(),h.Ub()-1),r):(g.Uc().pb(q),r[2]=q[2],r[3]=q[3],r[4]=q[2],r[5]=q[1]),g.Gb().pb(q),r[0]=q[0],r[1]=q[3],r[6]=q[0],r[7]=q[1],f.push(r),g.pa(p)))break}else if(u===a&&u===n)for(g=k;;g=g.le()){if(g.pa(b))return{status:!1};if(this.qh(g.Gg())&&(r=Array(8),g.pa(k)&&!g.pa(p)?
(m.Pm(Math.min(e-m.Xa(),m.Ub()-1),r),g.Uc().pb(q),r[2]=q[2],r[3]=q[3],r[4]=q[2],r[5]=q[1]):!g.pa(k)&&g.pa(p)?(h.Pm(Math.min(c-h.Xa(),h.Ub()-1),r),g.Gb().pb(q),r[0]=q[0],r[1]=q[3],r[6]=q[0],r[7]=q[1]):g.pa(k)&&g.pa(p)?(m.Pm(Math.min(e-m.Xa(),m.Ub()-1),r),q[0]=r[6],q[1]=r[7],q[2]=r[2],q[3]=r[3],h.Pm(Math.min(c-h.Xa(),h.Ub()-1),r),r[0]=q[0],r[1]=q[3],r[6]=q[0],r[7]=q[1]):(g.Gb().pb(q),r[0]=q[0],r[1]=q[3],r[6]=q[0],r[7]=q[1],g.Uc().pb(q),r[2]=q[2],r[3]=q[3],r[4]=q[2],r[5]=q[1]),f.push(r),g.pa(p)))break}else for(;!(g.pa(b)||
this.qh(g.Gg())&&(r=Array(8),g.Gb().pb(q),r[0]=q[0],r[1]=q[3],r[6]=q[0],r[7]=q[1],g.Uc().pb(q),r[2]=q[2],r[3]=q[3],r[4]=q[2],r[5]=q[1],f.push(r),g.pa(l)));g=g.le());return{status:!0,value:f}},NG:function(b,e){this.za.clear();this.Ka="";var c=[],a="",f;for(f=b-1;f<b+2;f++)this.Gi(f)&&(c.push({idx:f,yf:this.ha}),a+=this.ha);if(0===c.length||0===a.length||!this.Gi(b))return!1;var g,l,h,k,m=Array(8),n=Array(8),p=new XODText.Ia,q=new XODText.Ob,u=new XODText.Ob;q.Kb();u.Kb();var r=this.kw,v=this.kw,w,
z=new XODText.Ob;z.Kb();var D=new XODText.ub;D.Kb();var A=new XODText.ca;A.init(e.x1,e.y1);var x=new XODText.ca;x.init(e.x2,e.y2);u=this.YJ(A,x,q,u);q=u.yB;u=u.JB;if(q.pa(z)||u.pa(z))return!1;x=new XODText.ub;A=new XODText.ub;x.Kb();A.Kb();l=g=XODText.Tc.Jj;for(var y=q.Gb();!y.pa(D);y=y.Td())y.pb(m),r?(f=e.x1,w=e.y1):(w=m[0],m[0]=m[1],m[1]=w,w=m[2],m[2]=m[3],m[3]=w,f=e.y1,w=e.x1),h=(m[3]+m[1])/2,m[2]<=f?(k=m[2]-f,h-=w,h=k*k+h*h):m[0]>=f?(k=m[0]-f,h-=w,h=k*k+h*h):(h-=w,h*=h),h<g&&(g=h,x=y);for(y=u.Gb();!y.pa(D);y=
y.Td())y.pb(m),v?(f=e.x2,w=e.y2):(w=m[0],m[0]=m[1],m[1]=w,w=m[2],m[2]=m[3],m[3]=w,f=e.y2,w=e.x2),h=(m[3]+m[1])/2,m[2]<=f?(k=m[2]-f,h-=w,h=k*k+h*h):m[0]>=f?(k=m[0]-f,h-=w,h=k*k+h*h):(h-=w,h*=h),h<l&&(l=h,A=y);if(x.pa(D)||A.pa(D))return!1;w=y=0;l=g=XODText.Tc.Jj;var E=x.Ub();for(f=0;f<E;++f)x.kd(f,m),k=(m[0]+m[2]+m[4]+m[6])/4,h=(m[1]+m[3]+m[5]+m[7])/4,k-=e.x1,h-=e.y1,h=k*k+h*h,h<g&&(g=h,y=f);E=A.Ub();for(f=0;f<E;++f)A.kd(f,m),k=(m[0]+m[2]+m[4]+m[6])/4,h=(m[1]+m[3]+m[5]+m[7])/4,k-=e.x2,h-=e.y2,h=k*k+
h*h,h<l&&(l=h,w=f);g=y+x.Xa();l=w+A.Xa();l<g&&(f=g,g=l,l=f);this.Nr.push([g,l]);h=[null,null];for(f=k=0;f<c.length;f++)if(c[f].idx===b){k+=g;break}else c[f].idx<b&&(k+=c[f].yf.length);h[0]=a.substring(Math.max(0,k-100),k);for(f=g=0;f<c.length;f++)if(c[f].idx===b){g+=l;break}else c[f].idx<b&&(g+=c[f].yf.length);h[1]=a.substr(g+1,100);null!==h[0]&&null!==h[1]&&this.Or.push(h);l=q.mb;f=u.mb;c=x.mb;a=A.mb;if(l===f){c>a&&(l=x,x=A,A=l,l=y,y=w,w=l);q.pb(p);if(c===a&&y===w&&(l=new XODText.Ia,!l.Dt(p,e)))return!1;
c===a?(w<y&&(l=y,y=w,w=l),l=w):l=x.Sf();x.kd(y,m);console.assert(r===v);r=x.Xa();console.assert(y<=l);for(v=y;v<=l;++v)r+v<this.ha.length&&(this.Ka+=this.ha.charAt(r+v));0<=l&&(x.Jc(n),r=n[0]-n[2],v=n[1]-n[3],r=Math.sqrt(r*r+v*v),r=r/(l+1)*3,this.ak(n,m,!0),c===a&&(p=Array(8),A.kd(w,p),this.ak(n,p,!1)),this.yg(n,r));for(y=x=x.Td();!y.pa(D)&&y.mb<A.mb;y=y.Td()){l=y.Sf();r=y.Xa();for(v=0;v<=l;++v)r+v<this.ha.length&&(this.Ka+=this.ha.charAt(r+v));0<l&&(y.Jc(n),r=n[0]-n[2],v=n[1]-n[3],r=Math.sqrt(r*
r+v*v),r=r/l*3,this.yg(n,r))}A.kd(w,m);l=A.Sf();if(c!==a){r=A.Xa();console.assert(w<=l);for(v=0;v<=w;++v)r+v<this.ha.length&&(this.Ka+=this.ha.charAt(r+v));0<l&&(A.Jc(n),r=n[0]-n[2],v=n[1]-n[3],r=Math.sqrt(r*r+v*v),r=r/l*3,this.ak(n,m,!1),this.yg(n,r))}}else{l>f&&(r=q,q=u,u=r,l=x,x=A,A=l,l=y,y=w,w=l);q.pb(p);l=new XODText.Ia;l.Dt(p,e)||(x=q.Gb(),y=0);x.kd(y,m);l=x.Sf();r=x.Xa();console.assert(y<=l);for(v=y;v<=l;++v)r+v<this.ha.length&&(this.Ka+=this.ha.charAt(r+v));0<l&&(x.Jc(n),r=n[0]-n[2],v=n[1]-
n[3],r=Math.sqrt(r*r+v*v),r=r/l*3,this.ak(n,m,!0),this.yg(n,r));for(y=x=x.Td();!y.pa(D);y=y.Td()){l=y.Sf();r=y.Xa();for(v=0;v<=l;++v)r+v<this.ha.length&&(this.Ka+=this.ha.charAt(r+v));0<l&&(y.Jc(n),r=n[0]-n[2],v=n[1]-n[3],r=Math.sqrt(r*r+v*v),r=r/l*3,this.yg(n,r))}for(q=q.le();!q.pa(u)&&!q.pa(z);q=q.le())if(this.qh(q.Gg()))for(q.pb(p),y=q.Gb();!y.pa(D);y=y.Td()){l=y.Sf();r=y.Xa();for(v=0;v<=l;++v)r+v<this.ha.length&&(this.Ka+=this.ha.charAt(r+v));0<l&&(y.Jc(n),r=n[0]-n[2],v=n[1]-n[3],r=Math.sqrt(r*
r+v*v),r=r/l*3,this.yg(n,r))}u.pb(p);l=new XODText.Ia;l.Dt(p,e)||(A=u.OE(u.Ig()-1),w=A.Ub()-1);for(y=u.Gb();!y.pa(D)&&!y.pa(A);y=y.Td()){l=y.Sf();r=y.Xa();for(v=0;v<=l;++v)r+v<this.ha.length&&(this.Ka+=this.ha.charAt(r+v));0<l&&(y.Jc(n),r=n[0]-n[2],v=n[1]-n[3],r=Math.sqrt(r*r+v*v),r=r/l*3,this.yg(n,r))}A.kd(w,m);l=A.Sf();r=A.Xa();console.assert(w<=l);for(v=0;v<=w;++v)r+v<this.ha.length&&(this.Ka+=this.ha.charAt(r+v));0<l&&(A.Jc(n),r=n[0]-n[2],v=n[1]-n[3],r=Math.sqrt(r*r+v*v),r=r/l*3,this.ak(n,m,!1),
this.yg(n,r))}return 0<this.za.length},Gi:function(b){if(0>b||b>=this.je.length)return!1;if(0>=this.Lr||this.Lr!==b){var e=this.je[b].text;if(null==e||!e.ready())return!1;this.wb=e;this.ha=this.wb.Pa;this.RJ();this.QJ();this.Lr=b}return!0},yg:function(b,e){var c=this.za.length/8;if(c){for(var a=Array(8),c=8*(c-1),f=0;8>f;++f)a[f]=this.za[c+f];if(XODText.ab.Pr(a,b,!0,e))for(f=0;8>f;++f)this.za[c+f]=a[f];else for(f=0;8>f;++f)this.za.add(b[f])}else for(var f=0;8>f;++f)this.za.add(b[f])},ak:function(b,
e,c){var a=new XODText.ca;a.init(b[0],b[1]);var f=new XODText.ca;f.init(b[2],b[3]);var g=XODText.ca.ag(f,a);g.normalize()&&(c?(f=new XODText.ca,f.init(e[0],e[1]),e=XODText.ca.ag(f,a).Sb(g),g=XODText.ca.multiply(g,e),b[0]+=g.x,b[1]+=g.y,b[6]+=g.x,b[7]+=g.y):(a=new XODText.ca,a.init(e[2],e[3]),e=XODText.ca.ag(a,f).Sb(g),g=XODText.ca.multiply(g,e),b[2]+=g.x,b[3]+=g.y,b[4]+=g.x,b[5]+=g.y))},DB:function(b){var e=XODText.Da.jl(0),c=XODText.Da.jl(1.570796325),a=XODText.Da.jl(3.14159265),f=XODText.Da.jl(3.14159265*
1.5);switch(parseInt(b/90+.1)){case 0:return e;case 1:return c;case 2:return a;case 3:return f;case 4:return e;default:return e}},qh:function(){return!0},lC:function(b,e){var c=this.DB(e),a=new XODText.vd(b.x1,b.y1),a=c.aa(a);b.x1=a.x;b.y1=a.y;a=new XODText.vd(b.x2,b.y2);a=c.aa(a);b.x2=a.x;b.y2=a.y;b.normalize()},QJ:function(){this.lb.clear();var b,e=new XODText.Ob;e.Kb();var c=new XODText.Ia,a=new XODText.Xr,f=!1;for(b=this.wb.yp();!b.pa(e);b=b.le())if(this.qh(b.Gg())){b.pb(c);c.normalize();var g=
new XODText.Ia;g.Mg(c);this.lC(c,this.mc);f?(this.lb.add(a),a=new XODText.Xr,a.mw.Mg(g),a.bf.Mg(c),a.mh=b,a.nh=b):(a.mw.Mg(g),a.bf.Mg(c),a.mh=b,a.nh=b,f=!0)}f&&this.lb.add(a)},vB:function(b,e){for(var c=XODText.Tc.Jj,a=new XODText.Ia,f=b.mh,g=b.mh;;g=g.le()){if(!this.qh(g.Gg()))if(g.pa(b.nh))break;else continue;g.pb(a);this.lC(a,this.mc);var l=(a.y1+a.y2)/2;Math.abs(l-e.y)<c&&(f=g,c=Math.abs(l-e.y));if(g.pa(b.nh))break}return f},Rq:function(b,e,c){var a=XODText.ca.ag(e,b),f=XODText.ca.ag(c,b),g=f.Sb(a);
if(0>=g)return f.Sb(f);f=a.Sb(a);if(f<=g)return c=XODText.ca.ag(c,e),c.Sb(c);b=XODText.ca.un(b,XODText.ca.multiply(a,g/f));c=XODText.ca.ag(c,b);return c.Sb(c)},nv:function(b,e){var c=this.Rq(new XODText.ca(e.x1,e.y1),new XODText.ca(e.x2,e.y1),b),a=this.Rq(new XODText.ca(e.x2,e.y1),new XODText.ca(e.x2,e.y2),b),f=this.Rq(new XODText.ca(e.x2,e.y2),new XODText.ca(e.x1,e.y2),b),g=this.Rq(new XODText.ca(e.x1,e.y2),new XODText.ca(e.x1,e.y1),b);return Math.min(c,a,f,g)},YJ:function(b,e,c,a){var f=-1,g=-1,
l=!1,h=!1,k=this.DB(this.mc),m=new XODText.ca,n=new XODText.ca;m.Ct(b);n.Ct(e);b=new XODText.vd(m.x,m.y);b=k.aa(b);m.x=b.x;m.y=b.y;b=new XODText.vd(n.x,n.y);b=k.aa(b);n.x=b.x;n.y=b.y;e=0;for(var p=this.lb.length;e<p;++e)k=this.lb[e],0>f&&k.bf.contains(m.x,m.y)&&(f=e,h=!0),0>g&&k.bf.contains(n.x,n.y)&&(g=e,l=!0);if(!h||!l){b=[];for(k=0;k<this.lb.length;++k)b.add(0);var k=Math.max(f,g),q=new XODText.Ia;q.Oa(m.x,m.y,n.x,n.y);q.yO(.1);0<=k&&q.union(this.lb[k].bf);var u=new XODText.Ia;e=0;for(p=this.lb.length;e<
p;++e){var r=new XODText.Ia;r.Mg(this.lb[e].bf);u.Dt(r,q)&&(b[e]=1)}e=b.indexOf(1);for(q=p=b.indexOf(1);-1!==p;){q=p;p++;if(p>=b.length)break;p=b.indexOf(1,p)}p=q;if(0>e)return new XODText.dr(c,a);0>k?(f=e,g=p,h=new XODText.Ia,h.Mg(this.lb[f].bf),l=(m.x-h.x1)*(m.x-h.x2),l=0<l?Math.min(Math.abs(m.x-h.x1),Math.abs(m.x-h.x2)):0,k=(m.y-h.y1)*(m.y-h.y2),k=0<k?Math.min(Math.abs(m.y-h.y1),Math.abs(m.y-h.y2)):0,b=(n.x-h.x1)*(n.x-h.x2),b=0<b?Math.min(Math.abs(n.x-h.x1),Math.abs(n.x-h.x2)):0,e=(n.y-h.y1)*(n.y-
h.y2),e=0<e?Math.min(Math.abs(n.y-h.y1),Math.abs(n.y-h.y2)):0,l*l+k*k>b*b+e*e&&(h=f,f=g,g=h)):(q=new XODText.Ia,q.Mg(this.lb[k].bf),b=new XODText.ca,h?b.Ct(n):b.Ct(m),console.assert(!(h&&l)&&!(!h&&!l)),console.assert(!q.contains(b.x,b.y)),k-e>Math.max(p-k,0)?(l=Math.min(k,e),q=p):(l=Math.max(k,p),q=e),l!=k&&(e=Array(3),p=Array(3),e[0]=this.nv(b,this.lb[q].bf),e[1]=this.nv(b,this.lb[l].bf),e[2]=this.nv(b,this.lb[k].bf),p[0]=q,p[1]=l,p[2]=k,l=1,e[0]<e[1]&&(l=0),e[2]<e[l]&&(l=2),l=p[l]),h?g=l:f=l)}0<=
f&&0<=g&&(c=this.vB(this.lb[f],m,c),a=this.vB(this.lb[g],n,a));return new XODText.dr(c,a)},za:null,Ka:null,je:null,wb:null,Lr:0,mc:0,kw:!1,lb:null};XODText.fh=function(b,e,c,a,f,g){this.Cu=b;this.dz=e;this.rz=c;this.yC=a;this.HG=f;this.GG=g};XODText.fh.prototype={Cu:0,dz:0,rz:null,yC:null,HG:0,GG:0};XODText.dr=function(b,e){this.yB=b;this.JB=e};XODText.dr.prototype={yB:null,JB:null};XODText.zv=function(b,e){this.dC=b;this.qB=e};XODText.zv.prototype={dC:0,qB:0};XODText.Av=function(b,e,c,a,f,g){this.bw=
b;this.zr=e;this.yr=c;this.nr=a;this.Wr=f;this.Vr=g};XODText.Av.prototype={bw:null,zr:0,yr:0,nr:null,Wr:0,Vr:0};XODText.Er.Ha("XODText._intData");XODText.vd.Ha("XODText.Point2D");XODText.ab.Ha("XODText.Quad");XODText.Da.Ha("XODText.Matrix2D");XODText.Eo.Ha("XODText._highlights");XODText.Do.Ha("XODText._highlight");XODText.dw.Ha("XODText._highlightDocInfo");XODText.Xr.Ha("XODText._selectionTextBlock");XODText.cb.Ha("XODText.SearchMode");XODText.Yb.Ha("XODText.ResultCode");XODText.ge.Ha("XODText.TextSearchLowlevel");
XODText.ti.Ha("XODText.TextLocator");XODText.fh.Ha("XODText.ResultRun");XODText.dr.Ha("XODText.ResultFindStructuralBounds");XODText.zv.Ha("XODText.ResultDetermineOriRange");XODText.Av.Ha("XODText.ResultFindTexts");XODText.Er.MA=-2147483648;XODText.ab.BL=Math.cos(3.14159265/180*2);XODText.cb.AD=1;XODText.cb.ED=2;XODText.cb.tx=4;XODText.cb.CD=8;XODText.cb.BD=16;XODText.cb.zD=32;XODText.cb.DD=64;XODText.cb.FD=128;XODText.Yb.zk=0;XODText.Yb.Ns=1;XODText.Yb.kp=2})();self.jb.vu("XODText");
XODText.pg=function(){this.iB={};this.ow=1E3;this.OB=200};XODText.pg.prototype={PB:0,QB:0,ow:0,OB:0,Ix:function(b){var d=new XODText.Ia,e=this.iB[b];"undefined"!=typeof e?d.Mg(e):window.utils.warn("Character "+b+" does not have bounding box.");return d},es:function(b,d,e){var c=new XODText.Ia;c.set(d,this.PB,e,this.QB);this.iB[b]=c},sq:function(b,d){this.PB=b;this.QB=d},fH:function(b){this.ow=b}};XODText.tv=function(){this.Ex={};this.hc=!1};
$.extend(XODText.tv.prototype,{hc:!1,isReady:function(){return this.hc},TU:function(){return this.Ex},mz:function(b){try{var d=new window.Xe(b);console.assert("FontInfo"===d.ta(),"Root element is incorrect.");"FontInfo"===d.ta()&&(d.ma(),this._parse(d))}catch(e){console.warn("Font Parser has encountered an error: "+e.message);return}this.hc=!0},Ar:function(b){var d="",e=0,c,a,f;for(2<=b.length&&"{"===b.charAt(0)&&"}"===b.charAt(1)&&(b=b.substr(2));e<b.length;)c=b.charCodeAt(e),128>c?(d+=String.fromCharCode(c),
e++):191<c&&224>c?(a=b.charCodeAt(e+1),d+=String.fromCharCode((c&31)<<6|a&63),e+=2):(a=b.charCodeAt(e+1),f=b.charCodeAt(e+2),d+=String.fromCharCode((c&15)<<12|(a&63)<<6|f&63),e+=3);return d},qK:function(b){b=b.K("name");console.assert(42===b.length,"Font file name is incorrect.");console.assert(null!=b,"Font file name is incorrect.");return"f"+parseInt("0x"+b.substr(28,8))},pK:function(b,d){console.assert(null!=d,"Font bbox file is corrupted.");var e=b.K("height");console.assert(null!=e,"Height attribute is missing.");
e=e.split(":");d.sq(parseFloat(e[0]),parseFloat(e[1]))},rK:function(b,d){var e=b.K("units_per_em");null!=e&&d.fH(parseInt(e))},oK:function(b,d){console.assert(null!=d,"Font bbox file is corrupted.");var e=b.K("bbox");console.assert(null!=e,"Character width is missing.");var c=e.split(":"),e=parseFloat(c[0]),c=parseFloat(c[1]),a=this.Ar(b.current.textContent);console.assert(0<a.length,"Char value is empty.");d.es(a,e,c)},_parse:function(b){do{for(var d=null;b.advance();){var e=b.ta();"Font"===e?(d=
new XODText.pg,e=this.qK(b),this.pK(b,d),this.rK(b,d),this.Ex[e]=d,b.ma()):"c"===e?this.oK(b,d):console.warn("Font XML parser has encountered a tag it can't process.")}b.wa()}while(b.depth)}});XODText.pg.Ha("XODText.Font");XODText.tv.Ha("XODText.FontParser");
(function(b){function d(a){this.done=!1;this.worker=new Worker(b.o.ej()+"CoreWorker.js");var g=null,c=null,e=this;this.index=a;this.worker.addEventListener("message",function(a){switch(a.data.command){case "done":e.done=!0;c=null;break;case "nextChunk":g=a.data.resources;c=a.data.dataString;break;default:throw Error("Unknown message command "+a.data.command+" from worker");}e.done?(e.fp(null,[]),e.finish()):g&&c&&(e.fp(c,g),c=g=null)},!1);this.TS()}var e=[],c=[],a="./";d.prototype={setData:function(a,
b){this.fp=b;this.done=!1;this.worker.postMessage({command:"data",dataString:a})},cancel:function(){this.worker.postMessage({command:"cancel"})},TS:function(){this.worker.postMessage({command:"options",imageScaling:b.o.Fw,specialBlendSupported:b.utils.specialBlendSupported,continueWithoutPrompt:0<b.Dl})},vP:function(){this.worker.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(c.length){var a=c[0];c.shift();this.setData(a.data);this.fp=a.fp;a.CO(this)}}};b.ZN=function(a,b,l){for(var h=
e.length,k,m=0;m<h;++m)e[m].done&&(k=e[m]);k||4>h&&(k=e[h]=new d(h));k?(k.setData(a,l),b(k)):c.push({CO:b,data:a,fp:l})};b.o=b.o||{};b.o.Fw=!1;b.o.ej=function(){return a};b.o.PR=function(b){b.indexOf("/")!==b.length-1&&(b+="/");a=b}})(window);
(function(b){function d(a,b){var f=Error.apply(this,arguments);f.name=this.name="WorkerError";this.stack=f.stack;this.message=f.message;this.userMessage=b}function e(a){q.push(a);for(var b=0;b<u.length;++b)a(u[b])}function c(a,c,h){if(_.isUndefined(a))return null;var k,q=new Promise(function(f,g){e(function(){g(new d("The worker has encountered an error",b.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});var h={};l&&(h.workerHeapSize=l);m&&(h.pdfResourcePath=m);n&&(h.pdfAsmPath=n);var q=
window.location.href,p=q.lastIndexOf("/",q.lastIndexOf("#"));-1!==p&&(h.parentUrl=q.substring(0,p+1));k=new window.DJ(a,c,h);k.gA.then(function(){f()},function(a){g(a)})}),p=new Promise(function(a,f){if(b.utils.isJSWorker&&b.jsworker&&b.jsworker.utils)"android"!==b.jsworker.platform&&"ios"!==b.jsworker.platform||!b.jsworker.utils.getResourcesDir?b.jsworker.utils.getHTMLContentPath?b.jsworker.utils.getHTMLContentPath(function(b){b?(b.endsWith("/")||(b+="/"),a(b+"js/html5/pdf/")):f(new d("Couldn't fetch resource file path."))}):
f(new d("Some functions required for fetching resources are not defined.")):b.jsworker.utils.getResourcesDir(function(b,g){b?f(b):a(g)});else{var g=new XMLHttpRequest;g.open("GET",window.o.AE()+"pdfnet.res",!0);g.responseType="arraybuffer";g.onload=function(){200===g.status?a(g.response):f(new d("Couldn't fetch resource file.","error.ResourceLoadError"))};g.onerror=function(){f(new d("Network error","error.ResourceLoadError"))};g.send(null)}});return Promise.all([q,p]).then(function(a){return b.utils.isJSWorker&&
b.jsworker&&b.jsworker.utils?k.iP(a[1],h):k.hP(a[1],h)}).then(function(){"undefined"!==typeof f&&k.Dz(f);"undefined"!==typeof g&&k.Hu(g);return k})["catch"](function(a){a.message&&-1!==a.message.indexOf("Bad License Key")&&(a.userMessage="error.InvalidLicenseKey");throw a;})}var a,f,g,l,h;b.Qu=b.utils.chromeHasSubzero;var k,m,n,p={},q=[],u=[],r=_.throttle(function(a){var b=q.length;u.push(a);for(var f=0;f<b;++f)q[f](a)},100,{trailing:!1});d.prototype=Object.create(Error.prototype,{constructor:{value:d,
writable:!0,configurable:!0}});b.o=b.o||{};b.o.vN=function(){return new Promise(function(a){var b;try{b=window.parent&&window.parent.WebViewer?window.parent.WebViewer.l():void 0,a(b)}catch(f){window.parent.postMessage("requestl","*"),$(window).on("message.l",function(b){b=b.originalEvent;"object"===typeof b.data&&"responsel"===b.data.type&&(a(b.data.value),$(window).off("message.l"))})}})};b.o.uE=function(a){return a?Promise.resolve(a):b._trnDebugMode?Promise.resolve():(""+location).split("").reverse().join("").match(/(moc\.nortfdp\.[^.]+\/\/|moc\.nortfdp\/\/)/)||
b.jsworker?Promise.resolve(""):b.o.vN().then(function(a){return a?a:null})};b.o.eF=function(a){return!a||50>a.length||"demo:"!==a.slice(0,5)?!1:0<a.slice(5,a.lastIndexOf(":")).match(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/).length};b.o.Dz=function(b){f=b;a&&a.then(function(a){a.Dz(b)})};b.o.Hu=function(b){g=b;a&&a.then(function(a){a.Hu(g)})};b.o.lM=function(a){b.utils.chromeHasSubzero&&(b.Qu=a)};b.o.mF=function(){return b.Qu};b.o.pR=function(a){a.lastIndexOf("/")!==
a.length-1&&(a+="/");k=a};b.o.mN=function(){return n||b.o.ej()+"pdf/"};b.o.nR=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");n=a};b.o.jt=function(){return k||b.o.ej()+"pdf/"};b.o.oR=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");m=a};b.o.AE=function(){return m||b.o.ej()+"pdf/"};b.o.XQ=function(a){l=a};var v,w,z;b.o.zN=function(){return w};b.o.Lx=function(){z||(z=new Promise(function(a){if(b.utils.isJSWorker&&b.jsworker)a("jsworker");else if(b.utils.isChrome){var f=!0,g=$('<embed name="simple_module" id="simple_module" width=0 height=0 src="'+
window.o.jt()+'SimpleWorker.nmf" type="application/x-pnacl" style="position:absolute" />'),c=g[0];c.addEventListener("error",function(){f&&(console.log("PNaClError: PNaCl failed to load. Falling back to Emscripten."),f=!1);a("ems")},!0);$(document.body).prepend(g);var e=!1,l=function(b){e||(a(b),clearTimeout(h),g.remove(),e=!0)};if("undefined"===typeof c.postMessage)f&&(console.log("PNaClError: PNaCl seems to be disabled. Falling back to Emscripten."),f=!1),l("ems");else{var h,d=function(){f&&(console.log("PNaClError: PNaCl Timed out. Falling back to Emscripten."),
f=!1);l("ems")};c.addEventListener("progress",function(){clearTimeout(h);h=setTimeout(d,5E3)});c.addEventListener("message",function(a){clearTimeout(h);"T"===a.data?l("pnacl"):(console.log("PNaClError: PNaCl responded incorrectly. Falling back to Emscripten."),l("ems"))});c.postMessage("T");h=setTimeout(d,5E3)}}else a("ems")}));return z};b.o.iE=function(){return p.Jw};b.o.jG=function(f,g,c){a&&f===b.o.iE()||(_.isUndefined(c)&&(c={}),c.workerId="pdf_pnacl_module",c.pnaclWorkerPath=window.o.jt()+(b.Qu?
"PDFWorkerSubzero.nmf":"PDFWorker.nmf"),c.emsWorkerPath=window.o.jt()+(l||m||n?"ResizableWorker.js":"PDFworker.js"),c.hA=p,v=b.o.kG(f,g,c))};b.o.kG=function(a,f,g){g=g||{};var c;return new Promise(function(l,h){function k(a){function f(b){"object"===typeof b.data&&"action"in b.data&&"workerLoaded"===b.data.action&&(a.workerLoadingProgress&&a.workerLoadingProgress(1),c.removeEventListener("message",f))}var c;e(function(){h(new d("The worker has encountered an error",b.utils.ie?"error.EmsWorkerErrorIE":
"error.EmsWorkerError"))});c=new Worker(g.emsWorkerPath);c.onerror=r;w=!0;c.addEventListener("message",f,!1);var l=b.o.pI();b.o.bH(l?18E3/l:0);return c}function q(a,b){l(a);g.hA.Jw=b}if("jsworker"===a)console.log("Attempting to load JSWorker"),b.utils.isJSWorker&&(c=b.jsworker.loadWorker(),console.log("JSWorker loaded!"),c&&c.getProcessId(function(a){console.log("Loaded worker in process: "+a)})),w=!1,q(c,"jsworker");else if("pnacl"===a){_.isUndefined(g.useEmscriptenWhileLoading)&&(g.useEmscriptenWhileLoading=
!b.o.mF());w=!1;var m=$('<embed name="'+g.workerId+'" id="'+g.workerId+'" width=0 height=0 src="'+g.pnaclWorkerPath+'" type="application/x-pnacl" style="position:absolute" />');$(document.body).prepend(m);var p=function(a){a.lengthComputable&&(g.useEmscriptenWhileLoading?(c.removeEventListener("progress",p,!0),c.removeEventListener("loadend",n,!0),c.removeEventListener("crash",u,!0),c.removeEventListener("error",v,!0),q(k(f),"ems"),c.addEventListener("loadend",function(){w=!1;g.hA.Jw="pnacl";f.pnaclComplete&&
f.pnaclComplete(c)})):f.workerLoadingProgress&&f.workerLoadingProgress(a.loaded/a.total))},n=function(){f.workerLoadingProgress&&f.workerLoadingProgress(1);b.o.bH(1E3);q(c,"pnacl")},u=function(){h(new d("The Worker has Crashed.","error.PNaClCrashError"))},v=function(){console.log("PNaClError: Main worker encountered an error. Falling back to Emscripten.");q(k(f),"ems")};c=m[0];c.addEventListener("progress",p,!0);c.addEventListener("loadend",n,!0);c.addEventListener("crash",u,!0);c.addEventListener("error",
v,!0)}else"ems"===a&&q(k(f),"ems")})};b.o.xQ=function(b){v=Promise.resolve(b);a=null};b.o.fF=function(){return h};b.o.Bt=function(f,g,e){v||b.o.jG(f,g);if(a){if(h&&e&&!b.o.eF(e))throw Error("PDFNet was already initialized in demo mode. For solution see pdftron.com/kb_demo_init. Note that calling initPDFWorkerTransports or creating WebViewer object will also call PDFNet.initialize so your license key should be used in all of these calls.");}else h=!e,a=Promise.all([b.o.uE(e),v]).then(function(a){if(null===
a[0])throw a=Error("A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com."),a.userMessage="A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com.",a;h=b.o.eF(a[0]);return c(a[1],w,a[0])});return a};b.Yj=d;b.o.XK=e})(window);(function(b){var d={PDFNetC:7,PDFNetCFull:7};b.WN=function(){return d.PDFNetC}})("undefined"===typeof window?this:window);
(function(b){var d=b._trnDebugMode,e=b.lK?b.lK:{};b.utils=b.utils?b.utils:{};b.utils.warn=function(b,a){a||(a=b,b="default");d&&e[b]&&console.warn(b+": "+a)};b.utils.log=function(b,a){a||(a=b,b="default");d&&e[b]&&console.log(b+": "+a)};b.utils.error=function(b){d&&console.error(b);throw Error(b);};b.info=function(){};b.warn=function(c,a){b.utils.warn(c,a)};b.error=function(c){b.utils.error(c)}})("undefined"===typeof window?this:window);
(function(b){function d(a,b,f,g,l,h){this.Fj=16;this.II=288;this.status=0;this.root=null;this.m=0;var d=Array(this.Fj+1),k,z,D,A,x,y,E,F=Array(this.Fj+1),B,G,H,J=new e,M=Array(this.Fj);A=Array(this.II);var K,P=Array(this.Fj+1),O,L,C;C=this.root=null;for(x=0;x<d.length;x++)d[x]=0;for(x=0;x<F.length;x++)F[x]=0;for(x=0;x<M.length;x++)M[x]=null;for(x=0;x<A.length;x++)A[x]=0;for(x=0;x<P.length;x++)P[x]=0;k=256<b?a[256]:this.Fj;B=a;G=0;x=b;do d[B[G]]++,G++;while(0<--x);if(d[0]==b)this.root=null,this.status=
this.m=0;else{for(y=1;y<=this.Fj&&0==d[y];y++);E=y;h<y&&(h=y);for(x=this.Fj;0!=x&&0==d[x];x--);D=x;h>x&&(h=x);for(O=1<<y;y<x;y++,O<<=1)if(0>(O-=d[y])){this.status=2;this.m=h;return}if(0>(O-=d[x]))this.status=2,this.m=h;else{d[x]+=O;P[1]=y=0;B=d;G=1;for(H=2;0<--x;)P[H++]=y+=B[G++];B=a;x=G=0;do 0!=(y=B[G++])&&(A[P[y]++]=x);while(++x<b);b=P[D];P[0]=x=0;B=A;G=0;A=-1;K=F[0]=0;H=null;for(L=0;E<=D;E++)for(a=d[E];0<a--;){for(;E>K+F[1+A];){K+=F[1+A];A++;L=(L=D-K)>h?h:L;if((z=1<<(y=E-K))>a+1)for(z-=a+1,H=E;++y<
L&&!((z<<=1)<=d[++H]);)z-=d[H];K+y>k&&K<k&&(y=k-K);L=1<<y;F[1+A]=y;H=Array(L);for(z=0;z<L;z++)H[z]=new e;C=null==C?this.root=new c:C.next=new c;C.next=null;C.list=H;M[A]=H;0<A&&(P[A]=x,J.b=F[A],J.e=16+y,J.t=H,y=(x&(1<<K)-1)>>K-F[A],M[A-1][y].e=J.e,M[A-1][y].b=J.b,M[A-1][y].n=J.n,M[A-1][y].t=J.t)}J.b=E-K;G>=b?J.e=99:B[G]<f?(J.e=256>B[G]?16:15,J.n=B[G++]):(J.e=l[B[G]-f],J.n=g[B[G++]-f]);z=1<<E-K;for(y=x>>K;y<L;y+=z)H[y].e=J.e,H[y].b=J.b,H[y].n=J.n,H[y].t=J.t;for(y=1<<E-1;0!=(x&y);y>>=1)x^=y;for(x^=
y;(x&(1<<K)-1)!=P[A];)K-=F[A],A--}this.m=F[1];this.status=0!=O&&1!=D?1:0}}}function e(){this.n=this.b=this.e=0;this.t=null}function c(){this.list=this.next=null}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];b.Ol||(b.Ol={});b.Ol.HA=function(a){this.cT();this.cv=a;this.dv=0};b.Ol.HA.prototype={getBytes:function(a){for(var b,f=Array(1024),g=[],c=0;c<a&&0<(b=this.bT(f,0,f.length));)g[g.length]=String.fromCharCode.apply(null,f.slice(0,b)),c+=b;return c?(this.cv=this.cv.slice(this.dv),this.dv=0,g.join("")):""},YS:function(){return this.cv.length==this.dv?-1:this.cv.charCodeAt(this.dv++)&
255},Ac:function(a){for(;this.ul<a;)this.Yn|=this.YS()<<this.ul,this.ul+=8},Oc:function(b){return this.Yn&a[b]},jc:function(a){this.Yn>>=a;this.ul-=a},bv:function(a,b,f){var g,c,e;if(0==f)return 0;for(e=0;;){this.Ac(this.jg);c=this.Dj.list[this.Oc(this.jg)];for(g=c.e;16<g;){if(99==g)return-1;this.jc(c.b);g-=16;this.Ac(g);c=c.t[this.Oc(g)];g=c.e}this.jc(c.b);if(16==g)this.Nd&=32767,a[b+e++]=this.Cj[this.Nd++]=c.n;else{if(15==g)break;this.Ac(g);this.Ae=c.n+this.Oc(g);this.jc(g);this.Ac(this.Xn);c=this.$H.list[this.Oc(this.Xn)];
for(g=c.e;16<g;){if(99==g)return-1;this.jc(c.b);g-=16;this.Ac(g);c=c.t[this.Oc(g)];g=c.e}this.jc(c.b);this.Ac(g);this.vl=this.Nd-c.n-this.Oc(g);for(this.jc(g);0<this.Ae&&e<f;)this.Ae--,this.vl&=32767,this.Nd&=32767,a[b+e++]=this.Cj[this.Nd++]=this.Cj[this.vl++]}if(e==f)return f}this.Bj=-1;return e},dT:function(a,b,f){var g;g=this.ul&7;this.jc(g);this.Ac(16);g=this.Oc(16);this.jc(16);this.Ac(16);if(g!=(~this.Yn&65535))return-1;this.jc(16);this.Ae=g;for(g=0;0<this.Ae&&g<f;)this.Ae--,this.Nd&=32767,
this.Ac(8),a[b+g++]=this.Cj[this.Nd++]=this.Oc(8),this.jc(8);0==this.Ae&&(this.Bj=-1);return g},aT:function(a,b,c){if(null==this.av){var e,k=Array(288);for(e=0;144>e;e++)k[e]=8;for(;256>e;e++)k[e]=9;for(;280>e;e++)k[e]=7;for(;288>e;e++)k[e]=8;this.lA=7;e=new d(k,288,257,f,g,this.lA);if(0!=e.status)return alert("HufBuild error: "+e.status),-1;this.av=e.root;this.lA=e.m;for(e=0;30>e;e++)k[e]=5;this.kA=5;e=new d(k,30,0,l,h,this.kA);if(1<e.status)return this.av=null,alert("HufBuild error: "+e.status),
-1;this.ZS=e.root;this.kA=e.m}this.Dj=this.av;this.$H=this.ZS;this.jg=this.lA;this.Xn=this.kA;return this.bv(a,b,c)},$S:function(a,b,c){var e,u,r,v,w,z,D,A=Array(316);for(e=0;e<A.length;e++)A[e]=0;this.Ac(5);z=257+this.Oc(5);this.jc(5);this.Ac(5);D=1+this.Oc(5);this.jc(5);this.Ac(4);e=4+this.Oc(4);this.jc(4);if(286<z||30<D)return-1;for(u=0;u<e;u++)this.Ac(3),A[k[u]]=this.Oc(3),this.jc(3);for(;19>u;u++)A[k[u]]=0;this.jg=7;u=new d(A,19,19,null,null,this.jg);if(0!=u.status)return-1;this.Dj=u.root;this.jg=
u.m;v=z+D;for(e=r=0;e<v;)if(this.Ac(this.jg),w=this.Dj.list[this.Oc(this.jg)],u=w.b,this.jc(u),u=w.n,16>u)A[e++]=r=u;else if(16==u){this.Ac(2);u=3+this.Oc(2);this.jc(2);if(e+u>v)return-1;for(;0<u--;)A[e++]=r}else{17==u?(this.Ac(3),u=3+this.Oc(3),this.jc(3)):(this.Ac(7),u=11+this.Oc(7),this.jc(7));if(e+u>v)return-1;for(;0<u--;)A[e++]=0;r=0}this.jg=9;u=new d(A,z,257,f,g,this.jg);0==this.jg&&(u.status=1);if(0!=u.status)return-1;this.Dj=u.root;this.jg=u.m;for(e=0;e<D;e++)A[e]=A[e+z];this.Xn=6;u=new d(A,
D,0,l,h,this.Xn);this.$H=u.root;this.Xn=u.m;return 0==this.Xn&&257<z||0!=u.status?-1:this.bv(a,b,c)},cT:function(){null==this.Cj&&(this.Cj=Array(65536));this.ul=this.Yn=this.Nd=0;this.Bj=-1;this.$u=!1;this.Ae=this.vl=0;this.av=this.Dj=null},bT:function(a,b,f){var g,c;for(g=0;g<f&&(!this.$u||-1!=this.Bj);){if(0<this.Ae){if(0!=this.Bj)for(;0<this.Ae&&g<f;)this.Ae--,this.vl&=32767,this.Nd&=32767,a[b+g++]=this.Cj[this.Nd++]=this.Cj[this.vl++];else{for(;0<this.Ae&&g<f;)this.Ae--,this.Nd&=32767,this.Ac(8),
a[b+g++]=this.Cj[this.Nd++]=this.Oc(8),this.jc(8);0==this.Ae&&(this.Bj=-1)}if(g==f)break}if(-1==this.Bj){if(this.$u)break;this.Ac(1);0!=this.Oc(1)&&(this.$u=!0);this.jc(1);this.Ac(2);this.Bj=this.Oc(2);this.jc(2);this.Dj=null;this.Ae=0}switch(this.Bj){case 0:c=this.dT(a,b+g,f-g);break;case 1:c=null!=this.Dj?this.bv(a,b+g,f-g):this.aT(a,b+g,f-g);break;case 2:c=null!=this.Dj?this.bv(a,b+g,f-g):this.$S(a,b+g,f-g);break;default:c=-1}if(-1==c)return this.$u?0:-1;g+=c}return g}};b.Ol.inflate=function(a){return(new b.Ol.HA(a)).getBytes(4E9)}})(self);
!function(b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).KP=b()}(function(){return function d(e,c,a){function f(l,k){if(!c[l]){if(!e[l]){var m="function"==typeof require&&require;if(!k&&m)return m(l,!0);if(g)return g(l,!0);m=Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m;}m=c[l]={exports:{}};e[l][0].call(m.exports,
function(a){var g=e[l][1][a];return f(g?g:a)},m,m.exports,d,e,c,a)}return c[l].exports}for(var g="function"==typeof require&&require,l=0;l<a.length;l++)f(a[l]);return f}({1:[function(d,e,c){d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var c=f.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}}return a};
c.qH=function(a,f){return a.length===f?a:a.subarray?a.subarray(0,f):(a.length=f,a)};var a={uk:function(a,f,c,e,d){if(f.subarray&&a.subarray)return void a.set(f.subarray(c,c+e),d);for(var n=0;n<e;n++)a[d+n]=f[c+n]},RD:function(a){var f,c,e,d,n;f=e=0;for(c=a.length;f<c;f++)e+=a[f].length;n=new Uint8Array(e);f=e=0;for(c=a.length;f<c;f++)d=a[f],n.set(d,e),e+=d.length;return n}},f={uk:function(a,f,c,e,d){for(var n=0;n<e;n++)a[d+n]=f[c+n]},RD:function(a){return[].concat.apply([],a)}};c.OR=function(g){g?
(c.Gj=Uint8Array,c.bo=Uint16Array,c.co=Int32Array,c.assign(c,a)):(c.Gj=Array,c.bo=Array,c.co=Array,c.assign(c,f))};c.OR(d)},{}],2:[function(d,e,c){function a(a,c){if(65537>c&&(a.subarray&&l||!a.subarray&&g))return String.fromCharCode.apply(null,f.qH(a,c));for(var e="",h=0;h<c;h++)e+=String.fromCharCode(a[h]);return e}var f=d("./common"),g=!0,l=!0,h=new f.Gj(256);for(d=0;256>d;d++)h[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;h[254]=h[254]=1;c.gS=function(a){var g,c,e,l,h,d=a.length,v=0;for(l=
0;l<d;l++)c=a.charCodeAt(l),55296===(64512&c)&&l+1<d&&(e=a.charCodeAt(l+1),56320===(64512&e)&&(c=65536+(c-55296<<10)+(e-56320),l++)),v+=128>c?1:2048>c?2:65536>c?3:4;g=new f.Gj(v);for(l=h=0;h<v;l++)c=a.charCodeAt(l),55296===(64512&c)&&l+1<d&&(e=a.charCodeAt(l+1),56320===(64512&e)&&(c=65536+(c-55296<<10)+(e-56320),l++)),128>c?g[h++]=c:2048>c?(g[h++]=192|c>>>6,g[h++]=128|63&c):65536>c?(g[h++]=224|c>>>12,g[h++]=128|c>>>6&63,g[h++]=128|63&c):(g[h++]=240|c>>>18,g[h++]=128|c>>>12&63,g[h++]=128|c>>>6&63,
g[h++]=128|63&c);return g};c.iU=function(f){return a(f,f.length)};c.$K=function(a){for(var g=new f.Gj(a.length),c=0,e=g.length;c<e;c++)g[c]=a.charCodeAt(c);return g};c.bL=function(f,g){var c,e,l,d,r=g||f.length,v=Array(2*r);for(c=e=0;c<r;)if(l=f[c++],128>l)v[e++]=l;else if(d=h[l],4<d)v[e++]=65533,c+=d-1;else{for(l&=2===d?31:3===d?15:7;1<d&&c<r;)l=l<<6|63&f[c++],d--;1<d?v[e++]=65533:65536>l?v[e++]=l:(l-=65536,v[e++]=55296|l>>10&1023,v[e++]=56320|1023&l)}return a(v,e)};c.LS=function(a,f){var g;f=f||
a.length;f>a.length&&(f=a.length);for(g=f-1;0<=g&&128===(192&a[g]);)g--;return 0>g?f:0===g?f:g+h[a[g]]>f?g:f}},{"./common":1}],3:[function(d,e){e.exports=function(c,a,f,g){var e=65535&c|0;c=c>>>16&65535|0;for(var h;0!==f;){h=2E3<f?2E3:f;f-=h;do e=e+a[g++]|0,c=c+e|0;while(--h);e%=65521;c%=65521}return e|c<<16|0}},{}],4:[function(d,e){e.exports={KA:0,YT:1,LA:2,VT:3,jr:4,NT:5,bU:6,Vl:0,kr:1,JJ:2,ST:-1,$T:-2,OT:-3,IJ:-5,XT:0,LT:1,KT:9,PT:-1,TT:1,WT:2,ZT:3,UT:4,QT:0,MT:0,aU:1,cU:2,RT:8}},{}],5:[function(d,
e){var c=function(){for(var a,f=[],g=0;256>g;g++){a=g;for(var c=0;8>c;c++)a=1&a?3988292384^a>>>1:a>>>1;f[g]=a}return f}();e.exports=function(a,f,g,e){g=e+g;for(a^=-1;e<g;e++)a=a>>>8^c[255&(a^f[e])];return a^-1}},{}],6:[function(d,e){e.exports=function(){this.GP=this.WS=this.time=this.text=0;this.Ic=null;this.wx=0;this.Ww=this.name="";this.lO=0;this.done=!1}},{}],7:[function(d,e){e.exports=function(c,a){var f,g,e,h,d,m,n,p,q,u,r,v,w,z,D,A,x,y,E,F,B,G,H,J;f=c.state;g=c.pj;H=c.input;e=g+(c.Ie-5);h=c.Jd;
J=c.output;d=h-(a-c.Gc);m=h+(c.Gc-257);n=f.Ks;p=f.ze;q=f.gi;u=f.ye;r=f.window;v=f.fj;w=f.oc;z=f.Oh;D=f.yk;A=(1<<f.Og)-1;x=(1<<f.Cm)-1;a:do b:for(15>w&&(v+=H[g++]<<w,w+=8,v+=H[g++]<<w,w+=8),y=z[v&A];;){if(E=y>>>24,v>>>=E,w-=E,E=y>>>16&255,0===E)J[h++]=65535&y;else{if(!(16&E)){if(0===(64&E)){y=z[(65535&y)+(v&(1<<E)-1)];continue b}if(32&E){f.mode=12;break a}c.$a="invalid literal/length code";f.mode=30;break a}F=65535&y;(E&=15)&&(w<E&&(v+=H[g++]<<w,w+=8),F+=v&(1<<E)-1,v>>>=E,w-=E);15>w&&(v+=H[g++]<<w,
w+=8,v+=H[g++]<<w,w+=8);y=D[v&x];c:for(;;){if(E=y>>>24,v>>>=E,w-=E,E=y>>>16&255,!(16&E)){if(0===(64&E)){y=D[(65535&y)+(v&(1<<E)-1)];continue c}c.$a="invalid distance code";f.mode=30;break a}if(B=65535&y,E&=15,w<E&&(v+=H[g++]<<w,w+=8,w<E&&(v+=H[g++]<<w,w+=8)),B+=v&(1<<E)-1,B>n){c.$a="invalid distance too far back";f.mode=30;break a}if(v>>>=E,w-=E,E=h-d,B>E){if(E=B-E,E>q&&f.sz){c.$a="invalid distance too far back";f.mode=30;break a}if(y=0,G=r,0===u){if(y+=p-E,E<F){F-=E;do J[h++]=r[y++];while(--E);y=
h-B;G=J}}else if(u<E){if(y+=p+u-E,E-=u,E<F){F-=E;do J[h++]=r[y++];while(--E);if(y=0,u<F){E=u;F-=E;do J[h++]=r[y++];while(--E);y=h-B;G=J}}}else if(y+=u-E,E<F){F-=E;do J[h++]=r[y++];while(--E);y=h-B;G=J}for(;2<F;)J[h++]=G[y++],J[h++]=G[y++],J[h++]=G[y++],F-=3;F&&(J[h++]=G[y++],1<F&&(J[h++]=G[y++]))}else{y=h-B;do J[h++]=J[y++],J[h++]=J[y++],J[h++]=J[y++],F-=3;while(2<F);F&&(J[h++]=J[y++],1<F&&(J[h++]=J[y++]))}break}}break}while(g<e&&h<m);F=w>>3;g-=F;w-=F<<3;c.pj=g;c.Jd=h;c.Ie=g<e?5+(e-g):5-(g-e);c.Gc=
h<m?257+(m-h):257-(h-m);f.fj=v&(1<<w)-1;f.oc=w}},{}],8:[function(d,e,c){function a(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function f(){this.mode=0;this.last=!1;this.wrap=0;this.ty=!1;this.total=this.check=this.Ks=this.Tb=0;this.head=null;this.ye=this.gi=this.ze=this.Vn=0;this.window=null;this.Ic=this.offset=this.length=this.oc=this.fj=0;this.yk=this.Oh=null;this.lf=this.Xp=this.pn=this.GF=this.Cm=this.Og=0;this.next=null;this.Fd=new q.bo(320);this.Dq=new q.bo(288);this.tD=
this.sF=null;this.PS=this.back=this.sz=0}function g(a){var f;return a&&a.state?(f=a.state,a.cA=a.yq=f.total=0,a.$a="",f.wrap&&(a.sk=1&f.wrap),f.mode=A,f.last=0,f.ty=0,f.Ks=32768,f.head=null,f.fj=0,f.oc=0,f.Oh=f.sF=new q.co(x),f.yk=f.tD=new q.co(y),f.sz=1,f.back=-1,z):D}function l(a){var f;return a&&a.state?(f=a.state,f.ze=0,f.gi=0,f.ye=0,g(a)):D}function h(a,f){var g,c;return a&&a.state?(c=a.state,0>f?(g=0,f=-f):(g=(f>>4)+1,48>f&&(f&=15)),f&&(8>f||15<f)?D:(null!==c.window&&c.Vn!==f&&(c.window=null),
c.wrap=g,c.Vn=f,l(a))):D}function k(a,g){var c,e;return a?(e=new f,a.state=e,e.window=null,c=h(a,g),c!==z&&(a.state=null),c):D}function m(a,f,g,c){var e;a=a.state;return null===a.window&&(a.ze=1<<a.Vn,a.ye=0,a.gi=0,a.window=new q.Gj(a.ze)),c>=a.ze?(q.uk(a.window,f,g-a.ze,a.ze,0),a.ye=0,a.gi=a.ze):(e=a.ze-a.ye,e>c&&(e=c),q.uk(a.window,f,g-c,e,a.ye),c-=e,c?(q.uk(a.window,f,g-c,c,0),a.ye=c,a.gi=a.ze):(a.ye+=e,a.ye===a.ze&&(a.ye=0),a.gi<a.ze&&(a.gi+=e))),0}var n,p,q=d("../utils/common"),u=d("./adler32"),
r=d("./crc32"),v=d("./inffast"),w=d("./inftrees"),z=0,D=-2,A=1,x=852,y=592,E=!0;c.gV=l;c.hV=h;c.iV=g;c.eV=function(a){return k(a,15)};c.wO=k;c.inflate=function(f,g){var c,e,l,h,d,k,y,x,C,Q,T,N,ca,S,U,V,Z,ga,ha,W,aa,da,X=0,Y=new q.Gj(4),la=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!f||!f.state||!f.output||!f.input&&0!==f.Ie)return D;c=f.state;12===c.mode&&(c.mode=13);d=f.Jd;l=f.output;y=f.Gc;h=f.pj;e=f.input;k=f.Ie;x=c.fj;C=c.oc;Q=k;T=y;aa=z;a:for(;;)switch(c.mode){case A:if(0===c.wrap){c.mode=
13;break}for(;16>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(2&c.wrap&&35615===x){c.check=0;Y[0]=255&x;Y[1]=x>>>8&255;c.check=r(c.check,Y,2,0);C=x=0;c.mode=2;break}if(c.Tb=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&x)<<8)+(x>>8))%31){f.$a="incorrect header check";c.mode=30;break}if(8!==(15&x)){f.$a="unknown compression method";c.mode=30;break}if(x>>>=4,C-=4,W=(15&x)+8,0===c.Vn)c.Vn=W;else if(W>c.Vn){f.$a="invalid window size";c.mode=30;break}c.Ks=1<<W;f.sk=c.check=1;c.mode=512&x?10:12;C=x=0;
break;case 2:for(;16>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(c.Tb=x,8!==(255&c.Tb)){f.$a="unknown compression method";c.mode=30;break}if(57344&c.Tb){f.$a="unknown header flags set";c.mode=30;break}c.head&&(c.head.text=x>>8&1);512&c.Tb&&(Y[0]=255&x,Y[1]=x>>>8&255,c.check=r(c.check,Y,2,0));C=x=0;c.mode=3;case 3:for(;32>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}c.head&&(c.head.time=x);512&c.Tb&&(Y[0]=255&x,Y[1]=x>>>8&255,Y[2]=x>>>16&255,Y[3]=x>>>24&255,c.check=r(c.check,Y,4,0));C=x=0;c.mode=4;
case 4:for(;16>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}c.head&&(c.head.WS=255&x,c.head.GP=x>>8);512&c.Tb&&(Y[0]=255&x,Y[1]=x>>>8&255,c.check=r(c.check,Y,2,0));C=x=0;c.mode=5;case 5:if(1024&c.Tb){for(;16>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}c.length=x;c.head&&(c.head.wx=x);512&c.Tb&&(Y[0]=255&x,Y[1]=x>>>8&255,c.check=r(c.check,Y,2,0));C=x=0}else c.head&&(c.head.Ic=null);c.mode=6;case 6:if(1024&c.Tb&&(N=c.length,N>k&&(N=k),N&&(c.head&&(W=c.head.wx-c.length,c.head.Ic||(c.head.Ic=Array(c.head.wx)),
q.uk(c.head.Ic,e,h,N,W)),512&c.Tb&&(c.check=r(c.check,e,N,h)),k-=N,h+=N,c.length-=N),c.length))break a;c.length=0;c.mode=7;case 7:if(2048&c.Tb){if(0===k)break a;N=0;do W=e[h+N++],c.head&&W&&65536>c.length&&(c.head.name+=String.fromCharCode(W));while(W&&N<k);if(512&c.Tb&&(c.check=r(c.check,e,N,h)),k-=N,h+=N,W)break a}else c.head&&(c.head.name=null);c.length=0;c.mode=8;case 8:if(4096&c.Tb){if(0===k)break a;N=0;do W=e[h+N++],c.head&&W&&65536>c.length&&(c.head.Ww+=String.fromCharCode(W));while(W&&N<k);
if(512&c.Tb&&(c.check=r(c.check,e,N,h)),k-=N,h+=N,W)break a}else c.head&&(c.head.Ww=null);c.mode=9;case 9:if(512&c.Tb){for(;16>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(x!==(65535&c.check)){f.$a="header crc mismatch";c.mode=30;break}C=x=0}c.head&&(c.head.lO=c.Tb>>9&1,c.head.done=!0);f.sk=c.check=0;c.mode=12;break;case 10:for(;32>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}f.sk=c.check=a(x);C=x=0;c.mode=11;case 11:if(0===c.ty)return f.Jd=d,f.Gc=y,f.pj=h,f.Ie=k,c.fj=x,c.oc=C,2;f.sk=c.check=1;c.mode=
12;case 12:if(5===g||6===g)break a;case 13:if(c.last){x>>>=7&C;C-=7&C;c.mode=27;break}for(;3>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}switch(c.last=1&x,x>>>=1,--C,3&x){case 0:c.mode=14;break;case 1:S=c;if(E){n=new q.co(512);p=new q.co(32);for(V=0;144>V;)S.Fd[V++]=8;for(;256>V;)S.Fd[V++]=9;for(;280>V;)S.Fd[V++]=7;for(;288>V;)S.Fd[V++]=8;w(1,S.Fd,0,288,n,0,S.Dq,{oc:9});for(V=0;32>V;)S.Fd[V++]=5;w(2,S.Fd,0,32,p,0,S.Dq,{oc:5});E=!1}S.Oh=n;S.Og=9;S.yk=p;S.Cm=5;if(c.mode=20,6===g){x>>>=2;C-=2;break a}break;
case 2:c.mode=17;break;case 3:f.$a="invalid block type",c.mode=30}x>>>=2;C-=2;break;case 14:x>>>=7&C;for(C-=7&C;32>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if((65535&x)!==(x>>>16^65535)){f.$a="invalid stored block lengths";c.mode=30;break}if(c.length=65535&x,x=0,C=0,c.mode=15,6===g)break a;case 15:c.mode=16;case 16:if(N=c.length){if(N>k&&(N=k),N>y&&(N=y),0===N)break a;q.uk(l,e,h,N,d);k-=N;h+=N;y-=N;d+=N;c.length-=N;break}c.mode=12;break;case 17:for(;14>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(c.pn=
(31&x)+257,x>>>=5,C-=5,c.Xp=(31&x)+1,x>>>=5,C-=5,c.GF=(15&x)+4,x>>>=4,C-=4,286<c.pn||30<c.Xp){f.$a="too many length or distance symbols";c.mode=30;break}c.lf=0;c.mode=18;case 18:for(;c.lf<c.GF;){for(;3>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}c.Fd[la[c.lf++]]=7&x;x>>>=3;C-=3}for(;19>c.lf;)c.Fd[la[c.lf++]]=0;if(c.Oh=c.sF,c.Og=7,da={oc:c.Og},aa=w(0,c.Fd,0,19,c.Oh,0,c.Dq,da),c.Og=da.oc,aa){f.$a="invalid code lengths set";c.mode=30;break}c.lf=0;c.mode=19;case 19:for(;c.lf<c.pn+c.Xp;){for(;X=c.Oh[x&
(1<<c.Og)-1],U=X>>>24,V=65535&X,!(U<=C);){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(16>V)x>>>=U,C-=U,c.Fd[c.lf++]=V;else{if(16===V){for(S=U+2;C<S;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(x>>>=U,C-=U,0===c.lf){f.$a="invalid bit length repeat";c.mode=30;break}W=c.Fd[c.lf-1];N=3+(3&x);x>>>=2;C-=2}else if(17===V){for(S=U+3;C<S;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}x>>>=U;C-=U;W=0;N=3+(7&x);x>>>=3;C-=3}else{for(S=U+7;C<S;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}x>>>=U;C-=U;W=0;N=11+(127&x);x>>>=
7;C-=7}if(c.lf+N>c.pn+c.Xp){f.$a="invalid bit length repeat";c.mode=30;break}for(;N--;)c.Fd[c.lf++]=W}}if(30===c.mode)break;if(0===c.Fd[256]){f.$a="invalid code -- missing end-of-block";c.mode=30;break}if(c.Og=9,da={oc:c.Og},aa=w(1,c.Fd,0,c.pn,c.Oh,0,c.Dq,da),c.Og=da.oc,aa){f.$a="invalid literal/lengths set";c.mode=30;break}if(c.Cm=6,c.yk=c.tD,da={oc:c.Cm},aa=w(2,c.Fd,c.pn,c.Xp,c.yk,0,c.Dq,da),c.Cm=da.oc,aa){f.$a="invalid distances set";c.mode=30;break}if(c.mode=20,6===g)break a;case 20:c.mode=21;
case 21:if(6<=k&&258<=y){f.Jd=d;f.Gc=y;f.pj=h;f.Ie=k;c.fj=x;c.oc=C;v(f,T);d=f.Jd;l=f.output;y=f.Gc;h=f.pj;e=f.input;k=f.Ie;x=c.fj;C=c.oc;12===c.mode&&(c.back=-1);break}for(c.back=0;X=c.Oh[x&(1<<c.Og)-1],U=X>>>24,S=X>>>16&255,V=65535&X,!(U<=C);){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(S&&0===(240&S)){Z=U;ga=S;for(ha=V;X=c.Oh[ha+((x&(1<<Z+ga)-1)>>Z)],U=X>>>24,S=X>>>16&255,V=65535&X,!(Z+U<=C);){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}x>>>=Z;C-=Z;c.back+=Z}if(x>>>=U,C-=U,c.back+=U,c.length=V,0===S){c.mode=
26;break}if(32&S){c.back=-1;c.mode=12;break}if(64&S){f.$a="invalid literal/length code";c.mode=30;break}c.Ic=15&S;c.mode=22;case 22:if(c.Ic){for(S=c.Ic;C<S;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}c.length+=x&(1<<c.Ic)-1;x>>>=c.Ic;C-=c.Ic;c.back+=c.Ic}c.PS=c.length;c.mode=23;case 23:for(;X=c.yk[x&(1<<c.Cm)-1],U=X>>>24,S=X>>>16&255,V=65535&X,!(U<=C);){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(0===(240&S)){Z=U;ga=S;for(ha=V;X=c.yk[ha+((x&(1<<Z+ga)-1)>>Z)],U=X>>>24,S=X>>>16&255,V=65535&X,!(Z+U<=C);){if(0===
k)break a;k--;x+=e[h++]<<C;C+=8}x>>>=Z;C-=Z;c.back+=Z}if(x>>>=U,C-=U,c.back+=U,64&S){f.$a="invalid distance code";c.mode=30;break}c.offset=V;c.Ic=15&S;c.mode=24;case 24:if(c.Ic){for(S=c.Ic;C<S;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}c.offset+=x&(1<<c.Ic)-1;x>>>=c.Ic;C-=c.Ic;c.back+=c.Ic}if(c.offset>c.Ks){f.$a="invalid distance too far back";c.mode=30;break}c.mode=25;case 25:if(0===y)break a;if(N=T-y,c.offset>N){if(N=c.offset-N,N>c.gi&&c.sz){f.$a="invalid distance too far back";c.mode=30;break}N>
c.ye?(N-=c.ye,ca=c.ze-N):ca=c.ye-N;N>c.length&&(N=c.length);S=c.window}else S=l,ca=d-c.offset,N=c.length;N>y&&(N=y);y-=N;c.length-=N;do l[d++]=S[ca++];while(--N);0===c.length&&(c.mode=21);break;case 26:if(0===y)break a;l[d++]=c.length;y--;c.mode=21;break;case 27:if(c.wrap){for(;32>C;){if(0===k)break a;k--;x|=e[h++]<<C;C+=8}if(T-=y,f.yq+=T,c.total+=T,T&&(f.sk=c.check=c.Tb?r(c.check,l,T,d-T):u(c.check,l,T,d-T)),T=y,(c.Tb?x:a(x))!==c.check){f.$a="incorrect data check";c.mode=30;break}C=x=0}c.mode=28;
case 28:if(c.wrap&&c.Tb){for(;32>C;){if(0===k)break a;k--;x+=e[h++]<<C;C+=8}if(x!==(4294967295&c.total)){f.$a="incorrect length check";c.mode=30;break}C=x=0}c.mode=29;case 29:aa=1;break a;case 30:aa=-3;break a;case 31:return-4;default:return D}return f.Jd=d,f.Gc=y,f.pj=h,f.Ie=k,c.fj=x,c.oc=C,(c.ze||T!==f.Gc&&30>c.mode&&(27>c.mode||4!==g))&&m(f,f.output,f.Jd,T-f.Gc)?(c.mode=31,-4):(Q-=f.Ie,T-=f.Gc,f.cA+=Q,f.yq+=T,c.total+=T,c.wrap&&T&&(f.sk=c.check=c.Tb?r(c.check,l,T,f.Jd-T):u(c.check,l,T,f.Jd-T)),
f.NL=c.oc+(c.last?64:0)+(12===c.mode?128:0)+(20===c.mode||15===c.mode?256:0),(0===Q&&0===T||4===g)&&aa===z&&(aa=-5),aa)};c.uO=function(a){if(!a||!a.state)return D;var c=a.state;return c.window&&(c.window=null),a.state=null,z};c.vO=function(a,c){var f;a&&a.state&&(f=a.state,0===(2&f.wrap)||(f.head=c,c.done=!1))};c.xO=function(a,c){var f,g,e=c.length;return a&&a.state?(f=a.state,0!==f.wrap&&11!==f.mode?D:11===f.mode&&(g=1,g=u(g,c,e,0),g!==f.check)?-3:m(a,c,e,e)?(f.mode=31,-4):(f.ty=1,z)):D};c.dV="pako inflate (from Nodeca project)"},
{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(d,e){var c=d("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,
26,26,27,27,28,28,29,29,64,64];e.exports=function(e,d,m,n,p,q,u,r){var v,w,z,D,A,x,y,E,F=r.oc,B,G,H,J,M,K,P=0,O,L=null,C=0,Q=new c.bo(16);D=new c.bo(16);var T=null,N=0;for(B=0;15>=B;B++)Q[B]=0;for(G=0;G<n;G++)Q[d[m+G]]++;J=F;for(H=15;1<=H&&0===Q[H];H--);if(J>H&&(J=H),0===H)return p[q++]=20971520,p[q++]=20971520,r.oc=1,0;for(F=1;F<H&&0===Q[F];F++);J<F&&(J=F);for(B=v=1;15>=B;B++)if(v<<=1,v-=Q[B],0>v)return-1;if(0<v&&(0===e||1!==H))return-1;D[1]=0;for(B=1;15>B;B++)D[B+1]=D[B]+Q[B];for(G=0;G<n;G++)0!==
d[m+G]&&(u[D[d[m+G]]++]=G);if(0===e?(L=T=u,A=19):1===e?(L=a,C-=257,T=f,N-=257,A=256):(L=g,T=l,A=-1),O=0,G=0,B=F,D=q,M=J,K=0,z=-1,P=1<<J,n=P-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){x=B-K;u[G]<A?(y=0,E=u[G]):u[G]>A?(y=T[N+u[G]],E=L[C+u[G]]):(y=96,E=0);v=1<<B-K;F=w=1<<M;do w-=v,p[D+(O>>K)+w]=x<<24|y<<16|E|0;while(0!==w);for(v=1<<B-1;O&v;)v>>=1;if(0!==v?(O&=v-1,O+=v):O=0,G++,0===--Q[B]){if(B===H)break;B=d[m+u[G]]}if(B>J&&(O&n)!==z){0===K&&(K=J);D+=F;M=B-K;for(v=1<<M;M+K<H&&(v-=Q[M+K],!(0>=v));)M++,
v<<=1;if(P+=1<<M,1===e&&852<P||2===e&&592<P)return 1;z=O&n;p[z]=J<<24|M<<16|D-q|0}}return 0!==O&&(p[D+O]=B-K<<24|4194304),r.oc=J,0}},{"../utils/common":1}],10:[function(d,e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(d,e){e.exports=function(){this.input=null;this.cA=this.Ie=this.pj=0;this.output=null;this.yq=this.Gc=this.Jd=0;this.$a="";this.state=
null;this.NL=2;this.sk=0}},{}],"/lib/inflate.js":[function(d,e,c){function a(c){if(!(this instanceof a))return new a(c);var f=this.options=l.assign({nL:16384,ad:0,to:""},c||{});f.raw&&0<=f.ad&&16>f.ad&&(f.ad=-f.ad,0===f.ad&&(f.ad=-15));!(0<=f.ad&&16>f.ad)||c&&c.ad||(f.ad+=32);15<f.ad&&48>f.ad&&0===(15&f.ad)&&(f.ad|=15);this.ux=0;this.$a="";this.ended=!1;this.Bs=[];this.ql=new n;this.ql.Gc=0;c=g.wO(this.ql,f.ad);if(c!==k.Vl)throw Error(m[c]);this.header=new p;g.vO(this.ql,this.header)}function f(c,
f){var g=new a(f);if(g.push(c,!0),g.ux)throw g.$a||m[g.ux];return g.result}var g=d("./zlib/inflate"),l=d("./utils/common"),h=d("./utils/strings"),k=d("./zlib/constants"),m=d("./zlib/messages"),n=d("./zlib/zstream"),p=d("./zlib/gzheader"),q=Object.prototype.toString;a.prototype.push=function(a,c){var f,e,d,p,m,n,y=this.ql,E=this.options.nL,F=this.options.KU,B=!1;if(this.ended)return!1;e=c===~~c?c:!0===c?k.jr:k.KA;"string"==typeof a?y.input=h.$K(a):"[object ArrayBuffer]"===q.call(a)?y.input=new Uint8Array(a):
y.input=a;y.pj=0;y.Ie=y.input.length;do{if(0===y.Gc&&(y.output=new l.Gj(E),y.Jd=0,y.Gc=E),f=g.inflate(y,k.KA),f===k.JJ&&F&&(n="string"==typeof F?h.gS(F):"[object ArrayBuffer]"===q.call(F)?new Uint8Array(F):F,f=g.xO(this.ql,n)),f===k.IJ&&!0===B&&(f=k.Vl,B=!1),f!==k.kr&&f!==k.Vl)return this.Vy(f),this.ended=!0,!1;y.Jd&&(0!==y.Gc&&f!==k.kr&&(0!==y.Ie||e!==k.jr&&e!==k.LA)||("string"===this.options.to?(d=h.LS(y.output,y.Jd),p=y.Jd-d,m=h.bL(y.output,d),y.Jd=p,y.Gc=E-p,p&&l.uk(y.output,y.output,d,p,0),this.NF(m)):
this.NF(l.qH(y.output,y.Jd))));0===y.Ie&&0===y.Gc&&(B=!0)}while((0<y.Ie||0===y.Gc)&&f!==k.kr);return f===k.kr&&(e=k.jr),e===k.jr?(f=g.uO(this.ql),this.Vy(f),this.ended=!0,f===k.Vl):e!==k.LA||(this.Vy(k.Vl),y.Gc=0,!0)};a.prototype.NF=function(a){this.Bs.push(a)};a.prototype.Vy=function(a){a===k.Vl&&("string"===this.options.to?this.result=this.Bs.join(""):this.result=l.RD(this.Bs));this.Bs=[];this.ux=a;this.$a=this.ql.$a};c.sT=a;c.inflate=f;c.fV=function(a,c){return c=c||{},c.raw=!0,f(a,c)};c.iW=f},
{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});
(function(b){b.kg={Di:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d){for(var e="",c,a,f,g,l,h,k=0;k<d.length;)c=d.charCodeAt(k++),a=d.charCodeAt(k++),f=d.charCodeAt(k++),g=c>>2,c=(c&3)<<4|a>>4,l=(a&15)<<2|f>>6,h=f&63,isNaN(a)?l=h=64:isNaN(f)&&(h=64),e=e+b.kg.Di.charAt(g)+b.kg.Di.charAt(c)+b.kg.Di.charAt(l)+b.kg.Di.charAt(h);return e},decode:function(d){var e="",c,a,f,g,l,h=0;for(d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<d.length;)c=b.kg.Di.indexOf(d.charAt(h++)),
a=b.kg.Di.indexOf(d.charAt(h++)),g=b.kg.Di.indexOf(d.charAt(h++)),l=b.kg.Di.indexOf(d.charAt(h++)),c=c<<2|a>>4,a=(a&15)<<4|g>>2,f=(g&3)<<6|l,e+=String.fromCharCode(c),64!==g&&(e+=String.fromCharCode(a)),64!==l&&(e+=String.fromCharCode(f));return e}};"undefined"===typeof window.btoa&&(window.btoa=b.kg.encode);"undefined"===typeof window.atob&&(window.atob=b.kg.decode)})(window);
(function(b){function d(b){var c;"string"!==typeof b?b={documentElement:b}:(c=new DOMParser,b=c.parseFromString(b,"text/xml"));this.current=b.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}d.prototype={aB:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.aB();return this.next?(this.current=this.next,this.next=this.current.nextSibling,!0):!1},ta:function(){return this.current.tagName},ma:function(){++this.depth;
this.next=this.current.firstChild;this.aB();this.next||++this.diff},wa:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},K:function(b){return this.current.getAttribute(b)}};b.Xe=d})(window);
(function(b){function d(b){this.depth=this.index=0;this.be=b;this.location={start:0,Kt:1,Lt:1,end:b.length,empty:!0};this.Tp=[this.location];this.wy=!1;"?"===this.be.charAt(1)&&this.wE();this.location.empty=!1}b.hr=b.hr?b.hr:{};b.hr.uS=function(b){if(b)return b.replace(/&[^;]*;/g,function(c){switch(c.charAt(1)){case "q":return'"';case "a":return"&";case "l":return"<";case "g":return">";case "#":return"x"===c.charAt(2)?String.fromCharCode(parseInt(c.substring(3,c.length-1),16)):String.fromCharCode(parseInt(c.substring(2,
c.length-1),10))}return c})};d.prototype={advance:function(){this.Mi=null;this.wE();var b=this.location.start;++b;this.location.empty=!1;if("/"!==this.be.charAt(b))return this.location.empty="/"===this.be.charAt(this.be.indexOf(">",b)-1),!0;this.location.end=!0;return!1},vF:function(){var b=this.location.start+1,c=this.be.indexOf(">",b);this.location.empty&&--c;b=this.be.substring(b,c);this.Mi={};c=b.indexOf(" ");if(-1!==c){this.GD=b.substring(0,c);for(var b=b.slice(c),b=b.split('"'),c=b.length-1,
a=0;a<c;++a){var f=b[a],g=b[++a];this.Mi[f.substring(1,f.length-1)]=g}}else this.GD=b},wE:function(){if(this.wy)this.wy=!1,this.location.start=this.be.indexOf("<",this.location.start+1);else{var b=this.location.Kt;if(!this.location.empty)for(var c=this.location.Lt;0<c;)b=this.be.indexOf("<",b),"/"===this.be.charAt(++b)?--c:(b=this.be.indexOf(">",b),"/"!==this.be.charAt(b-1)&&++c);this.location.start=this.be.indexOf("<",b)}this.location.Kt=this.location.start+1;this.location.Lt=1},mark:function(){this.be.mark&&
this.be.mark(this.location.start)},ta:function(){null!==this.Mi&&"undefined"!==typeof this.Mi||this.vF();return this.GD},ma:function(){++this.depth;this.location={start:this.location.start};this.Tp[this.Tp.length]=this.location;this.wy=!0},wa:function(){--this.depth;this.Mi=null;var b=this.location.Kt,c=this.location.Lt,a=this.location.empty,f=this.location.end;this.Tp.pop();this.location=this.Tp[this.Tp.length-1];this.location.Kt=b;this.location.Lt=f?0:a?c:c+1},K:function(e){null!==this.Mi&&"undefined"!==
typeof this.Mi||this.vF();return b.hr.uS(this.Mi[e])}};b.JT=d})(self);
(function(b){b.setImmediate||function(){function d(a){var b=a.data;if("string"==typeof b&&0==b.indexOf("IM")&&(a=c[b]))a:{delete c[b],b=a[0];switch(a.length){case 1:b();break a;case 2:b(a[1]);break a;case 3:b(a[1],a[2]);break a}b.apply(window,f.call(a,1))}}var e=0,c={},a=!0,f=Array.prototype.slice;b.setImmediate=function(){for(var f=e++,l="IM"+f,h=arguments.length,k=Array(h);h--;)k[h]=arguments[h];c[l]=k;a&&(a=!1,b.addEventListener("message",d));b.postMessage(l,"*");return f};b.clearImmediate=function(a){delete c["IM"+
a]}}()})("undefined"===typeof self?this:self);
(function(b){function d(a){if(a){if(a.length!==this.Cl)throw Error("Data is wrong size for zip header!");this.mp=a=this.cQ(a);if(a.wj!==this.nM)throw Error("Invalid XOD file, signature is wrong!");this.YO=4294967295===a.Js;this.Pf={};this.names=[]}}function e(a,c,e){this.source=a;this.zs=this.Pw=!1;this.sf={};this.Bk=function(){};this.decrypt=c;this.wk=e;this.fD=b.o.bh&&c!==b.o.bh.decrypt}function c(a){this.al=a;this.started=!1;this.Wh=1}c.prototype={cancel:function(){}};b.aj=function(a){if("string"!==
typeof a){for(var c="",b=0,e=a.length,d;b<e;)d=a.subarray(b,b+1024),b+=1024,c+=String.fromCharCode.apply(null,d);return c}return a};b.SN=function(a){if("string"===typeof a){for(var c=new Uint8Array(a.length),b=a.length,e=0;e<b;e++)c[e]=a.charCodeAt(e);return c}return a};e.prototype={Cf:"Document/FixedDocument.fdoc",lg:"Document/DocProps/core.xml",Bf:"Document/Structure/DocStruct.struct",YQ:function(a){this.Bk=a},hl:function(a){var c=this;this.mn(function(e){if(e){b.utils.warn("Error loading document: "+
e);c.Bk(e);if(a){a(e);return}throw e;}return c.request([c.Cf,c.lg,c.Bf])})},$h:function(){return!1},request:function(a,c){var b=this;if(!b.Pw)throw Error("Document must be loaded before requesting parts");_(a).each(function(a){b.sM(a,function(a,f,e,h){return a?(f!==b.Bf&&b.Bk(a),b.trigger("partReady",{oa:f,Mf:!1,gd:!!a.Aw,error:a})):b.trigger("partReady",{oa:f,data:e,Mf:!1,gd:!1,error:null,xb:h,KF:c})})})},ml:function(a){this.jf=a},Pz:function(a){this.withCredentials=a},Mw:function(a){var c=this;
_(a).each(function(a){var b=c.sf[a];b&&(b.Wh--,0===b.Wh&&(delete c.sf[a],b.cancel()))})},sM:function(a,b){if(this.sf[a])this.sf[a].Wh++;else return this.sf[a]=new c(a),this.oG(a,b)}};_(e.prototype).extend(Backbone.Events);d.prototype={kE:function(){return{start:this.mp.Js,stop:this.mp.Js+this.mp.rD}},xp:function(a){var c=this.Pf[a],b=c.offset+this.no+c.Tg+c.Ck;return{start:b,stop:b+c.us,al:a}},bt:function(a){a=this.xp(a);var c=Math.floor(a.start/102400),b=a.stop-a.start;return Math.min(b,102400*(c+
1)-a.start)>b/2?c:c+1},jP:function(a){if(a&&(this.mp=a=this.fQ(a),a.wj!==this.XS))throw Error("Invalid XOD file, signature is wrong!");},TM:function(a){var c=this.bt(a),b=this.names.indexOf(a),e;a=[];var d;for(d=b-1;0<=d&&this.bt(this.names[d])===c;--d);e=d+1;var m=this.xp(this.names[e]).start;for(d=b+1;d<this.names.length&&this.bt(this.names[d])===c;++d);c=d-1;b=this.xp(this.names[c]).stop;for(d=e;d<=c;++d)e=this.xp(this.names[d]),e.start-=m,e.stop-=m,a.push(e);return{start:m,stop:b,lG:a}},WC:function(a){return!!this.Pf[a]},
dF:function(a){return 0!==this.Pf[a].Cs},mG:function(a){for(var c=10,b=this.lI,e=this.mp.DH,d=0;d<e;d++){var m=this.dQ(a,c),c=c+b,n=a.substr(c,m.Tg),c=c+(m.Tg+m.Ck+m.UC+10);this.Pf[n]=m;this.names[this.names.length]=n}},GJ:56,HJ:20,Cl:22,lI:36,no:30,su:function(a,c,b){for(var e="",d=0;d<c;d++)var m=a.charCodeAt(d+b).toString(16),e=1===m.length?"0"+m+e:m+e;return parseInt(e,16)},dQ:function(a,c){var b={},e=this.su;b.Cs=e(a,2,c);b.us=e(a,4,c+10);b.sS=e(a,4,c+14);b.Tg=e(a,2,c+18);b.Ck=e(a,2,c+20);b.UC=
e(a,2,c+22);b.offset=e(a,4,c+32);return b},fQ:function(a){var c={},b=this.su;c.wj=b(a,4,0);c.aV=b(a,8,4);c.kW=b(a,2,12);c.lW=b(a,2,14);c.ZL=b(a,4,16);c.lL=b(a,4,20);c.zP=b(a,8,24);c.DH=b(a,8,32);c.rD=b(a,8,40);c.Js=b(a,8,48);return c},cQ:function(a){var c={},b=this.su;c.wj=b(a,4,0);c.ZL=b(a,2,4);c.lL=b(a,2,6);c.zP=b(a,2,8);c.DH=b(a,2,10);c.rD=b(a,4,12);c.Js=b(a,4,16);c.UC=b(a,2,20);return c},nG:function(a){var c={},b=this.su;c.wj=b(a,4,0);c.jW=b(a,2,4);c.Tb=b(a,2,6);c.Cs=b(a,2,8);c.zV=b(a,2,10);c.yV=
b(a,2,12);c.qU=b(a,4,14);c.us=b(a,4,18);c.sS=b(a,4,22);c.Tg=b(a,2,26);c.Ck=b(a,2,28);return c},nM:101010256,XS:101075792,AF:67324752,BF:"PK\u0003\u0004"};d.inflate=function(a){return"string"===typeof a?b.Ol.inflate(a):b.KP.inflate(a,{ad:-15})};b.o=b.o||{};b.o.V=b.o.V||{};var a=b.o.V;a.Ve=e;a.xi=d;a.Hw=Array(1024);b.ay=function(c,g,e,d){g=g||0;e=e||!1;var k="",m;m=!(_.isNull(c.responseBody)||_.isUndefined(c.responseBody));if(10===b.utils.ie&&m||!b.Uint8Array&&m){m=c.responseBody;d=_.isArray(m)?m:(new b.VBArray(m)).toArray();
g=d.length;c=Array(g);for(e=0;e<g;e++)c[e]=d[e]&255;e=g/1024+1;for(g=0;g<e;g++)k+=String.fromCharCode.apply(null,c.slice(1024*g,1024*g+1024))}else if(!b.Uint8Array||e||_.isUndefined(c.response))for(m=c.responseText,c=a.Hw,e=g;e<d;){for(g=0;1024>g&&e<d;++g)c[g]=m.charCodeAt(e)&255,++e;k+=String.fromCharCode.apply(null,c.slice(0,g))}else{m=c.response;d=new b.Uint8Array(m);m=d.length;e=g;if(b.utils.typedArrayApply)return d.subarray(g);for(c=a.Hw;e<m;){g=0;for(var n=Math.min(e+1024,m);e<n;g++,e++)c[g]=
d[e];k+=String.fromCharCode.apply(null,1024>g?c.slice(0,g):c)}}return k};b.o.V.ji={Xq:0,pA:1,HI:2}})(window);
(function(b){function d(a,c,g){e.apply(this,arguments);if("xod"!==a.name.split(".").pop())throw Error("Not an XOD file");if(!b.FileReader||!b.File||!b.Blob)throw Error("File API is not supported in this browser");this.file=a;this.As=[];this.ax=0}var e=b.o.V.Ve,c=b.o.V.xi;d.prototype=new e;d.prototype=_(d.prototype).extend({My:function(a,c,b){var e=this,d=new FileReader;d.onloadend=function(a,m){if(0<e.As.length){var n=e.As.shift();n.gQ.readAsBinaryString(n.file)}else e.ax--;if(d.error){n=d.error;
if(n.code===n.ABORT_ERR){console.warn("Request for chunk "+c.start+"-"+c.stop+" was aborted");return}return b(n)}return b(!1,m||a.target.result)};c&&(a=(a.slice||a.webkitSlice||a.mozSlice||a.xx).call(a,c.start,c.stop));0===e.As.length&&50>e.ax?(d.readAsBinaryString(a),e.ax++):e.As.push({gQ:d,file:a});return function(){d.abort()}},mn:function(a){var b=this;b.zs=!0;var g=c.prototype.Cl;b.My(b.file,{start:-g,stop:b.file.size},function(e,d){if(e)return console.warn("Error loading end header: %s",e),a(e);
if(d.length!==g)throw Error("Zip end header data is wrong size!");b.Bb=new c(d);var k=b.Bb.kE();b.My(b.file,k,function(c,g){if(c)return console.warn("Error loading central directory: %s",c),a(c);if(g.length!==k.stop-k.start)throw Error("Zip central directory data is wrong size!");b.Bb.mG(g);b.Pw=!0;b.zs=!1;return a(!1)})})},oG:function(a,c){var b=this,e=b.sf[a];if(!b.Bb.WC(a))return c(Error('File not found: "'+a+'"'),a);var d=b.Bb.xp(a),k=b.My(b.file,d,function(e,l){delete b.sf[a];if(e)return console.warn('Error loading part "%s": %s',
a,e),c(e);if(l.length!==d.stop-d.start)throw Error("Part data is wrong size!");var k=b.Bb.dF(a);c(!1,a,l,k)});e.started=!0;e.cancel=k}});b.o.V.DI=d;b.Ue=b.Ue||{};b.Ue.mT=function(a){return{name:a.value.split(/[/\\]/).pop(),size:null,data:null,waiting:[],vy:!1,xx:function(a,c){return{OF:this,xx:this.xx,start:a,stop:c}}}};b.Ue.nT=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(a){var c=a.OF||a,b=this,e=encodeURI(c.name);if(c.data)return this.py(a);if(c.vy)return c.waiting.push(function(){b.py(a)});
c.vy=!0;new JSIO.hT(e,function(e){c.vy=!1;if(e)return console.error('Failed to load file "%s"',c.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),b.error=Error('Failed to load file "%s"',c.name),b.onloadend(b.error);c.size=this.fileSize;c.data=this.read(this.fileSize);b.py.call(b,a);for(e=0;e<c.waiting.length;e++)c.waiting[e]();c.waiting=[]})},py:function(a){var c=a.OF||a,b=a.start||0;a=a.stop||c.size;null===b&&(b=c.size);null===a&&(a=c.size);0>b&&(b=c.size+
b);0>a&&(a=c.size+a);c=c.data.slice(b,a);b="";for(a=0;a<c.length/1E3;a++)b+=String.fromCharCode.apply(null,c.slice(1E3*a,1E3*a+1E3));this.result=b;this.onloadend({},b)}}}})(window);
(function(b){function d(b){this.file=b}d.prototype=$.extend({getFileData:function(b){var c=this,a=new FileReader;a.onload=function(a){c.trigger("documentLoadingProgress",[a.loaded,a.loaded]);b(new Uint8Array(a.target.result))};a.onprogress=function(a){a.lengthComputable&&c.trigger("documentLoadingProgress",[a.loaded,0<a.total?a.total:0])};a.readAsArrayBuffer(this.file)},getFile:function(){return b.utils.isJSWorker?this.file.path:this.file}},b.utils.eventHandler);b.o.V.EI=d})(window);
(function(b){function d(b){this.buffer=b}d.prototype=$.extend({getFileData:function(b){b(new Uint8Array(this.buffer))},getFile:function(){return null}},b.utils.eventHandler);b.o.V.bI=d})(window);
(function(b){function d(a,c,b,f){g.apply(this,[a,b,f]);this.Zh={};this.Zo=c;this.url=a}function e(){this.Wh=1}function c(a){var c=a.request,f=a.range;return function(g,e){if(g){if(g.code===c.Db.Ej){b.utils.warn("Request for range "+f.start+"-"+f.stop+" was aborted");return}return a.Ke.forEach(function(a){a("Error retrieving file: "+c.url+". Received return status "+g.status+".")})}return a.Ke.forEach(function(a){a(!1,e,c)})}}function a(a,c,f,g){this.url=a;this.range=c;this.jf=f;this.request=new XMLHttpRequest;
this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");g&&(this.request.withCredentials=g);_.isUndefined(c.stop)?this.request.setRequestHeader("Range","bytes="+c.start):this.request.setRequestHeader("Range",["bytes=",c.start,"-",c.stop-1].join(""));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");if(f)for(var e in f)this.request.setRequestHeader(e,f[e]);this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):
this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Db.pi}function f(a,c,f){for(var g=-1,e=0;e<f.length;e++)_.isEqual(f[e].range,c)&&_.isEqual(f[e].url,a)&&(g=e);-1===g&&b.utils.warn(c+" not found in queue");return g}var g=b.o.V.Ve,l=b.o.V.xi,h=[],k=[];a.prototype={constructor:a,start:function(a){var c=this,f=this.request;f.onreadystatechange=function(){if(c.Aw)return c.status=c.Db.Ej,a({code:c.Db.Ej});if(this.readyState===c.EJ.DONE){c.et();var g=0===window.document.URL.indexOf("file:///");
200===f.status||206===f.status||g&&0===f.status?(g=b.ay(this),c.success(g,a)):(c.status=c.Db.ERROR,a({code:c.status,status:this.status}))}};this.request.send(null);this.status=this.Db.Qj},success:function(a,c){this.status=this.Db.jJ;if(c)return c(!1,a)},abort:function(){this.et();this.Aw=!0;this.request.abort()},et:function(){var a=f(this.url,this.range,k);-1!==a&&k.splice(a,1);if(0<h.length){var a=h.shift(),b=new this.constructor(a.url,a.range,this.jf,this.withCredentials);a.request=b;k.push(a);
b.start(c(a))}},EJ:{HT:0,DONE:4},Db:{pi:0,Qj:1,jJ:2,ERROR:3,Ej:4},extend:function(a){var c=$.extend({},this,a.prototype);c.constructor=a;return c}};b.oW=[];d.prototype={qu:a,FI:3,Es:function(a,c,f){var g=-1===a.indexOf("?")?"?":"&";switch(f){case !1:case b.o.V.ji.Xq:a=a+g+"_="+_.uniqueId();break;case !0:case b.o.V.ji.pA:a=a+g+"_="+c.start+","+(_.isUndefined(c.stop)?"":c.stop)}return a},oM:function(a,c,b,f,g){for(var e=0;e<h.length;e++)if(_.isEqual(h[e].range,c)&&_.isEqual(h[e].url,a))return h[e].Ke.push(f),
h[e].Zt++,null;for(e=0;e<k.length;e++)if(_.isEqual(k[e].range,c)&&_.isEqual(k[e].url,a))return k[e].Ke.push(f),k[e].Zt++,null;b={url:a,range:c,Zo:b,Ke:[f],Zt:1,request:{}};if(0===h.length&&k.length<this.FI)return k.push(b),b.request=new this.qu(a,c,g,this.withCredentials),b;h.push(b);return null},Uk:function(a,b,g){var e=this.Es(a,b,this.Zo);(a=this.oM(e,b,this.Zo,g,this.jf))&&a.request.start(c(a));return function(){var a=f(e,b,k),c;-1!==a?(c=--k[a].Zt,0===c&&k[a].request.abort()):(a=f(e,b,h),-1!==
a&&(c=--h[a].Zt,0===c&&h.splice(a,1)))}},pE:function(){return{start:-l.prototype.Cl}},$N:function(){var a=-(l.prototype.Cl+l.prototype.HJ);return{start:a-l.prototype.GJ,end:a}},mn:function(a){var c=this;c.zs=!0;var f=l.prototype.Cl;c.Uk(c.url,c.pE(),function(g,e){function d(){var f=c.Bb.kE();c.Uk(c.url,f,function(g,e){if(g)return b.utils.warn("Error loading central directory: "+g),a(g);e=b.aj(e);if(e.length!==f.stop-f.start)return a("Invalid XOD file: Zip central directory data is wrong size! Should be "+
(f.stop-f.start)+" but is "+e.length);c.Bb.mG(e);c.Pw=!0;c.zs=!1;return a(!1)})}if(g)return b.utils.warn("Error loading end header: "+g),a(g);e=b.aj(e);if(e.length!==f)return a("Invalid XOD file: Zip end header data is wrong size!");try{c.Bb=new l(e)}catch(h){return a(h)}c.Bb.YO?c.Uk(c.url,c.$N(),function(f,g){if(f)return b.utils.warn("Error loading zip64 header: "+f),a(f);g=b.aj(g);c.Bb.jP(g);d()}):d()})},Yx:function(a){a(Object.keys(this.Bb.Pf))},oG:function(a,c){var f=this;if(!f.Bb.WC(a))return delete f.sf[a],
c(Error('File not found: "'+a+'"'),a);var g=f.Bb.bt(a);if(g in f.Zh){var l=f.sf[a];l.vm=f.Zh[g];l.vm.Wh++;l.cancel=l.vm.cancel}else{var d=f.Bb.TM(a),h=f.Uk(f.url,d,function(e,l){e?(b.utils.warn('Error loading part "'+a+'": '+e),f.Uk(f.url,d,function(b,e){if(b)return c(b,a);f.pG(e,d,g,a,c)})):f.pG(l,d,g,a,c)}),k=f.sf[a];k&&(k.started=!0,k.cancel=function(){k.vm.Wh--;0===k.vm.Wh&&(h(),delete f.Zh[g])},f.Zh[g]=new e,k.vm=f.Zh[g],k.vm.cancel=k.cancel)}},pG:function(a,c,b,f,g){if(a.length!==c.stop-c.start)return g(Error("Part data is wrong size!"),
f);do{if(!this.Zh[b])return;f=this.Zh[b].Wh;for(var e=c.lG.length,l=0;l<e;++l){var d=c.lG[l];g(!1,d.al,a["string"===typeof a?"substring":"subarray"](d.start,d.stop),this.Bb.dF(d.al));d.al in this.sf&&delete this.sf[d.al]}}while(f!==this.Zh[b].Wh);delete this.Zh[b]}};d.prototype=$.extend(new g,d.prototype);b.o.V.Hj=d;b.o.V.hv=a})(window);
(function(b){function d(c,a){e.apply(this,[c]);this.url=c;-1===a.indexOf("/",a.length-1)&&(a+="/");this.path=a}var e=b.o.V.Ve;d.prototype=new e;d.prototype=_(d.prototype).extend({request:function(c){var a=this;_(c).each(function(c){var g=-1!==c.indexOf("Thumbs/"),e=-1!==c.indexOf("Fonts/");if(-1!==c.indexOf("Images/")||g||e)return a.trigger("partReady",{oa:c,data:c,Mf:!0,gd:!1,error:null,xb:!1});$.ajax({url:a.path+c,mimeType:"text/plain; charset=x-user-defined",xhr:function(){var a=$.ajaxSettings.xhr();
a&&(this.HN=function(){return a.responseBody});return a},success:function(g){var e=b.utils.ie?this.HN():g;g="";var l,d,p;if(b.utils.ie){e=(new b.VBArray(e)).toArray();p=e.length;l=Array(p);for(d=0;d<p;d++)l[d]=e[d]&255;e=p/1024+1;for(d=0;d<e;d++)g+=String.fromCharCode.apply(null,l.slice(1024*d,1024*d+1024))}else for(l=b.o.V.Hw,d=0;d<e.length;){for(p=0;1024>p&&d<e.length;++p)l[p]=e.charCodeAt(d)&255,++d;g+=String.fromCharCode.apply(null,l.slice(0,p))}return a.trigger("partReady",{oa:c,data:g,Mf:!1,
gd:!1,error:null,xb:!0})},error:function(b,g,e){b=Error(g+" "+e);return a.trigger("partReady",{oa:c,Mf:!1,gd:!!b.Aw,error:b})}})})},mn:function(c){c()}});b.o.V.pv=d})(window);
(function(b){function d(b,c){c=c||{};this.url=b;this.filename=c.filename||b;this.jf=null;this.JS=!!c.useDownloader;this.withCredentials=!!c.withCredentials}d.prototype=$.extend({ml:function(b){this.jf=b},getFileData:function(b){var c=new XMLHttpRequest,a=0===this.url.indexOf("blob:")?"blob":"arraybuffer";c.open("GET",this.url,!0);c.withCredentials=this.withCredentials;c.responseType=a;var f=this;if(this.jf)for(var g in this.jf)c.setRequestHeader(g,this.jf[g]);var l=/^https?:/i.test(this.url);c.addEventListener("load",
function(a){if(200===this.status||!l&&0===this.status)if(f.trigger("documentLoadingProgress",[a.loaded,a.loaded]),"blob"===this.responseType){a=this.response;var c=new FileReader;c.onload=function(a){b(new Uint8Array(a.target.result))};c.readAsArrayBuffer(a)}else try{c=new Uint8Array(this.response),b(c)}catch(g){f.trigger("error",["pdfLoad","Out of memory"])}else f.trigger("error",["pdfLoad",a.currentTarget.statusText])},!1);c.onprogress=function(a){f.trigger("documentLoadingProgress",[a.loaded,0<
a.total?a.total:0])};c.addEventListener("error",function(){f.trigger("error",["pdfLoad","Network failure"])},!1);c.send()},getFile:function(){if(b.utils.isJSWorker)return this.url;if(this.JS){var e={url:this.url};this.jf&&(e.customHeaders=this.jf);return e}return null}},b.utils.eventHandler);b.o.V.Tq=d})(window);
(function(b){function d(b,f,d,k){a.apply(this,[b,d,k]);this.url=b;this.stream=new c(b,f);this.Bb=new e;this.iq=createPromiseCapability()}function e(){this.buffer="";this.state=0;this.pl=4;this.Kc=null;this.Qe=f.prototype.no;this.Pf={}}function c(a,c){var f=-1===a.indexOf("?")?"?":"&";switch(c){case !1:case b.o.V.ji.Xq:this.url=a+f+"_="+_.uniqueId();break;default:this.url=a}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");
this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Db.pi}var a=b.o.V.Ve,f=b.o.V.xi;c.prototype={start:function(a,c){var b=this,f=this.request,e;b.Zf=0;if(a)for(var d in a)this.request.setRequestHeader(d,a[d]);c&&(this.request.withCredentials=c);this.Th=setInterval(function(){var a=0===window.document.URL.indexOf("file:///"),a=200===f.status||a&&0===f.status;if(4!==f.readyState||
a){try{f.responseText}catch(c){return}b.Zf<f.responseText.length&&(e=b.jz())&&b.trigger("data",e);0===f.readyState&&(clearInterval(b.Th),b.trigger("done"))}else clearInterval(b.Th),b.trigger("done","Error received return status "+f.status)},1E3);this.request.send(null);this.status=this.Db.Qj},jz:function(){var a=this.request,c=a.responseText;if(0!==c.length)if(this.Zf===c.length)clearInterval(this.Th),this.trigger("done");else return c=Math.min(this.Zf+3E6,c.length),a=b.ay(a,this.Zf,!0,c),this.Zf=
c,a},abort:function(){clearInterval(this.Th);var a=this;this.request.onreadystatechange=function(){b.utils.warn("StreamingRequest aborted");a.status=a.Db.Ej;return a.trigger("aborted")};this.request.abort()},finish:function(){var a=this;this.request.onreadystatechange=function(){a.status=a.Db.qv;return a.trigger("done")};this.request.abort()},Db:{pi:0,Qj:1,qv:2,ERROR:3,Ej:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new f;e.prototype=_(e.prototype).extend({processData:function(a){var c;
for(a=this.buffer+a;a.length>=this.Qe;)switch(this.state){case 0:this.Kc=c=this.nG(a.slice(0,this.Qe));if(c.wj!==this.AF)throw Error("Wrong signature in local header: "+c.wj);a=a.slice(this.Qe);this.state=1;this.Qe=c.us+c.Tg+c.Ck+this.pl;this.trigger("header",c);break;case 1:if(this.Kc.name=a.slice(0,this.Kc.Tg),this.Pf[this.Kc.name]=this.Kc,c=this.Qe-this.pl,this.trigger("file",this.Kc.name,a.slice(this.Kc.Tg+this.Kc.Ck,c),this.Kc.Cs),a=a.slice(c),a.slice(0,this.pl)===this.BF)this.state=0,this.Qe=
f.prototype.no;else return this.state=2,!0}this.buffer=a;return!1}});_(e.prototype).extend(Backbone.Events);d.prototype=new a;d.prototype=_(d.prototype).extend({hl:function(a){var c=this;this.request([this.Cf,this.lg,this.Bf]);this.stream.bind("data",function(b){try{if(c.Bb.processData(b))return c.stream.finish()}catch(f){throw c.stream.abort(),c.Bk(f),a(f),f;}});this.stream.bind("done",function(b){c.iq.resolve();b&&(c.Bk(b),a(b))});this.Bb.bind("header",_(this.tu).bind(this));this.Bb.bind("file",
_(this.lz).bind(this));return this.stream.start(this.jf,this.withCredentials)},Yx:function(a){var c=this;this.iq.promise.then(function(){a(Object.keys(c.Bb.Pf))})},$h:function(){return!0},request:function(){},tu:function(){},abort:function(){this.stream&&this.stream.abort()},lz:function(a,c,b){this.trigger("partReady",{oa:a,data:c,Mf:!1,gd:!1,error:null,xb:b})}});b.o.V.IA=d;b.o.V.ET=c})(window);
(function(b){function d(b,f,d,k){a.apply(this,[b,d,k]);this.url=b;this.stream=new c(b,f);this.Bb=new e(f,d,k,b.slice(0,b.lastIndexOf("/")+1));this.iq=createPromiseCapability();this.WL={};this.CG=null;this.timeStamp=0}function e(a,c,b,e){this.Zo=a;this.decrypt=c;this.wk=b;this.buffer="";this.state=0;this.pl=4;this.Kc=null;this.Qe=f.prototype.no;this.tn=[];this.Bu=[];this.$p=this.Sy=0;this.Pf={};this.BQ=e;this.St="";this.ru=null;this.Ky="";this.pz=0;this.mP=5}function c(a,c){var f=-1===a.indexOf("?")?
"?":"&";switch(c){case !1:case b.o.V.ji.Xq:this.url=a+f+"_="+_.uniqueId();break;default:this.url=a}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Db.pi}var a=b.o.V.Ve,f=b.o.V.xi;c.prototype={start:function(a,c){var b=this,f=this.request,
e;b.Zf=0;if(a)for(var d in a)this.request.setRequestHeader(d,a[d]);c&&(this.request.withCredentials=c);this.Th=setInterval(function(){var a=0===window.document.URL.indexOf("file:///"),a=200===f.status||a&&0===f.status;if(4!==f.readyState||a){try{f.responseText}catch(c){return}b.Zf<f.responseText.length&&(e=b.jz())&&b.trigger("data",e);0===f.readyState&&(clearInterval(b.Th),b.trigger("done"))}else clearInterval(b.Th),b.trigger("done","Error received return status "+f.status)},300);this.request.send(null);
this.status=this.Db.Qj},jz:function(){var a=this.request,c=a.responseText;if(0!==c.length)if(this.Zf===c.length)clearInterval(this.Th),this.trigger("done");else return c=Math.min(this.Zf+3E6,c.length),a=b.ay(a,this.Zf,!0,c),this.Zf=c,a},abort:function(){clearInterval(this.Th);var a=this;this.request.onreadystatechange=function(){b.utils.warn("RangeStreamingRequest aborted");a.status=a.Db.Ej;return a.trigger("aborted")};this.request.abort()},finish:function(){var a=this;this.request.onreadystatechange=
function(){a.status=a.Db.qv;return a.trigger("done")};this.request.abort()},Db:{pi:0,Qj:1,qv:2,ERROR:3,Ej:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new f;e.prototype=_(e.prototype).extend({ML:function(a){a=b.utils.utf8_decode(a).split("\n");this.Ky&&(a[0]=this.Ky+a[0]);var c=a[a.length-1];c&&(this.Ky=c,a.pop());0<a.length&&3>a[a.length-1].length&&a.pop();0<a.length&&3>a[0].length&&a.shift();return a},bQ:function(a){if(!a)return!1;a=this.ML(a);for(var c=0,b=0,f,e=this.St,d=!1,p=0;p<a.length;++p)if(f=
a[p].trim().replace(/(^[[,]*|[\],]*$)/g,""),!(4>f.length)){f=JSON.parse(f)||{};f.url&&(this.St=this.BQ+f.url,e!==this.St&&(c=0,d=!0),e=this.St);f.size&&(0===c&&(b=f.pos),c+=f.size,d||1048576<c||0===this.Sy||a.length===p+1)&&(this.Oy({start:b,stop:b+c,url:e}),c=0);if(f.end||0===f.size)return 0<c&&this.Oy({start:b,stop:b+c,url:e}),!0;d=!1}return!1},Oy:function(a){var c=this;if(0<this.Sy&&0===this.$p)this.Bu.push(a);else{var f=this.Sy++;this.ru&&this.ru.url===a.url||(this.ru=new b.o.V.Hj(a.url,this.Zo,
this.decrypt,this.wk));var e=this.ru;++c.pz;e.Uk(a.url,a,function(b,e){--c.pz;c.CP(e,f,a)})}},yM:function(){if(0<this.$p)for(;0<this.Bu.length&&this.pz<this.mP;)this.Oy(this.Bu.shift())},CP:function(a,c,f){this.tn[c-this.$p]={data:a,range:f};for(a=c;this.$p===a;a++)0<this.tn.length&&this.tn[0]&&(this.processData(b.aj(this.tn[0].data),this.tn[0].range),this.tn.shift(),++this.$p,this.yM())},processData:function(a){var c;if(2===this.state)return!1;for(a=this.buffer+a;a.length>=this.Qe;)switch(this.state){case 0:this.Kc=
c=this.nG(a.slice(0,this.Qe));if(c.wj!==this.AF)throw Error("Wrong signature in local header: "+c.wj);a=a.slice(this.Qe);this.state=1;this.Qe=c.us+c.Tg+c.Ck+this.pl;this.trigger("header",c);break;case 1:if(this.Kc.name=a.slice(0,this.Kc.Tg),this.Pf[this.Kc.name]=this.Kc,c=this.Qe-this.pl,this.trigger("file",this.Kc.name,a.slice(this.Kc.Tg+this.Kc.Ck,c),this.Kc.Cs),a=a.slice(c),a.slice(0,this.pl)===this.BF)this.state=0,this.Qe=f.prototype.no;else return this.state=2,!0}this.buffer=a;return!1}});_(e.prototype).extend(Backbone.Events);
d.prototype=new a;d.prototype=_(d.prototype).extend({hl:function(a){var c=this;this.request([this.Cf,this.lg,this.Bf]);this.stream.bind("data",function(b){try{if(c.Bb.bQ(b))return c.stream.finish()}catch(f){throw c.stream.abort(),c.Bk(f),a(f),f;}});this.stream.bind("done",function(b){c.iq.resolve();c.CG={};b&&(c.Bk(b),a(b))});this.Bb.bind("header",_(this.tu).bind(this));this.Bb.bind("file",_(this.lz).bind(this));this.timeStamp=Date.now();return this.stream.start(this.jf,this.withCredentials)},Yx:function(a){var c=
this;this.iq.promise.then(function(){a(Object.keys(c.Bb.Pf))})},$h:function(){return!0},request:function(){},tu:function(){},abort:function(){this.stream&&this.stream.abort()},lz:function(a,c,b){this.trigger("partReady",{oa:a,data:c,Mf:!1,gd:!1,error:null,xb:b});this.WL[a]={oa:a,data:null,xb:b}}});b.o.V.eJ=d;b.o.V.CT=c})(window);
(function(b){function d(c){e.apply(this,arguments);this.db=c}var e=b.o.V.Ve;d.prototype=new e;d.prototype=_(d.prototype).extend({request:function(c){var a=this;_(c).each(function(c){a.db.get(c,function(b,e,d){return b?a.trigger("partReady",{oa:c,error:b}):a.trigger("partReady",{oa:c,data:e,Mf:!1,gd:!1,error:null,xb:d})})})},mn:function(c){c()}});b.o.V.xo=d})(window);
(function(b){function d(a,b,g,e){c.apply(this,arguments)}function e(a,c){this.url=a;this.range=c;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Db.pi}var c=b.o.V.Hj;e.prototype=b.o.V.hv.prototype.extend(e);d.prototype={qu:e,Es:function(a,c){return a+"/bytes="+c.start+","+(c.stop?c.stop:"")}};d.prototype=$.extend(new c,d.prototype);b.o.V.aI=
d;b.o.V.gT=e})(window);
(function(b){b.o.oA=function(b,e){function c(a,c){function b(a){d().then(function(c){v&&!w?setTimeout(function(){b(a)},1):c.send(JSON.stringify(a))})}function e(a,c,f){var l=createPromiseCapability(),d=!1,h=l;q=a;u=c;r=f;n=null;try{var B=new WebSocket(z?p+"/"+z:p+"/ws");B.onopen=function(){l.resolve();d=!0;l=null;v=!1;m.resolve(B);u&&u()};B.onerror=function(a){v=w=!0;l&&l.reject(a);n&&n.reject()};B.onclose=function(){m=createPromiseCapability();v=!0;n||(n=createPromiseCapability());n.resolve();r&&
r();q&&d&&q({t:"health",data:{unhealthy:!0}})};B.onmessage=function(a){a&&a.data&&(a=JSON.parse(a.data),a.hb?b({hb:!0}):a.end?k():q(a))}}catch(G){l.reject(G),l=null}return h.promise}function d(){v&&q&&e(q);return m.promise}function k(){return n?n.promise:d().then(function(a){n=createPromiseCapability();a.close();return n.promise})}var m=createPromiseCapability(),n=null,p=function(a){var c=a.indexOf("://"),b="ws://";0>c?c=0:(5===c&&(b="wss://"),c+=3);var f=a.lastIndexOf("/");0>f&&(f=a.length);return b+
a.slice(c,f)}(a),q=null,u=null,r=null,v=!1,w=!1,z=c;return{send:b,Tz:e,close:k}}return window.WebSocket?c(b,e):function(a,c){function b(a){(u?u.promise:Promise.resolve(q)).then(function(c){var b=new XMLHttpRequest;c=p?n+"/"+p+"pf?id="+c:n+"/pf?id="+c;var f=new FormData;f.append("data",JSON.stringify(a));b.open("POST",c);b.send(f)})}function e(){d();r=!0;v();m.close()}function d(){q=0;u||(u=createPromiseCapability())}function k(){m=new XMLHttpRequest;var a=n+"/pf",a=0!==q?a+("?id="+q+"&uc="+z):a+("?uc="+
z);z++;m.open("GET",a,!0);m.setRequestHeader("Cache-Control","no-cache");m.setRequestHeader("X-Requested-With","XMLHttpRequest");var c=m,f=!1;m.onreadystatechange=function(){a:{var a;if(3<=c.readyState&&!f){try{a=c.responseText.length}catch(p){console.log("caught exception");break a}if(0<a)try{var m=c.responseText.split("\n");for(m[m.length-1]&&m.pop();0<m.length&&3>m[m.length-1].length;)"]"===m.pop()&&d();0<m.length&&3>m[0].length&&m.shift();for(a=0;a<m.length;++a)m[a].endsWith(",")&&(m[a]=m[a].substr(0,
m[a].length-1));0===q&&0<m.length&&(q=JSON.parse(m.shift()).id,a=u,u=null,a.resolve(q));var n;for(a=0;a<m.length;++a)(n=JSON.parse(m[a]))&&n.end?e():n&&n.hb&&n.id===q?b({hb:!0}):w(n)}catch(p){}r?console.log("dead"):(f=!0,k())}}};m.send()}var m,n=function(a){var c=a.lastIndexOf("/");0>c&&(c=a.length);return a.slice(0,c)}(a),p=c,q=0,u=createPromiseCapability(),r=!1,v=null,w=null,z=0;return{send:b,Tz:function(a,c,b){w=a;v=b;r=!1;d();k();c&&c();return Promise.resolve()},close:e}}(b,e)}})(window);
(function(b){function d(a,f){f.endsWith("/")||(f+="/");f.endsWith("blackbox/")||(f+="blackbox/");this.Zw=b.o.oA(f);this.Tu=null;this.tf=f;this.vD=a;this.Yd=null;this.$k=e();this.Si=e();this.Yw=!1;this.He=this.Nc=this.bd=this.Kd=null;this.de=[];this.Xs=[];this.cache={};this.CG=null;this.Bu=[];this.timeStamp=0;this.qe=[];this.nf=[];this.zx=null;this.bx=!1;this.Cz=this.id=null;this.Ly=this.VE=c;this.pq=0;this.qy=!1;this.wP=1;this.Ot={}}function e(){var a={promise:null,resolve:null,reject:null,state:0,
result:null,request:null,Np:function(){return 1===(a.state&1)},PO:function(){return 2===(a.state&2)},Yf:function(){return!a.PO()&&!a.Np()},JO:function(){return 4===(a.state&4)},VG:function(){a.state|=4}};a.promise=new Promise(function(c,b){a.resolve=function(){if(0===a.state||4===a.state)a.state=1,a.result=arguments[0],c.apply(null,arguments)};a.reject=function(){if(0===a.state||4===a.state)a.state=2,b.apply(null,arguments)}});return a}function c(){return!1}function a(a,c,b){if(!(c in f))return!0;
c=f[c];for(var e=0;e<c.length;e++){var d;var n=a;d=c[e];var p=b;if(d.name in n){var q="",u=!1,n=n[d.name];switch(d.type){case "s":q="String";u=_.isString(n);break;case "a":q="Array";u=_.isArray(n);break;case "n":q="Number";u=_.isNumber(n)&&_.isFinite(n);break;case "o":q="Object",u=_.isObject(n)&&!_.isArray(n)}u||p.reject('Expected response field "'+d.name+'" to have type '+q);d=u}else p.reject('Response missing field "'+d.name+'"'),d=!1;if(!d)return!1}return!0}var f={pages:[{name:"pages",type:"a"}],
pdf:[{name:"url",type:"s"}],docmod:[{name:"url",type:"s"},{name:"rID",type:"s"}],health:[],tiles:[{name:"z",type:"n"},{name:"rID",type:"n"},{name:"tiles",type:"a"},{name:"size",type:"n"}],annots:[{name:"url",type:"s"},{name:"name",type:"s"}],image:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],text:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}]};d.prototype=_(d.prototype).extend({mD:function(){var a=createPromiseCapability();if(this.Tu){var c=!1,b=new XMLHttpRequest;
b.open("GET",this.tf+"ck?c="+this.Tu);b.withCredentials=!0;b.onreadystatechange=function(){3<=b.readyState&&!c&&(c=!0,200===b.status?a.resolve():a.reject())};b.send()}else a.resolve();return a.promise},kR:function(a,b){this.VE=a||c;this.Ly=b||c},wL:function(){var a=this;a.Si=e();a.$k=e();return this.Zw.close().then(function(){function c(){a.Yw=!1;a.id=null;a.bx=!1;return Promise.resolve()}return a.mD().then(c,c)})},EG:function(){this.VE();this.xy();this.Kd&&(this.Kd.Yf()?this.ve(this.Kd.request):
this.Kd.Np()&&this.Ly(this.Kd.result.url,"pdf")&&(this.Kd=null,this.DG()));this.He&&this.He.Yf()&&this.ve(this.He.request);this.bd&&this.bd.Yf()?this.ve(this.bd.request):this.Nc&&this.Nc.Yf()&&this.PE(this.Nc.request);var a;for(a=0;a<this.qe.length;a++)this.qe[a]&&this.qe[a]&&(this.qe[a].Yf()?this.ve(this.qe[a].request):this.qe[a].Np()&&this.Ly(this.qe[a].result.url,"image")&&(this.qe[a]=null,this.Au(a)));for(a=0;a<this.nf.length;a++)this.nf[a]&&this.nf[a]&&this.nf[a].Yf()&&!this.nf[a].JO()&&this.ve(this.nf[a].request);
for(a=0;a<this.de.length;a++)this.de[a]&&this.de[a].Yf()&&this.ve(this.de[a].request)},xy:function(){var a=this;this.Yw||(this.timeStamp=Date.now(),this.Zw.Tz(function(c){a.DP(c)}).then(function(){},function(){a.bx=!0;a.pq=0;a.Cz=0;a.mD();a.Si.resolve({unhealthy:!0,id:0,serverID:"0",hasPDF:!0,hasXOD:!1});a.$k.resolve()}),this.Yw=!0)},hl:function(a){this.zx=a||null;this.$k.Np()||(this.xy(),this.ve({t:"pages"}));return this.$k.promise},VC:function(a){a=$.extend(a,{uri:encodeURIComponent(this.vD)});
this.zx&&(a.ext=this.zx);this.Yd&&(a.c=this.Yd);return a},ve:function(a){a=this.VC(a);this.Zw.send(a)},Ah:function(a){return a},DP:function(c){var b=this,f,d=c.data,m=c.err,n=c.t;switch(n){case "pages":m?b.$k.reject(m):a(d,n,b.$k)&&b.$k.resolve(d);break;case "config":m?b.Si.reject(m):a(d,n,b.Si)&&(d.id&&(b.id=d.id),d.sCookieName&&(b.Tu=d.sCookieName),d.serverID?(b.pq=d.serverID===b.Cz&&b.qy?b.pq+1:0,b.Cz=d.serverID):b.pq=0,b.qy=!1,b.Si.resolve(d));break;case "health":m?b.Si.reject(m):a(d,n,b.Si)&&
d.unhealthy&&b.Tu&&1>=b.pq&&(b.qy=!0,b.wL().then(function(){b.EG()},function(){b.EG()}));break;case "pdf":d.url=b.tf+"../"+d.url;m?b.Kd.reject(m):a(d,n,b.Kd)&&b.Kd.resolve(d);break;case "docmod":d.url=b.tf+"../"+d.url;m?b.Ot[d.rID].reject(m):a(d,n,b.Kd)&&b.Ot[d.rID].resolve(d);break;case "xod":if(m)this.bd&&this.bd.Yf()&&this.bd.reject(m),this.Nc&&this.Nc.Yf()&&this.Nc.reject(m);else if(d.notFound)d.noCreate||this.bd&&this.bd.Yf()&&this.bd.resolve(d),this.Nc&&this.Nc.Yf()&&this.Nc.resolve(d);else{d.url&&
(d.url=b.tf+"../"+d.url);if(!this.Nc||this.Nc.Np())this.Nc=e(),this.Nc.request={t:"xod",noCreate:!0};this.bd||(this.bd=e(),this.bd.request={t:"xod"});this.Nc.resolve(d);this.bd.resolve(d)}break;case "annots":m?b.He.reject(m):a(d,n,b.He)&&(b.He.VG(),$.ajax({dataType:"text",url:b.tf+"../"+d.url,success:function(a){b.He.resolve(a)},error:function(a,c,f){b.He.reject(c+(f?": "+JSON.stringify(f):""))}}));break;case "image":f=this.qe[d.p];m?f.promise.reject(m):a(d,n,f)&&(f.result=d,f.result.url=b.tf+"../"+
f.result.url,f.resolve(f.result));break;case "tiles":f=d.rID;c=this.de[f];this.de[f]=null;this.Xs.push(f);if(m)c.reject(m);else if(a(d,n,c)){for(m=0;m<d.tiles.length;m++)d.tiles[m]=b.tf+"../"+d.tiles[m];c.resolve(d)}break;case "text":f=this.nf[d.p];m?f.reject(m):a(d,n,f)&&(f.VG(),$.ajax({dataType:"json",url:b.tf+"../"+d.url,success:function(a){f.result=a;f.resolve(f.result)},error:function(a,c,b){f.reject(c+(b?": "+JSON.stringify(b):""))}}));break;case "progress":"loading"===d.t&&b.trigger("documentLoadingProgress",
[d.bytes,d.total])}},gE:function(){this.xy();return this.Si.promise},GM:function(){this.He||(this.He=e(),this.He.request={t:"annots"},this.ve(this.He.request));return this.He.promise},Au:function(a){this.qe[a]||(this.qe[a]=e(),this.qe[a].request={t:"image",p:a},this.ve(this.qe[a].request));return this.qe[a].promise},tQ:function(a){this.nf[a]||(this.nf[a]=e(),this.nf[a].request={t:"text",p:a},this.ve(this.nf[a].request));return this.nf[a].promise},uQ:function(a,c,b,f){var d=this.de.length;this.Xs.length&&
(d=this.Xs.pop());this.de[d]=e();this.de[d].request={t:"tiles",p:a,z:c,r:b,size:f,rID:d};this.ve(this.de[d].request);return this.de[d].promise},DG:function(){this.Kd||(this.Kd=e(),this.Kd.request={t:"pdf"},this.bx?this.Kd.resolve({url:this.vD}):this.ve(this.Kd.request));return this.Kd.promise},jN:function(a){var c=new XMLHttpRequest,b=this.tf+"aul?id="+this.id,f=new FormData,d={};a.annots&&(d.annots="xfdf");a.watermark&&(d.watermark="png");d={t:"docmod",reqID:this.wP++,parts:d};a.print&&(d.print=
!0);d=this.VC(d);f.append("msg",JSON.stringify(d));a.annots&&f.append("annots",a.annots);a.watermark&&f.append("watermark",a.watermark);this.Ot[d.reqID]=e();c.open("POST",b);c.send(f);return this.Ot[d.reqID].promise},PE:function(){this.Nc||(this.Nc=e(),this.Nc.request={t:"xod",noCreate:!0},this.ve(this.Nc.request));return this.Nc.promise},vQ:function(){this.bd||(this.bd=e(),this.bd.request={t:"xod"},this.ve(this.bd.request));return this.bd.promise},$h:function(){return!0},request:function(){},tu:function(){},
abort:function(){for(var a=0;a<this.de.length;a++)this.de[a]&&(this.de[a].resolve(null),this.de[a]=null,this.Xs.push(a));this.close()},ml:function(a){this.Yd=this.Yd||{};this.Yd.headers=a},QM:function(){return this.Yd?_.omit(this.Yd.headers,["Cookie","cookie"]):null},Pz:function(a){this.Yd=this.Yd||{};this.Yd.internal=this.Yd.internal||{};this.Yd.internal.withCredentials=a},YN:function(){return this.Yd&&this.Yd.internal?this.Yd.internal.withCredentials:null},getFileData:function(){return Promise.reject()}},
b.utils.eventHandler);b.o.V.Mq=d})(window);
(function(b){function d(a,b,f,e){c.apply(this,arguments)}function e(a,c){this.url=a;this.range=c;this.status=this.Db.pi}var c=b.o.V.Hj,a=b.o.V.hv,f={};e.prototype={start:function(a){var c=this;f[this.range.start]={success:function(f){var e=atob(f),d,h=e.length;f=new Uint8Array(h);for(d=0;d<h;++d)f[d]=e.charCodeAt(d);e=f.length;d="";var q=0;if(b.utils.typedArrayApply)for(;q<e;)h=f.subarray(q,q+1024),q+=1024,d+=String.fromCharCode.apply(null,h);else for(h=Array(1024);q<e;){for(var u=0,r=Math.min(q+
1024,e);q<r;u++,q++)h[u]=f[q];d+=String.fromCharCode.apply(null,1024>u?h.slice(0,u):h)}c.success(d,a)},fail:function(){c.status=c.Db.ERROR;a({code:c.status})}};var e=document.createElement("IFRAME");e.setAttribute("src",this.url);document.documentElement.appendChild(e);e.parentNode.removeChild(e);e=null;this.status=this.Db.Qj;c.et()}};e.prototype=a.prototype.extend(e);d.prototype={qu:e,Es:function(a,c){return a+"#"+c.start+"&"+(c.stop?c.stop:"")}};d.prototype=$.extend(new c,d.prototype);b.o.V.lo=
d;b.o.V.qT=e;b.o.V.lo.hz=function(a,c){var b=f[c];delete f[c];b.success(a)};b.o.V.lo.gz=function(a,c){var b=f[c];delete f[c];b.fail()}})(window);
(function(b){function d(a,b,f,e){c.apply(this,arguments)}function e(a,c){this.url=a;this.range=c;this.status=this.Db.pi}var c=b.o.V.Hj,a=b.o.V.hv,f={};e.prototype={start:function(a){function c(){e.status=e.Db.ERROR;a({code:e.status})}function b(c){var f=atob(c),l,d=f.length;c=new Uint8Array(d);for(l=0;l<d;++l)c[l]=f.charCodeAt(l);f=c.length;l="";for(var h=0;h<f;)d=c.subarray(h,h+1024),h+=1024,l+=String.fromCharCode.apply(null,d);e.success(l,a)}var e=this;"undefined"===typeof f[this.range.start]&&
(f[this.range.start]={success:b,fail:c},window.external.notify(this.url),this.status=this.Db.Qj);e.et()}};e.prototype=a.prototype.extend(e);d.prototype={qu:e,Es:function(a,c){return a+"?"+c.start+"&"+(c.stop?c.stop:"")}};d.prototype=$.extend(new c,d.prototype);b.o.V.yo=d;b.o.V.IT=e;b.o.V.yo.hz=function(a,c){var b=f[c];delete f[c];b.success(a)};b.o.V.yo.gz=function(a,c){var b=f[c];delete f[c];b.fail()}})(window);
(function(b){function d(){e.apply(this,arguments)}var e=b.o.V.Hj;d.prototype=$.extend(new e,{pE:function(){return{start:this.OD-b.o.V.xi.prototype.Cl,stop:this.OD}},mn:function(c){var a=this;this.Uk(this.url,{start:0,stop:1},function(b,g,l){if(b)return c(b);b=l.request.getResponseHeader("Content-Range");a.OD=b.split("/")[1];e.prototype.mn.call(a,c)})}});b.o.V.eI=d})(window);
(function(b){function d(a,f,g){this.Ld=a;this.bu=!1;this.cache=new c(b.kv,a.$h());a.decrypt&&a.$h()&&(this.Ak=new c(b.kv,a.$h()));this.J=f;this.Sh={};this.wq={};this.rs={};this.Hs={};this.Ys=[];this.qp={};this.te=g;this.eu=_.bind(this.eu,this);a.bind("partReady",this.eu)}function e(a){window._indexedDB=window._indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window._IDBTransaction=window._IDBTransaction||window.IDBTransaction||window.webkitIDBTransaction;
window._IDBTransaction&&!window._IDBTransaction.READ_WRITE&&(window._IDBTransaction.READ_WRITE="readwrite");this.name=a;this.db=null;this.iD="1";this.Ms=this.gd=!1}function c(a,c){this.nP=this.lq=a;this.queue=[];this.zM=c}function a(a,c){this.Vg=a;this.cG=c;this.Ke={};this.Qg={};this.gd=!1;for(var b=0;b<c.length;b++)this.Qg[c[b]]=!0}function f(){this.index=0;this.data={functions:[],Ke:[],done:!1};this.bc=[]}function g(a){this.data=a;this.bc=[];this.zf=[]}function l(a,c){this.Vg=a;this.Sa={};this.ob=
null;this.Na=c}var h=b.o.V.pv;b.Cx=!1;b.o.Rx=function(a,c){if(b.utils.hasObjectURL){"string"===typeof c&&(c=b.SN(c));var f;try{f=new Blob([c],{type:a})}catch(g){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.xT||window.wT,window.BlobBuilder&&(f=new window.BlobBuilder,f.append(c),f=f.getBlob(a))}if(f)return URL.createObjectURL(f)}else return"data:"+a+";base64,"+btoa(c)};b.o.sE=function(a,c){return b.o.Rx("image/"+("jpg"===a?"jpeg":a),c)};g.prototype={init:function(a){if(this.data){var c=
this;b.ZN(this.data,function(b){c.worker=b;c.Eq();c.TV=[];c.Yu=!1;c.data=null;a()},function(a,b){a?c.zf.push(a):c.Yu=!0;c.DU=b;var f=c.callback;c.callback=null;f&&f()})}else a()},cancel:function(){for(var a=0;a<this.bc.length;a++){for(var c=0;c<this.bc[a].saves;c++)this.bc[a].restore();this.bc[a].saves=0}this.bc=[];this.worker&&this.worker.cancel()},clone:function(){return new g(this.data)},run:function(a,c,b){if(this.zf.length){-1===this.bc.indexOf(a)&&this.bc.push(a);b=Date.now()+b;do this.Eq(),
runEval(this.zf.shift(),a,c);while(this.zf.length&&b>Date.now());return!1}return!0},bq:function(){var a=this;this.worker||this.init(function(){a.Eq()});return new Promise(function(c){a.Yu||a.zf.length?c():a.callback=c})},Eq:function(){if(this.Yu)return!1;this.worker.vP()},$w:function(a){return new Function("c","t",a)},Fx:function(a){var c=this;this.init(function(){function b(){if(c.zf.length){c.Eq();var f=c.zf.map(function(a){return c.$w(a)});c.zf=[];a(f)}else a()}c.Yu||c.zf.length?b():c.callback=
b})}};f.prototype={clone:function(){var a=new f;a.data=this.data;a.index=0;return a},cancel:function(){for(var a=0;a<this.bc.length;a++){for(var c=0;c<this.bc[a].saves;c++)this.bc[a].restore();this.bc[a].saves=0}this.bc=[]},ZC:function(a){return new g(a)},Fx:function(a,c){function f(){e.Fx(function(a){a?(g.data.functions=g.data.functions.concat(a),b.setImmediate(f,0)):(g.data.done=!0,c());a=g.data.Ke.length;if(0<a){for(var e=0;e<a;++e)g.data.Ke[e]();g.data.Ke=[]}})}this.data.done=!1;var g=this,e=
this.ZC(a);g.data.functions=[];f();this.index=0},bq:function(){var a=this;return new Promise(function(c){a.data.done||a.index<a.data.functions.length?c():a.data.Ke.push(c)})},run:function(a,c,b){-1===this.bc.indexOf(a)&&this.bc.push(a);if(this.index<this.data.functions.length){b=Date.now()+b;var f=this.data.functions[this.index];do++this.index,f(a,c),f=this.data.functions[this.index];while(f&&b>Date.now());return!1}return!0},GQ:g.prototype.GQ};a.prototype={IO:function(){return 0===_(this.Qg).keys().length}};
c.prototype={getItem:function(a){return this[a]||null},setItem:function(a,c,b){if(a in this)this.queue.splice(this.queue.indexOf(a),1),this.queue.push(a);else if(this.zM)this[a]={data:c,xb:b},this.queue.push(a);else if(c.length<this.nP/2){for(;this.lq<c.length;){var f=this.queue[0];this.lq+=this[f].data.length;delete this[f];this.queue.shift()}this.lq-=c.length;this[a]={data:c,xb:b};this.queue.push(a)}}};e.prototype={open:function(a,c){var b=this,f=window._indexedDB.open(b.name);if(_.isUndefined(f))c("User declined to increase space");
else{f.onsuccess=function(){b.db=f.result;if(b.db.setVersion&&b.db.version!==b.iD){var a=b.db.setVersion(b.iD);a.onsuccess=function(){b.db.objectStoreNames.contains(b.name)&&b.db.deleteObjectStore(b.name);b.db.createObjectStore(b.name,{keyPath:"partName"});a.result.oncomplete=g}}else g()};f.onupgradeneeded=function(a){b.db=a.target.result;b.db.objectStoreNames.contains(b.name)&&b.db.deleteObjectStore(b.name);b.db.createObjectStore(b.name,{keyPath:"partName"})};f.onerror=function(){c("Error opening database for offline mode")};
var g=function(){b.get("NumParts",function(f,g){if(f)b.Ms=!1,a();else{var e=b.db.transaction([b.name]).objectStore(b.name).count();e.onsuccess=function(){b.Ms=e.result===g;a()};e.onerror=function(){c("Error opening database for offline mode")}}})}}},uH:function(a,c,b,f){var g=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);g.oncomplete=function(){f&&f()};g.onerror=function(){f&&f();throw Error("Error adding "+a+" to the offline database");};g.objectStore(this.name).put({partName:a,
partData:c,compressed:b})},eS:function(a,c,b,f,g,e){function l(e){a.Kg(e,function(a){var b=c.indexOf(a.oa);-1<b&&delete c[b];d()||h.uH(a.oa,a.data,a.xb,function(){d()||(z++,g(z/D),z===D&&(h.Ms=!0,f()))})},!0,b)}function d(){h.gd&&!A&&(A=!0,e(c),f());return A}var h=this;h.gd=!1;f=f||function(){};g=g||function(){};e=e||function(){};var z=0,D=c.length,A=!1;h.uH("NumParts",D+1,!1,function(){for(var a=0;a<D;a++)l(c[a])})},iL:function(){this.gd=!0},get:function(a,c){var b=this.db.transaction([this.name]).objectStore(this.name).get(a);
b.onsuccess=function(){b.result?c(!1,b.result.partData,b.result.compressed):c("Part "+a+" not found in the offline database")};b.onerror=function(){c("Error getting "+a+" from offline database")}},hj:function(){return this.Ms}};d.prototype={Kg:function(a,c,f,g){function e(a){a=$.extend({},a);h.Ak&&g&&(a.data=h.Ak.getItem(a.oa).data);c(a)}var l=this.cache.getItem(a);if(!g&&null!==l){var d=l.xb;l.xb&&!f?(f=b.o.V.xi.inflate(l.data),d=!1):f=l.data;c({oa:a,data:f,Mf:!0,gd:!1,error:null,xb:d});return c}if(this.Ak&&
g&&(d=this.Ak.getItem(a)))return c({oa:a,data:d.data,Mf:!0,gd:!1,error:null,xb:d.xb}),c;var h=this;this.bind(a,e);this.rs[a]=!0;this.Hs[a]=!f;this.Ld.request([a],g);return e},eu:function(a){if(a.error)console.error("Error reading part "+a.oa+": "+a.error),this.trigger(a.oa,{oa:a.oa,error:a.error}),this.unbind(a.oa);else{var c=this,f=function(f){var g=a.oa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();"jpg"!==g&&"png"!==g&&(f=b.aj(f));a.KF||(c.cache.setItem(a.oa,f,a.xb),c.Ak&&c.Ak.setItem(a.oa,a.data,a.xb));
c.rs[a.oa]&&((g=a.xb)&&c.Hs[a.oa]&&(f=b.o.V.xi.inflate(f),g=!1),delete c.rs[a.oa],delete c.Hs[a.oa],c.trigger(a.oa,{oa:a.oa,data:f,Mf:!1,gd:!1,error:null,xb:g}),c.unbind(a.oa),delete c._callbacks[a.oa])};this.Ld.decrypt&&!a.KF?this.Ld.fD?f(this.Ld.decrypt(a.data,this.Ld.wk,a.oa)):this.Ld.decrypt(a.data,this.Ld.wk,a.oa,f):f(a.data)}},iy:function(a){return this.Hy?"Thumbs/"+(a+1)+".jpg":"Thumbs/"+(a+1)+".png"},hy:function(a,c,b){var f=this,g=!1,e=this.Kg(this.iy(a),function(a){g=a.Mf;f.yG(c);b(a)});
g||(this.wq[c]={kL:e,Mb:a})},BE:function(a,c){var f=this,g=this.J[a].oq[0];if(a in f.qp)c(f.qp[a].clone());else return f.Kg(g,function(g){if(g.error)return console.error("Failed to load part for page "+a+": "+g.error);f.AM(g.data,function(g){if(b.Dl){if(f.Ys.length>=b.Dl){var e=f.Ys.shift();delete f.qp[e]}f.Ys.push(a);f.qp[a]=g}c(g.clone())})},!0)},Vx:function(c,f,g){function e(a){if(a.error)return console.error("Failed to load part for page "+c+": "+a.error);delete A.Qg[z];v.Ki&&0!==v.ns.length||
(v.ns=h.LP(a.oa,a.data).map(function(a){a.PageNumber=c+1;return a}));d()}function d(){if(A.IO()){if(null===E.ob)throw Error("Functions have not been generated yet");A.gd||y||(delete h.Sh[c],h.trigger(c,!1,E),g(!1,E),y=!0,h.unbind(c+""),h._callbacks&&delete h._callbacks[c+""])}}var h=this;this.Sh[c]=this.Sh[c]||{An:{}};var r=0<Object.keys(this.Sh[c].An).length;this.Sh[c].An[f]=null;if(r)return b.utils.warn("Duplicate request for page "+c),r=function(a,c){var b=$.extend({},c);b.ob=c.ob.clone();b.Sa=
$.extend(!0,{},b.Sa);g(a,b)},this.Sh[c].An[f]=r,this.bind(c,r);var v=h.J[c],w=v.oq[2],z=v.oq[1],D=v.oq[0],A;A=this.bu?new a(c,[D,z,w]):new a(c,[D,w]);this.Sh[c].request=A;var x=A.Ke,y=!1,E=new l(c,h);x[w]=h.Kg(w,function(a){if(a.error)return console.error("Failed to load part for page "+c+": "+a.error);a=h.OP(a.oa,a.data);delete A.Qg[w];_(a).each(function(a){A.Qg[a.slice(1)]=!0});_(a).each(function(a){a=a.slice(1);var f=-1!==a.indexOf(".odttf")||-1!==a.indexOf(".otf"),g=-1!==a.indexOf(".png")||-1!==
a.indexOf(".jpg");b.Cx&&f?(delete A.Qg[a],E.Sa[a]=h.Ah(a)):f&&!h.te.Gt(h.Ah(a).name)?(A.cG.push(a),x[a]=h.Kg(a,function(b){if(b.error)return console.error("Failed to load part for page "+c+": "+b.error);delete A.Qg[a];E.Sa[a]=h.Ah(b.oa,b.data);d()})):g&&b.Cx?(delete A.Qg[a],setTimeout(function(){h.Kg(a,function(a){a=h.Ah(a.oa,a.data);var b=new Image;b.src=a.data;$(b).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+c)})},0)):(delete A.Qg[a],E.Sa[a]=h.Ah(a),
d())});d()});this.bu&&(x[z]=h.Kg(z,e));x[D]=this.BE(c,function(a){E.ob=a;delete A.Qg[D];d()})},AM:function(a,c){if(b.Dl){var f=new b.o.dI;f.Fx(a,function(){});c(f)}else c(new b.o.cI(a))},bp:function(a,c){var b=this.Sh[a];if(b){this.Ld.Mw(b.request.cG);var f=b.An[c];f&&this.unbind(a+"",f);delete b.An[c];if(0===Object.keys(b.An).length){b.gd=!0;var b=b.Ke,g;for(g in b)b.hasOwnProperty(g)&&this.unbind(g,b[g]);delete this._callbacks[a+""];delete this.Sh[a]}}},jL:function(a){var c=this.wq[a];c&&(this.Ld.Mw([this.iy(c.Mb)]),
this.yG(a))},yG:function(a){var c=this.wq[a];c&&(this.unbind(this.iy(c.Mb),c.kL),delete this.wq[a])},Ah:function(a,c){var f,g=a,e=a.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(e){case "png":case "jpg":a="i"+a.match(/Images\/(\d+)/)[1];if(c){f=h&&this.Ld instanceof h?this.Ld.path+c:b.o.sE(e,c);break}break;case "odttf":var l;c&&(l=this.SL(a,c));a="f"+parseInt(a.substr(34,8),16);c&&(f=new b.dh.FontFace(a,l,"opentype"),this.te.Fy(a)||f.insert());e="font";break;case "otf":a=a.substr(0,a.length-4);
a="f"+parseInt(a.substr(6),10);if(c){if(h&&this.Ld instanceof h)e=this.Ld.path;else throw Error("Use an external part retriever for documents with external fonts");f=new b.dh.FontFace(a,null,"opentype",e+c);this.te.Fy(a)||f.insert()}e="font";break;default:f=c}return{name:a,type:e,data:f,oa:g}},OP:function(a,c){var f=[],g=new b.Xe(c);for(g.ma();g.advance();){var e=g.K("Target");null!==e?f.push(e):b.utils.warn("Corrupt rels part: %s",a)}0<f.length&&_(f).last().match(/Thumbs/)&&f.pop();return f},LP:function(a,
c){var f=[],g=new b.Xe(c);for(g.ma();g.advance();){for(var e=g.ta(),l=g.K("BBox"),l=l.split(","),d=0;4>d;++d)l[d]=parseFloat(l[d]);"Hyperlink"===e?f.push(new b.Annotations.ed({actions:{U:[{name:"URI",uri:g.K("Target")}]},rect:l})):"Link"===e&&f.push(new b.Annotations.ed({actions:{U:[{name:"GoTo",dest:{page:g.K("ID"),fit:"XYZ",top:g.K("Vpos"),left:g.K("Hpos")}}]},rect:l}))}return f},SL:function(a,c){a=a.split("/")[1].split(".")[0];for(var b=a.split("-"),f=[],g=16,e=0;e<b.length;++e)for(var l=b[e],
d=0;d<l.length;d+=2)f[--g]=parseInt(l.slice(d,d+2),16);for(b=0;16>b;++b)g=f[b],f[b]=String.fromCharCode(c.charCodeAt(b)^g),f[b+16]=String.fromCharCode(c.charCodeAt(b+16)^g);return c=f.join("")+c.slice(32)}};_(d.prototype).extend(Backbone.Events);b.o.V.MI=d;b.o.RI=e;b.o.nI=g;b.o.oI=f})(window);
(function(b){function d(){this.index=0;this.data={functions:[],Ke:[],done:!1};this.bc=[];this.vx=new c}function e(a){this.data=a;this.bc=[];this.zf=[];this.vx=new c}function c(){this.Ph=0;this.Sa=[];this.Qh=[0,0]}c.prototype={qq:function(a,c,g){this.m_c=c;this.wc=g;c=a.operators;a=a.data;var e=c.length;this.Wz=b.asc(g);this.iS=1/this.Wz;for(var d=0;d<e;++d)g=c[d],this[g].apply(this,a[d]);this.Nt=null},save:function(){this.m_c.save()},restore:function(){this.m_c.restore()},transform:function(a,c,b,
e,d,k){this.m_c.transform(a,c,b,e,d,k)},translate:function(a,c){this.m_c.translate(a,c)},jR:function(a,c){this.m_c.lineWidth=Math.max(a,this.iS/c)},hR:function(a){this.m_c.lineCap=a},cE:function(a){var c=a.type;if(c)switch(c){case 1:a=this.createPattern(a);break;case 2:a=this.createLinearGradient(a);break;case 3:a=this.createRadialGradient(a);break;case 4:a=this.DL(a)}return a},JR:function(a){this.m_c.strokeStyle=this.cE(a)},aR:function(a){this.m_c.fillStyle=this.cE(a)},zQ:function(a){var c=this.FN(a);
a=c.lP;for(var c=c.kP,b,e=a.length,d=0;d<e;++d)b=a[d],this[b].apply(this,c[d])},cR:function(a){this.m_c.globalAlpha=a},$C:function(a,c){for(var b=c.length,e=0;e<b;++e){var d=c[e],k=c[++e];a.addColorStop(d,k)}},GL:function(a){var c=this.m_c,b=this.wc,e=a.operators,d=this.Wz*a.scale,k=a.w*d,m=a.h*d;2>d*a.minwh&&(d=2/a.minwh,k=a.w*d,m=a.h*d);var n=this.m_c.createCanvas();n.width=k;n.height=m;var k=n.getContext("2d"),m=a.x||a.y,p={};m&&(p.x=a.x,p.y=a.y);p.s=1/d;k.scale(d,d);m&&k.translate(-a.x,-a.y);
a.strokeAdjust&&(this.m_c.lineWidth=d*a.strokeAdjust);this.qq(e,k,this.wc);this.m_c=c;this.wc=b;return{canvas:n,transform:p}},createPattern:function(a){var c;this.Nt&&a===this.Nt.style?c=this.Nt:(c=this.GL(a),c.style=a,c.pattern=this.m_c.createPattern(c.canvas,a.tm),this.Nt=c);a=c.transform;a.x&&this.m_c.translate(a.x,a.y);this.m_c.scale(a.s,a.s);return c.pattern},createLinearGradient:function(a){var c=this.m_c.createLinearGradient(a.x0,a.y0,a.x1,a.y1);this.$C(c,a.stops);return c},createRadialGradient:function(a){var c=
this.m_c.createRadialGradient(a.x0,a.y0,0,a.x1,a.y1,a.r);this.$C(c,a.stops);return c},DL:function(a){return this.m_c.createPattern(b.ci[a.name],a.tm)},JK:function(a){this.Ph+=a},MR:function(a){this.Ph=a},addColorStop:function(a,c){this.vV.addColorStop(a,c)},beginPath:function(){this.m_c.beginPath()},closePath:function(){this.m_c.closePath()},fill:function(a){a?this.m_c.fill(a):this.m_c.fill()},stroke:function(){this.m_c.stroke()},clip:function(a){a?this.m_c.clip(a):this.m_c.clip()},moveTo:function(a,
c){this.m_c.moveTo(a,c)},lineTo:function(a,c){this.m_c.lineTo(a,c)},quadraticCurveTo:function(a,c,b,e){this.m_c.quadraticCurveTo(a,c,b,e)},bezierCurveTo:function(a,c,b,e,d,k){this.m_c.bezierCurveTo(a,c,b,e,d,k)},font:function(a){var c=a;1!==window.utils.canvasFontMultiplier&&(c=parseFloat(a),c/=window.utils.canvasFontMultiplier,c=a.replace(/\d+/,c));this.m_c.font=c},fillText:function(a,c,b){this.m_c.fillText(a,this.Ph+c,b)},measureText:function(a){this.Ph+=this.m_c.measureText(a).width},drawImage:function(a){this.m_c.drawImage(window.ci[a],
0,0)},fM:function(a,c){for(var g=window.ci[a],e=Math.log(1/(this.Wz*c))*b.o.Fw,d=1,k=1;k<e;++k){var m=this.m_c.createCanvas();m.width=.5*g.width;m.height=.5*g.height;m.getContext("2d").drawImage(g,0,0,m.width,m.height);g=m;d*=2}this.m_c.scale(d,d);this.m_c.drawImage(g,0,0)},iR:function(a){this.m_c.lineJoin=a},dR:function(a){this.m_c.globalCompositeOperation=a},IK:function(a,c,b){this.Sa.push({lP:c,kP:b,name:a})},FN:function(a){var c=this.Sa.length-1;do{var b=this.Sa[c];if(b.name===a)return b}while(0<=
--c)},oQ:function(){this.Sa.pop()},qQ:function(a,c,g,e){var d=this.wc.aa({x:c.x1,y:c.y1}),k=d.x,d=d.y;c=this.wc.aa({x:c.x2,y:c.y2});var m=c.x,n=c.y;c=[];var p=this.Qh[0],q=this.Qh[1],u=p+this.m_c.canvas.width,r=q+this.m_c.canvas.height;k<m?(k<p&&(k=p),m>u&&(m=u),c[0]=Math.floor(k),c[2]=Math.ceil(m-k)):(m<p&&(m=p),k>u&&(k=u),c[2]=Math.ceil(k-m),c[0]=Math.floor(m));d<n?(d<q&&(d=q),n>r&&(n=r),c[1]=Math.floor(d),c[3]=Math.ceil(n-d)):(n<q&&(n=q),d>r&&(d=r),c[3]=Math.ceil(d-n),c[1]=Math.floor(n));0<c[2]&&
0<c[3]&&(k=this.m_c,d=this.m_c.createCanvas(),d.width=c[2],d.height=c[3],m=this.Qh,this.Qh=c,n=d.getContext("2d"),n.translate(-c[0],-c[1]),n.transform(this.wc.m_a,this.wc.m_b,this.wc.m_c,this.wc.m_d,this.wc.m_h,this.wc.m_v),n.transform.apply(n,a.mtx),this.qq(a,n,this.wc),e&&(a=this.m_c.createCanvas(),a.width=c[2],a.height=c[3],n=a.getContext("2d"),n.beginPath(),n.moveTo(0,0),n.lineTo(c[2],0),n.lineTo(c[2],c[3]),n.lineTo(0,c[3]),n.closePath(),n.translate(-c[0],-c[1]),n.transform(this.wc.m_a,this.wc.m_b,
this.wc.m_c,this.wc.m_d,this.wc.m_h,this.wc.m_v),n.transform.apply(n,e.mtx),this.qq(e,n,this.wc),n.globalCompositeOperation="source-in",n.setTransform(1,0,0,1,0,0),n.drawImage(d,0,0),d=a),this.Qh=m,"source-over"===g||b.utils.specialBlendSupported?(k.save(),k.globalCompositeOperation=g,k.setTransform(1,0,0,1,c[0]-this.Qh[0],c[1]-this.Qh[1]),k.drawImage(d,0,0),k.restore()):n.bO(k,g,{x:c[0]-this.Qh[0],y:c[1]-this.Qh[1]}),this.m_c=k)},lS:function(a){this.m_c.tm(a)},miterLimit:function(a){this.m_c.miterLimit=
a},KL:function(){this.m_c.cgb()},LL:function(){this.m_c.cge()},setTransform:function(a,c,b,e,d,k){this.m_c.setTransform(a,c,b,e,d,k)},scale:function(a,c){this.m_c.scale(a,c)},tM:function(a,c,b){this.m_c.xw(a+" ",this.Ph+c,b)},fillRect:function(a,c,b,e){this.m_c.fillRect(a,c,b,e)},uM:function(a,c,b){this.m_c.xcw(a+" ",this.Ph+c,b)},fillTextCustom:function(a,c,b){this.m_c.xc(a,this.Ph+c,b)}};c.prototype[0]=c.prototype.save;c.prototype[1]=c.prototype.restore;c.prototype[2]=c.prototype.transform;c.prototype[3]=
c.prototype.translate;c.prototype[4]=c.prototype.jR;c.prototype[5]=c.prototype.hR;c.prototype[6]=c.prototype.JR;c.prototype[7]=c.prototype.aR;c.prototype[8]=c.prototype.cR;c.prototype[9]=c.prototype.IK;c.prototype[10]=c.prototype.oQ;c.prototype[11]=c.prototype.JK;c.prototype[12]=c.prototype.zQ;c.prototype[13]=c.prototype.beginPath;c.prototype[14]=c.prototype.closePath;c.prototype[15]=c.prototype.fill;c.prototype[16]=c.prototype.stroke;c.prototype[17]=c.prototype.clip;c.prototype[18]=c.prototype.moveTo;
c.prototype[19]=c.prototype.lineTo;c.prototype[20]=c.prototype.quadraticCurveTo;c.prototype[21]=c.prototype.bezierCurveTo;c.prototype[22]=c.prototype.font;c.prototype[23]=c.prototype.fillText;c.prototype[24]=c.prototype.measureText;c.prototype[25]=c.prototype.MR;c.prototype[26]=c.prototype.miterLimit;c.prototype[27]=c.prototype.iR;c.prototype[28]=c.prototype.drawImage;c.prototype[29]=c.prototype.setTransform;c.prototype[30]=c.prototype.scale;c.prototype[31]=c.prototype.tM;c.prototype[32]=c.prototype.KL;
c.prototype[33]=c.prototype.LL;c.prototype[34]=c.prototype.dR;c.prototype[35]=c.prototype.lS;c.prototype[36]=c.prototype.qQ;c.prototype[37]=c.prototype.fillRect;c.prototype[39]=c.prototype.uM;c.prototype[38]=c.prototype.fillTextCustom;e.prototype={clone:function(){return new e(this.data)},run:function(a,c,b){return this.zf.length?(b&&this.Eq(),-1===this.bc.indexOf(a)&&this.bc.push(a),this.m_c=a,this.wc=c,this.vx.qq(this.zf.shift(),a,c),!1):this.Bx=!0},$w:function(a){return a}};e.prototype=$.extend(Object.create(b.o.nI.prototype),
e.prototype);d.prototype={ZC:function(a){return new e(a)},clone:function(){var a=new d;a.data=this.data;a.index=0;return a},run:function(a,c){var b=this.data.functions[this.index];this.index++;-1===this.bc.indexOf(a)&&this.bc.push(a);return b?(this.vx.qq(b,a,c),!1):!0}};d.prototype=$.extend(Object.create(b.o.oI.prototype),d.prototype);b.o.SQ=function(a){!0===a&&(a=1.4);b.o.Fw=a;c.prototype[28]=a?c.prototype.fM:c.prototype.drawImage};b.o.cI=e;b.o.dI=d})(window);
(function(b){function d(c,a){this.TC=!1;this.xh=this.vk=null;this.tf=c;this.Ni={};this.Bq=null;this.fa=a.ec()}function e(){var c,a,b=[];b[arguments.length-1]=null;var g=0;0<arguments.length&&(a=arguments[g].endsWith("/")?arguments[g].length-1:arguments[g].length,b[g]=arguments[g].substring(0,a));for(g=1;g<arguments.length-1;++g)c=arguments[g].startsWith("/")?1:0,a=arguments[g].endsWith("/")?arguments[g].length-1:arguments[g].length,b[g]=arguments[g].substring(c,a);1<arguments.length&&(c=arguments[g].startsWith("/")?
1:0,b[g]=arguments[g].substring(c,arguments[g].length));return b.join("/")}d.prototype=_(d.prototype).extend({yS:function(c){for(var a=0;a<c.length;++a){var b=c[a],g;switch(b.at){case "create":this.Ni[b.author]||(this.Ni[b.author]=b.aName);g=this.fa.gn(b.xfdf)[0];g["authorId "]=b.author;this.fa.Xb(g);this.fa.trigger("updateAnnotationPermission",[g]);break;case "modify":g=this.fa.gn(b.xfdf)[0];this.fa.Xb(g);break;case "delete":this.fa.gn("<delete><id>"+b.aId+"</id></delete>")}}},XN:function(c,a,b){this.xh&&
this.xh(c,a,b)},XP:function(c){this.one("blackBoxAnnotationsEnabled",this.XN.bind(this,{imported:!1},c,"add"))},DO:function(c){function a(){if(200===g.status&&0<g.responseText.length)try{var a=JSON.parse(g.responseText);f.Bq=a.id;f.Ni[a.id]=a.user_name;f.fa.Ez(a.id);f.vk=b.o.oA(e(f.tf,"blackbox/"),"annot");f.QS(c);f.vk.Tz(function(a){a.t&&a.t.startsWith("a_")&&a.data&&f.yS(a.data)},function(){f.vk.send({t:"a_retrieve",dId:c});f.trigger("blackBoxAnnotationsEnabled",[f.Ni[a.id],f.Bq])},function(){f.uL();
f.trigger("blackBoxAnnotationsDisabled")})}catch(d){console.error(d.message)}}this.sD();var f=this;if(c){var g=new XMLHttpRequest;g.addEventListener("load",a);g.open("GET",e(this.tf,"demo/SessionInfo.jsp"));g.withCredentials=!0;g.send();this.TC=!0}else console.error("Document ID required for collaboration")},sD:function(){this.xh&&(this.fa.off("annotationChanged",this.xh),this.xh=null);this.vk&&(this.vk.close(),this.vk=null)},uL:function(){this.Bq=null;this.Ni={};this.fa.Ez("Guest")},HM:function(c){return this.TC&&
this.Ni[c]?this.Ni[c]:c},QS:function(c){var a=this;a.xh&&a.fa.off("annotationChanged",a.xh);a.xh=function(b,g,e){if(!b.imported){b={t:"a_"+e,dId:c,annots:[]};var d=a.fa.Zs(),k,m;"delete"!==e&&(k=(new DOMParser).parseFromString(d,"text/xml"),m=new XMLSerializer);for(d=0;d<g.length;d++){var n=g[d],p;if("add"===e){p=k.querySelector('[name="'+n.Id+'"]');p=m.serializeToString(p);var q=null;n.InReplyTo&&(q=a.fa.Yi(n.InReplyTo).authorId||"default");b.annots.push({at:"create",aId:n.Id,author:a.Bq,aName:a.Ni[a.Bq],
parent:q,xfdf:"<add>"+p+"</add>"})}else"modify"===e?(p=k.querySelector('[name="'+n.Id+'"]'),p=m.serializeToString(p),b.annots.push({at:"modify",aId:n.Id,xfdf:"<modify>"+p+"</modify>"})):"delete"===e&&b.annots.push({at:"delete",aId:n.Id})}0<b.annots.length&&a.vk.send(b)}}.bind(a);a.fa.on("annotationChanged",a.xh)}});$.extend(d.prototype,b.utils.eventHandler);b.o.$n=d})(window);
(function(b){b.Annotations=b.Annotations||{};var d=b.Annotations,e;if(!(e=!Object.defineProperty)){var c;try{Object.defineProperty({},"x",{}),c=!0}catch(f){c=!1}e=!c}e&&(Object.defineProperty=function(a,c,b){if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&"get"in b&&Object.prototype.__defineGetter__.call(a,c,b.get);Object.prototype.__defineSetter__&&"set"in b&&Object.prototype.__defineSetter__.call(a,c,b.set);"value"in b&&(a[c]=
b.value);return a});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,c){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&Object.defineProperty(a,b,c[b]);return a});var a;d.eb={Ij:1,extraSelectorsEnabled:!1,qD:function(a,c){for(var b=[],e=Math.min(a+1,c-1),d=Math.max(0,a-1);d<=e;++d)b.push(d);return b},hD:function(a){return null===a?"":0<a.length?a.replace(/&[^;]*;/g,function(a){switch(a.charAt(1)){case "q":return'"';
case "a":return"&";case "l":return"<";case "g":return">";case "#":return"x"===a.charAt(2)?String.fromCharCode(parseInt(a.substring(3,a.length-1),16)):String.fromCharCode(parseInt(a.substring(2,a.length-1),10))}return a}):""},UL:function(a,c,e){var h=e.u.getDocument(),k=c.getAttribute("page"),k=parseInt(k,10),m=[],n=[];if(c.hasAttribute("selidxs"))var p=c.getAttribute("selidxs"),m=d.ba.VL(p);else b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No index-based selector in XFDF.");if(c.hasAttribute("surrtxts_0_0"))for(p=
0;;){if(c.hasAttribute("surrtxts_"+p+"_0")&&c.hasAttribute("surrtxts_"+p+"_1")){var q=c.getAttribute("surrtxts_"+p+"_0");if(null===q)break;var u=c.getAttribute("surrtxts_"+p+"_1");if(null===u)break;var r=[];r.push(d.eb.hD(q));r.push(d.eb.hD(u));n.push(r)}else break;p++}else b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No surrounding-text-based selector in XFDF.");if(0>=m.length&&0>=n.length)b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No extra selector data deserialized."),
a.Gf=!1;else{a.Gf=!0;a.tg=null;a.ef=null;a.$B=!1;a.Bo=!1;a.Qr=!0;var v=function(){var c=e.u.getDocument();if(c!==h)a.Gf=!1;else{var c=new XODText.ti(c),b;0<m.length&&(b=c.BN(k,m,a.Gk()),b.status&&(a.tg=b.value));0<n.length&&(b=c.AN(k,n,a.Gk()),b.status&&(a.ef=b.value,a.PageNumber=b.bl+1));a.trigger("quadsCalculatedFromExtraSelectors");a.$B=!0}},w=function(){var c=e.u.getDocument();if(c!==h)a.Gf=!1;else{var b=c.Hb()-1,g=[];0===k&&1<=b?(g.push(k+1),g.push(k),a.Qr=!1,c.Sp(g).then(v)):0<k&&b>=k+1&&(g.push(k+
1),g.push(k-1),g.push(k),a.Qr=!1,c.Sp(g).then(v))}};0===n.length?(a.Qr=!1,h.Sp(k).then(v)):(a.XB||(e.u.off("layoutChanged",w),e.u.on("layoutChanged",w),e.u.one("documentUnloaded",function(){e.u.off("layoutChanged",w)}),a.XB=!0),h.dc().then(function(){e.u.off("layoutChanged",w);a.XB=!1;var c=e.u.getDocument();if(c===h&&a.Qr){var b=d.eb.qD(k,c.Hb());c.Sp(b).then(v)}else e.u.off("layoutChanged",w),a.Gf=!1}))}},$Q:function(a){this.extraSelectorsEnabled=a},jE:function(a){return!a||a instanceof Date?a:
new Date(a)},cO:function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},measureText:function(a,c,b,e){var d=document.getElementById("text-width-tester");"number"===typeof c&&(c+="px");a=a.split("\n").join("<br>&nbsp;").split(" ").join("&nbsp;");if(d)d.style.fontFamily=b,d.style.fontSize=c,d.style.fontWeight=e,d.innerHTML=a;else{var m="display:none;";_.isString(b)&&(m+="font-family:"+b+";");_.isUndefined(c)||(m+="font-size:"+
c+";");_.isUndefined(e)||(m+="font-weight:"+e+";");d=document.createElement("span");d.id="text-width-tester";d.cssText=m;d.innerHTML=a;document.getElementsByTagName("body")[0].appendChild(d)}a=$(d);a.show();c={width:a.width(),height:a.height()};a.hide();return c},LN:function(c,b){var e=(a||(a=document.createElement("canvas"))).getContext("2d");e.font=b;return e.measureText(c).width},QD:function(a,c,b,e){if(c){c.style.fontSize=b+"px";a=0;for(var d;a<=b;)d=Math.floor((a+b)/2),c.style.overflow="hidden",
c.offsetHeight,c.style.fontSize=d+"px",e&&(c.style.lineHeight=e(d)),c.style.overflow="auto",c.scrollHeight>Math.ceil($(c).outerHeight())?b=d-1:a=d+1;c.scrollHeight>Math.ceil($(c).outerHeight())&&(c.style.fontSize=parseFloat(c.style.fontSize)-1+"px");return parseFloat(c.style.fontSize)}return b/2},kM:function(a,c){if(b.utils.disableFormCharacterProcessing)$(a).on("change",function(){c({change:this.value,hF:!0})});else $(a).on("input",function(a){a.change=this.value;c(a)})},nx:function(a,c,e,d){a.save();
a.translate(c.x,c.y);a.rotate(b.Qd.Math.DM(c,e));a.moveTo(0,0);e=5*d+2;c=Math.cos(.2*Math.PI)*e;e*=Math.sin(.2*Math.PI);a.moveTo(c,-e);a.lineTo(0,0);a.lineTo(c,e);a.stroke();a.restore()},ps:function(a,c){var b=a.aa({x:0,y:0}),e=a.aa({x:Number(c),y:0}),d=b.x-e.x,b=b.y-e.y;return Math.sqrt(d*d+b*b)},xD:function(a,c,e){c.beginPath();var h=b.Qd.Math.vL(e);b.Qd.Math.gG(e)&&(h[h.length]={x:h[0].x,y:h[0].y});if(!(2>=h.length)){var k=a.Intensity;0===k&&(k=2);var m=1/8092,n=b.Qd.Math.yN(h);a=1!==Math.round(n);
e=0;for(var p=6.5*k,q=h[0],u=p,r=p,v={x:h[1].x-h[0].x,y:h[1].y-h[0].y},w={x:h[0].x-h[h.length-2].x,y:h[0].y-h[h.length-2].y},k=!0,z=!1,D=0,A,x,y,E=0;E<h.length-1;++E){var F=h[E],B=h[E+1],B={x:B.x-F.x,y:B.y-F.y},G=Math.sqrt(B.x*B.x+B.y*B.y);if(!(G<=m)){var H={x:B.x/G,y:B.y/G},J=Math.max(Math.floor(G/p),1),G=G/J;e=b.Qd.Math.EM(H.x,H.y);if(0===E&&3>=h.length){var M=Math.sqrt(v.x*v.x+v.y*v.y);if(M<p){c.arc(h[0].x,h[0].y,M,0,2*Math.PI);return}if(M<2*G){A=M/2;c.arc(h[0].x,h[0].y,A,0,2*Math.PI);c.moveTo(h[1].x+
A,h[1].y);c.arc(h[1].x,h[1].y,A,0,2*Math.PI);c.moveTo(h[0].x+A,h[0].y);return}c.arc(h[0].x,h[0].y,G/2,0,2*Math.PI);c.moveTo(h[1].x+G/2,h[1].y);c.arc(h[1].x,h[1].y,G/2,0,2*Math.PI);c.moveTo(h[0].x+G/2,h[0].y)}0===E&&(D=G,A={x:H.x,y:H.y});F.x-=H.x*G*.5;F.y-=H.y*G*.5;w=b.Qd.Math.IL(w,B);M=0;z||(++M,r=G,k=0>w*n,F.x+=H.x*G,F.y+=H.y*G,q=F,c.moveTo(q.x,q.y),x=q.x,y=q.y,z=!0);for(u=.25*(u+G);M<J;++M)F.x+=H.x*G,F.y+=H.y*G,y=d.eb.arcTo(x,y,c,u,u,e,0===M&&0>w*n,a,F.x,F.y),x=y.cS,y=y.dS;w=B;u=G}}z||(c.moveTo(q.x,
q.y),x=q.x,y=q.y);A&&(m=.25*(r+u),d.eb.arcTo(x,y,c,m,m,e,k,a,h[h.length-1].x+.5*D*A.x,h[h.length-1].y+.5*D*A.y))}},arcTo:function(a,c,e,d,k,m,n,p,q,u){var r=[],v=[];b.Qd.Math.UK(a,c,r,v,d,k,m,n,p,q,u);for(k=d=0;k<v.length;++k)"c"===v[k]?(e.bezierCurveTo(r[d],r[d+1],r[d+2],r[d+3],r[d+4],r[d+5]),a=r[d+4],c=r[d+5],d+=6):(e.lineTo(r[d],r[d+1]),a=r[d],c=r[d+1],d+=2);return{cS:a,dS:c}}}})(window);
(function(b){function d(){this.fonts=[]}function e(a,c,b,f){this.url=_.isUndefined(f)?["data:",this.qP[b],";base64,",btoa(c)].join(""):"'"+f+"'";this.url=["url(",this.url,")"].join("");this.FQ=["@font-face { font-family:'",a,"';src:",this.url,"}"].join("");this.name=a}document.head||(document.head=document.getElementsByTagName("head")[0]);b.mi={};var c=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");
e.prototype={Uz:null,styleSheet:null,qP:{woff:"application/x-font-woff",opentype:"font/opentype",sfnt:"application/font-sfnt"},insert:function(){if(!b.mi[this.name]){if(!this.styleSheet){var a=document.createElement("style");document.head.appendChild(a);e.prototype.styleSheet=a.sheet;e.prototype.Uz=a}a=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.FQ,a);b.mi[this.name]=this.styleSheet.cssRules[a]}},remove:function(){if(!b.utils.ie){var a=b.mi[this.name];if(!a)throw Error("CSS @font-face rule is not in use");
var c,f=this.styleSheet.cssRules.length,e=this.styleSheet.cssRules;for(c=0;c<f;c++)if(e[c]===a){this.styleSheet.deleteRule(c);delete b.mi[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");}}};if("undefined"!==typeof document&&document.fonts)try{var a=new e("lt"+Date.now()+"0",c,"opentype");"error"===(new window.FontFace(a.name,a.url,{})).status?b.Jm=!1:b.Jm=!0}catch(g){b.Jm=!1}else b.Jm=!1;d.prototype={jS:1,EK:function(a){this.fonts.push(a)},fO:function(){return 0!==
this.fonts.length},xF:function(a){function c(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function f(a,c){q++;30<q?(console.warn("Load test font never loaded."),c()):(p.font="30px "+a,p.fillText(".",0,20),0<p.getImageData(0,0,1,1).data[3]?c():setTimeout(_.bind(f,null,a,c)))}var e=this,d;if(b.Jm){var n;d=document.createElement("canvas");d.width=1;d.height=1;var p=d.getContext("2d"),q=0,u="lt"+Date.now()+this.jS++,r=w,r=r.substr(0,976)+u+r.substr(976+
u.length),v=c(r,16);d=0;for(n=u.length-3;d<n;d+=4)v=v-1482184792+c(u,d)|0;d<u.length&&(v=v-1482184792+c(u+"XXX",d)|0);var r=r.substr(0,16)+(String.fromCharCode(v>>24&255)+String.fromCharCode(v>>16&255)+String.fromCharCode(v>>8&255)+String.fromCharCode(v&255))+r.substr(20),w=new b.dh.FontFace(u,r,"opentype");w.insert();r=[];d=0;for(n=this.fonts.length;d<n;d++)r.push(this.fonts[d].name);r.push(u);var z=document.createElement("div");z.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
d=0;for(n=r.length;d<n;++d)v=document.createElement("span"),v.textContent="Hi",v.style.fontFamily=r[d],z.appendChild(v);document.body.appendChild(z);f(u,function(){document.body.removeChild(z);w.remove();for(var c=0;c<e.fonts.length;c++)if(a(e.fonts[c].name),!e.fonts[c].url.startsWith("url(data")){var b=e.fonts[c].url;if(b.startsWith("url('")){if(8>b.length){console.warn("Invalid font ObjectURL.");return}b=b.substring(5,b.length-2)}URL.revokeObjectURL(b);e.fonts[c].url=null}e.fonts=[]})}else{for(d=
0;d<e.fonts.length;d++)setTimeout(a,0,e.fonts[d].name);e.fonts=[]}},fP:function(a,c,b){var f=document.createElement("div");f.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");f.innerHTML=""+('<span style="font-family:'+a+'">" + testString +"</span>');document.body.appendChild(f);$.get(c,function(){setTimeout(function(){b();document.body.removeChild(f)},300)})}};if(b.Jm){var f=e,e=function(){f.apply(this,arguments);this.Dx=new window.FontFace(this.name,
this.url,{})};e.prototype=f.prototype;$.extend(e.prototype,{insert:function(){document.fonts.add(this.Dx);b.mi[this.name]=this},remove:function(){document.fonts["delete"](this.Dx)}});$.extend(d.prototype,{xF:function(a){this.fonts.forEach(function(c){c.Dx.load().then(function(){a(c.name);if(!c.url.startsWith("url(data")){var b=c.url;if(b.startsWith("url('")){if(8>b.length){console.warn("Invalid font ObjectURL.");return}b=b.substring(5,b.length-2)}URL.revokeObjectURL(b);c.url=null}})["catch"](function(b){a(c.name);
console.warn("loadFonts: font failed to load: "+c.name);b&&console.warn("loadFonts: exception is: "+b.message)})})}})}b.dh={FontFace:e,mI:d}})(window);
(function(b){function d(c,a,b){this.page=c;this.qb=a;this.te=b;this.MD=a.Na.Ld?a.Na.Ld.path:void 0;this.Wk=this.paused=!1}var e={Dh:0,Le:1,jp:2,Nf:3};b.asc=function(c){var a=.707106781*c.m_a+.707106781*c.m_b;c=.707106781*c.m_c+.707106781*c.m_d;return Math.sqrt(a*a+c*c)};d.prototype={pause:function(){this.paused=!0;this.Sw()},Sw:function(){this.Qt=!1;b.clearImmediate(this.yF)},xL:function(c,a,f,g,d,h,k,m,n){function p(){F=!0;u&&u.bq().then(function(){if(q.abort){if(E)return z&&(z=!1,g(r)),u=q.resume=
null,q.Sw(),q.abort&&q.abort(),f(r);q.abort&&((D=5<++x)&&A&&z&&m&&(z=!1,g(r)),E=u.run(v,w,50),!E&&u.sO&&g(r),F=!1,q.Qt=!1,q.paused||q.Ku())}})}var q=this;a=a||e.Dh;f=f||function(){};var u=this.qb.ob;d&&0<d&&(d=Math.round(d));c=b.o.La.Mn(this.page,c||1,a,h,d,k,n);var r=c.canvas,v=c.ctx,w=c.t,z=void 0!==g,D=!1,A=!1,x=0,y=setTimeout(function(){A=!0;D&&z&&m&&(z=!1,g(r))},3E3);q.abort=function(){F=!1;q.Sw();q.yF=null;q.resume=null;u&&(u.cancel(),u=null);q.qb.ob=null;clearTimeout(y);q.Ku=null;_(q.qb.Sa).each(function(a){switch(a.type){case "png":case "jpg":a&&
a.data&&!a.data.startsWith("url(data")&&(URL.revokeObjectURL(a.data),a.data=null);break;case "font":if(a&&a.data&&a.data.url&&!a.data.url.startsWith("url(data")){var c=a.data.url;if(c.startsWith("url('")){if(8>c.length){console.warn("Invalid font ObjectURL.");break}c=c.substring(5,c.length-2)}URL.revokeObjectURL(c);a.data.url=null}}});q.abort=null};var E=!1;q.resume=function(){!1!==F||q.Qt||q.Ku();q.paused=!1};q.Ku=function(){q.Qt=!0;q.yF=b.setImmediate(p,0)};var F=!1;q.Qt=!1;q.paused||q.Ku()},HE:function(c){var a=
[];if(c){for(var b=0;b<c.length;++b)a[b]=this.qb.Na.Ah(c[b]);return a}_(this.qb.Sa).each(function(c){a.push(c)});return a},zF:function(c,a,f){function e(a){var c=k.te.Gt(a.name);d(a);switch(a.type){case "png":case "jpg":if(b.ci[a.name]){a.data.startsWith("data")||URL.revokeObjectURL(a.data);if(c){h(a.name);break}b.ci[a.name].ep.push(function(){h(a.name)});break}var f=new Image;f.onload=function(){f.src.startsWith("data")||URL.revokeObjectURL(f.src);for(var a=0;a<this.ep.length;++a)this.ep[a]();f.ep=
[];f=f.onload=f.onerror=null};f.onerror=function(){b.utils.warn("img error "+a.name);f.src.endsWith(b.o.Gh()+"1px.png")||(f.src=b.o.Gh()+"1px.png")};f.hres=a.hres;f.vres=a.vres;b.ci[a.name]=f;f.ep=[];f.ep[0]=function(){h(a.name)};f.Mb=k.qb.Vg;f.src=a.data;break;case "font":_.isUndefined(k.MD)?n.EK(a.data):n.fP(a.name,k.MD+a.oa,function(){h(a.name)});break;default:b.utils.warn("unknown resource type: "+a.type),h(a.name)}}function d(a){f&&k.te.zK(a.name)}function h(b){k.te.loaded(b);if(k.Wk&&1>--m)return k.Wk=
!1,c(a[0])}if(this.Wk)throw Error("Multiple calls to loadResource");var k=this;a=this.HE(a);var m=a.length;this.Wk=!0;var n=new b.dh.mI,p=!0;_(a).each(function(a){p=!1;k.te.Gt(a.name)?(d(a),h(a.name)):a.data?e(a):k.qb.Na.Kg(a.oa,function(c){k.te.Gt(a.name)?(d(a),h(a.name)):e(k.qb.Na.Ah(c.oa,c.data))})});n.fO()&&n.xF(_(h).bind(this));p&&(c(),this.Wk=!1)},IC:function(){this.Wk&&(this.Wk=!1)},pd:function(c){var a=this;a.IC();c=this.HE(c);_(c).each(function(c){if("font"!==c.type&&a.te.release(c.name))switch(c.type){case "png":case "jpg":delete b.ci[c.name];
break;case "font":c.data&&c.data.remove()}})}};b.Ue=b.Ue||{};b.Ue.hJ=d;b.Ue.br=function(){var c={};return{zK:function(a){a in c?c[a].c++:c[a]={c:1,l:!1}},loaded:function(a){a in c&&(c[a].l=!0)},Fy:function(a){return a in c?!0:!1},Gt:function(a){return a in c?c[a].l:!1},release:function(a){if(!(a in c))return!1;--c[a].c;return c[a].c?!1:(delete c[a],!0)}}};b.o.Qa=e;b.ud=function(c,a,f,g,d,h){g=g||{x:0,y:0};f.width?(f.x1=0,f.y1=0,f.x2=f.width,f.y2=f.height):(f.width=f.x2-f.x1,f.height=f.y2-f.y1);var k=
new XODText.Da;_.isUndefined(d)&&(d=!0);d&&(d=h||b.utils.getCanvasMultiplier(),c*=d,g.x*=d,g.y*=d);k.Oa(c,0,0,c,g.x,g.y);c=new XODText.Da;a===e.Dh?c.Oa(1,0,0,1,-f.x1,-f.y1):a===e.Le?c.Oa(1,0,0,1,f.y2,-f.x1):a===e.jp?c.Oa(1,0,0,1,f.x2,f.y2):a===e.Nf&&c.Oa(1,0,0,1,-f.y1,f.x2);k.concat(c);k.concat(XODText.Da.jl(Math.PI/2*(4-a)));return k}})(window);
(function(b){b.Actions||(b.Actions={});var d=b.Actions;d.Action=function(c){_.isObject(c)&&_.isString(c.name)&&(this.nc=c.name)};d.Action.prototype={elementName:null,onTriggered:function(){},serialize:function(){return document.createElementNS("",this.elementName)},deserialize:function(){}};Object.defineProperties(d.Action.prototype,{name:{get:function(){return this.elementName}}});d.Te=function(c){d.Action.call(this,c);this.Ff=new d.Te.ho;_.isObject(c)&&this.Ff.set(c.dest)};d.Te.prototype={elementName:"GoTo",
onTriggered:function(c,a,b){d.Action.prototype.onTriggered.call(this,c,a,b);this.Ff.DC(b)},serialize:function(c){var a=d.Action.prototype.serialize.call(this,c);$(a).append(this.Ff.serialize(c));return a},deserialize:function(c,a,b){d.Action.prototype.deserialize(c,a);this.Ff.deserialize(c,a,b)}};d.Te.prototype=$.extend(Object.create(d.Action.prototype),d.Te.prototype);Object.defineProperties(d.Te.prototype,{dest:{get:function(){return this.Ff}}});d.Fl=function(c){d.Action.call(this,c);this.Ff=new d.Te.ho;
_.isObject(c)&&(this.Ff.set(c.dest),this.vr=c.filename,this.qw=c.newWindow)};d.Fl.prototype={elementName:"GoToR",onTriggered:function(c,a,b){d.Action.prototype.onTriggered.call(this,c,a,b);this.Ff.DC(b)},serialize:function(c){var a=d.Action.prototype.serialize.call(this,c);this.qw||a.setAttribute("NewWindow","false");var b=document.createElementNS("","File");this.vr&&b.setAttribute("OriginalName",this.vr);var e=$(a);e.append(b);e.append(this.Ff.serialize(c));return a},deserialize:function(c,a,b){d.Action.prototype.deserialize(c,
a);this.Ff.deserialize(c,a,b);c=c.getElementsByTagName("GoToR")[0];this.qw="false"!==c.getAttribute("NewWindow");c=c.getElementsByTagName("File");1===c.length&&(this.vr=c[0].getAttribute("OriginalName"))}};d.Fl.prototype=$.extend(Object.create(d.Action.prototype),d.Fl.prototype);Object.defineProperties(d.Fl.prototype,{dest:{get:function(){return this.Ff}},filename:{get:function(){return this.vr}},newWindow:{get:function(){return this.qw}}});d.Te.ho=function(c){this.km=1;this.Co="Fit";this.nc=this.Ii=
this.sg=this.wg=this.Fe=this.Ee=null;this.set(c)};d.Te.ho.prototype={set:function(c){if(_.isObject(c)){_.isUndefined(c.page)||(this.km=Number(c.page));var a=c.fit;_.isString(a)&&(this.Co=a);switch(a){case "XYZ":_.isUndefined(c.left)||(this.Ee=Number(c.left));_.isUndefined(c.top)||(this.Fe=Number(c.top));_.isUndefined(c.zoom)||(this.Ii=Number(c.zoom));break;case "FitBH":case "FitH":_.isUndefined(c.top)||(this.Fe=Number(c.top));break;case "FitBV":case "FitV":_.isUndefined(c.left)||(this.Ee=Number(c.left));
break;case "FitR":_.isUndefined(c.left)||(this.Ee=Number(c.left));_.isUndefined(c.top)||(this.Fe=Number(c.top));_.isUndefined(c.right)||(this.wg=Number(c.right));_.isUndefined(c.bottom)||(this.sg=Number(c.bottom));var a=_.min([this.Ee,this.wg]),b=_.min([this.Fe,this.sg]),e=_.max([this.Ee,this.wg]),d=_.max([this.Fe,this.sg]);this.Fe=b;this.Ee=a;this.sg=d;this.wg=e}c=c.name;_.isString(c)&&(this.nc=c,this.km=null)}},serialize:function(c){var a=document.createElementNS("","Dest"),b=document.createElementNS("",
this.Co||"Named"),e=this.Fe||0,d=this.Ee||0,h=this.sg||0,k=this.wg||0;c=c.inverse();d=c.aa({x:d,y:e});h=c.aa({x:k,y:h});e=_.isNull(this.Fe)?null:d.y;d=_.isNull(this.Ee)?null:d.x;k=_.isNull(this.wg)?null:h.x;h=_.isNull(this.sg)?null:h.y;_.isNull(this.km)||b.setAttribute("Page",this.km);_.isNull(this.Ii)||b.setAttribute("Zoom",this.Ii);e&&b.setAttribute("Top",e);d&&b.setAttribute("Left",d);k&&b.setAttribute("Right",k);h&&b.setAttribute("Bottom",h);switch(this.Co){case "XYZ":_.isNull(d)&&b.setAttribute("Left",
"");_.isNull(e)&&b.setAttribute("Top","");_.isNull(this.Ii)&&b.setAttribute("Zoom","");break;case "FitBH":case "FitH":_.isNull(e)&&b.setAttribute("Top","");break;case "FitBV":case "FitV":_.isNull(d)&&b.setAttribute("Left","");break;case "FitR":_.isNull(d)&&b.setAttribute("Left",""),_.isNull(e)&&b.setAttribute("Top",""),_.isNull(k)&&b.setAttribute("Right",""),_.isNull(h)&&b.setAttribute("Bottom","")}this.nc&&b.setAttribute("Name",this.nc);$(a).append(b);return a},deserialize:function(c,a,b){var e=
Annotations.ba;a=e.getAttribute(c,"PageNum");var d,h,k,m,n,p,q;h=e.getAttribute(c,"Hpos");d=e.getAttribute(c,"Vpos");c=c.getElementsByTagName("Dest");if(!a||0<c.length)if(c=c[0],c=e.Nx(c))a=e.getAttribute(c,"Page"),p=e.dt(c),d=e.getAttribute(c,"Top"),h=e.getAttribute(c,"Left"),k=e.getAttribute(c,"Right"),m=e.getAttribute(c,"Bottom"),n=e.getAttribute(c,"Zoom"),"Named"===e.dt(c)&&(q=e.getAttribute(c,"Name"));q||(e=b.u.tc(a-1),b=e.aa({x:h||0,y:d||0}),e=e.aa({x:k||0,y:m||0}),d=_.isNull(d)?void 0:b.y,
h=_.isNull(h)?void 0:b.x,k=_.isNull(k)?void 0:e.x,m=_.isNull(m)?void 0:e.y);this.set({page:_.isNull(a)?void 0:a,fit:_.isNull(p)?void 0:p,top:d,left:h,right:k,bottom:m,zoom:_.isNull(n)?void 0:n,name:q})},DC:function(c){var a=this.Fe||0,b=this.Ee||0,e=this.km||1;switch(this.Co){case "XYZ":this.Ii&&c.mA(this.Ii);c.ip(e,a,b);break;case "Fit":case "FitB":case "FitV":case "FitBV":c.we(e);c.Fz(c.og.uA);break;case "FitH":case "FitBH":c.we(e);c.Fz(c.og.sv);c.ip(e,a,0);break;case "FitR":var d=this.wg&&this.Ee?
Math.abs(this.wg-this.Ee):null,h=this.sg&&this.Fe?Math.abs(this.sg-this.Fe):null,d=d?c.Qb().innerWidth()/d:Infinity,h=h?c.Qb().innerHeight()/h:Infinity,h=Math.min(d,h);Infinity!==h&&c.mA(h);c.ip(e,a,b);break;default:c.we(e)}}};Object.defineProperties(d.Te.ho.prototype,{page:{get:function(){return this.km},set:function(c){this.set({page:c})}},fit:{get:function(){return this.Co}},top:{get:function(){return _.isNull(this.Fe)?void 0:this.Fe}},left:{get:function(){return _.isNull(this.Ee)?void 0:this.Ee}},
bottom:{get:function(){return _.isNull(this.sg)?void 0:this.sg}},right:{get:function(){return _.isNull(this.wg)?void 0:this.wg}},zoom:{get:function(){return _.isNull(this.Ii)?void 0:this.Ii}},name:{get:function(){return this.nc}}});d.vi=function(c){d.Action.call(this,c);this.Qo="";_.isObject(c)&&_.isString(c.uri)&&(this.Qo=c.uri)};d.vi.prototype={elementName:"URI",onTriggered:function(c,a,b){d.Action.prototype.onTriggered.call(this,c,a,b);c=this.Qo;0!==c.indexOf("http://")&&0!==c.indexOf("https://")&&
0!==c.indexOf("ftp://")&&0!==c.indexOf("mailto:")&&0!==c.indexOf("tel:")&&(c=-1!==c.indexOf("@")?"mailto:"+c:"http://"+c);window.open(c)},deserialize:function(c,a){d.Action.prototype.deserialize.call(this,c,a);var b=Annotations.ba,e=b.getAttribute(c,"Target");_.isNull(e)&&(e=b.Nx(c),e=b.getAttribute(e,"Name"));this.Qo=e},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);c.setAttribute("Name",this.Qo);return c}};d.vi.prototype=$.extend(Object.create(d.Action.prototype),d.vi.prototype);
Object.defineProperties(d.vi.prototype,{uri:{get:function(){return this.Qo}}});d.Kl=function(c){d.Action.call(this,c);this.Xl="";_.isObject(c)&&_.isString(c.action)&&(this.Xl=c.action)};d.Kl.prototype={elementName:"Named",onTriggered:function(c,a,b){d.Action.prototype.onTriggered.call(this,c,a,b);switch(this.Xl){case "NextPage":b.we(c.uc()+1);break;case "PrevPage":b.we(c.uc()-1);break;case "FirstPage":b.we(1);break;case "LastPage":b.we(b.Hb());break;default:console.warn("Invalid named action name: "+
this.Xl)}},deserialize:function(c,a){d.Action.prototype.deserialize.call(this,c,a);var b=Annotations.ba,e=b.getAttribute(c,"N");_.isNull(e)&&0<c.getElementsByTagName("Named").length&&(e=b.getAttribute(c.getElementsByTagName("Named")[0],"Name"));this.Xl=e},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);c.setAttribute("Name",this.Xl);return c}};d.Kl.prototype=$.extend(Object.create(d.Action.prototype),d.Kl.prototype);Object.defineProperties(d.Kl.prototype,{action:{get:function(){return this.Xl}}});
d.Hl=function(c){d.Action.call(this,c);this.Wv=this.Ir=null;this.set(c)};d.Hl.prototype={elementName:"JavaScript",set:function(c){_.isObject(c)&&_.isString(c.javascript)&&(this.Ir=c.javascript)},onTriggered:function(c,a,b){d.Action.prototype.onTriggered.call(this,c,a,b);c=b.getDocument().Io;this.Wv||(this.Wv=c.xm(this.Ir,b));c.Cn(this.Wv,a,b)},deserialize:function(c,a){d.Action.prototype.deserialize.call(this,c,a);var b=Annotations.ba.getAttribute(c,"JavaScript");b||(b=c.getElementsByTagName("JavaScript")[0].textContent);
this.set({javascript:b})},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);$(c).text(this.Ir);return c}};d.Hl.prototype=$.extend(!0,new d.Action,d.Hl.prototype);Object.defineProperties(d.Hl.prototype,{javascript:{get:function(){return this.Ir||""}}});d.Pj=function(c){d.Action.call(this,c);this.Bi=!1;this.kb=null;_.isObject(c)&&(_.isArray(c.fields)&&(this.kb=c.fields.slice()),_.isUndefined(c.exclude)||(this.Bi=!!c.exclude))};d.Pj.prototype={elementName:"ResetForm",onTriggered:function(c,
a,b){d.Action.prototype.onTriggered.call(this,c,a,b);var e=this,l=b.ec().Jk();c=l.Nn;l.Nn=!1;this.Bi||_.isNull(this.kb)?l.Cq({cq:function(a,c,b){e.kb&&-1!==e.kb.indexOf(a)||b.FG()}}):this.kb.forEach(function(a){var c=l.yb(a);c?c.FG():console.warn("Missing field during reset:",a)});l.Nn=c;l.$o(null,0)},deserialize:function(c,a){d.Action.prototype.deserialize.call(this,c,a);var b=Annotations.ba,e=[],l=!0;_.isNull(b.getAttribute(c,"ResetFields"))?_.isNull(b.getAttribute(c,"ResetExcludedFields"))?0<c.getElementsByTagName("ResetForm").length&&
(c=c.getElementsByTagName("ResetForm")[0],(e=b.getAttribute(c,"Fields"))&&(e=e.split(",")),b=parseInt(b.getAttribute(c,"Flags"),10),_.isNull(e)||_.isUndefined(e)?(e=[],l=!0):l=1===b?!0:!1):(e=b.getAttribute(c,"ResetExcludedFields").split(","),l=!0):(e=b.getAttribute(c,"ResetFields").split(","),l=!1);this.kb=e;this.Bi=!!l},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);this.kb&&c.setAttribute("Fields",this.kb.join(","));c.setAttribute("Flags",this.Bi?1:0);return c}};d.Pj.prototype=
$.extend(Object.create(d.Action.prototype),d.Pj.prototype);Object.defineProperties(d.Pj.prototype,{fields:{get:function(){return this.kb}},exclude:{get:function(){return this.Bi}}});d.Uj=function(c){d.Action.call(this,c);this.bs="";this.kb=[];this._format="xfdf";this.Cr=!1;this._method="POST";this.Bi=!1;this.Zb=new b.Annotations.wi({mask:"IncludeNoValueFields IncludeAppendSaves IncludeAnnotations CanonicalFormat WxclNonUserAnnots ExclFKey EmbedForm".split(" ")});this.set(c)};d.Uj.prototype={elementName:"SubmitForm",
set:function(c){_.isObject(c)&&(c.url&&(this.bs=String(c.url)),_.isArray(c.fields)&&(this.kb=c.fields.slice()),c.format&&(this._format=c.format.toLowerCase()),c.includeEmpty&&(this.Cr=!!c.includeEmpty),c.flags&&this.Zb.set(c.flags),c.method&&(this._method=String(c.method)),c.exclude&&(this.Bi=!!c.exclude))},onTriggered:function(c,a,b){d.Action.prototype.onTriggered.call(this,c,a,b);var e=this,l=[],h=b.ec(),k=h.Jk();0<this.kb.length?this.kb.forEach(function(a){l.push(k.yb(a))}):k.pp(function(a){_.isNull(a.value)&&
!e.Cr||l.push(a)});c="";"xfdf"===this._format?c=h.qk.rJ(l):("fdf"===this._format&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),c=h.qk.sJ(l));$.ajax({type:"POST",url:this.bs,data:c,success:function(a){if(h.vH)h.vH(a);else{var c=window.open();_.isNull(c)||_.isUndefined(c)?console.warn("Form popup blocked"):c.document.write(a)}},error:function(){console.warn("Failed to submit form data to server.")}})},deserialize:function(c,a){d.Action.prototype.deserialize.call(this,
c,a);var b=Annotations.ba,e=c.getElementsByTagName("SubmitForm"),l="SubmitURL",h="SubmitFields",k="SubmitFlag";0<e.length&&(c=e[0],l="URL",h="Fields",k="Flags");e=b.getAttribute(c,l);l=null;_.isNull(b.getAttribute(c,h))||(l=b.getAttribute(c,h).split(","));h=0;_.isNull(b.getAttribute(c,k))||(h=parseInt(b.getAttribute(c,k),10));b="fdf";h&4&&(b="html");h&32&&(b="xfdf");this.set({url:e,fields:l||void 0,format:b,flags:0!==(h&2)?["IncludeNoValueFields"]:[]})},serialize:function(c){c=d.Action.prototype.serialize.call(this,
c);c.setAttribute("Fields",this.kb.join(","));c.setAttribute("Flags",("xfdf"===this._format?32:0)|("html"===this._format?4:0)|(this.Cr?2:0));c.setAttribute("URL",this.bs);return c}};d.Uj.prototype=$.extend(Object.create(d.Action.prototype),d.Uj.prototype);Object.defineProperties(d.Uj.prototype,{url:{get:function(){return this.bs}},fields:{get:function(){return this.kb}},format:{get:function(){return this._format}},includeEmpty:{get:function(){return this.Cr}},flags:{get:function(){return this.Zb},
set:function(c){this.Zb.set(c)}},method:{get:function(){return this._method}},exclude:{get:function(){return this.Bi}}});d.Gl=function(c){d.Action.call(this,c);this.kb=[];this._hide=!0;this.set(c)};d.Gl.prototype={elementName:"Hide",set:function(c){_.isObject(c)&&(_.isArray(c.fields)&&(this.kb=c.fields.slice()),_.isUndefined(c.hide)||(this._hide=!!c.hide))},onTriggered:function(c,a,b){d.Action.prototype.onTriggered.call(this,c,a,b);var e=b.ec().Jk(),l=this;this.kb.forEach(function(a){e.yb(a).wf(!l.hide)})},
deserialize:function(c,a){d.Action.prototype.deserialize.call(this,c,a);var b=Annotations.ba,e=!0,l;_.isNull(b.getAttribute(c,"HideField"))?0<c.getElementsByTagName("Hide").length?(c=c.getElementsByTagName("Hide")[0],l=b.getAttribute(c,"Fields").split(","),e="false"!==b.getAttribute(c,"Hide")):(l=[b.getAttribute(c,"ShowField")],e=!1):l=[b.getAttribute(c,"HideField")];this._hide=e;this.kb=l},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);c.setAttribute("Fields",this.NU.join(","));
c.setAttribute("Hide",this.hide?"true":"false");return c}};d.Gl.prototype=$.extend(Object.create(d.Action.prototype),d.Gl.prototype);Object.defineProperties(d.Gl.prototype,{fields:{get:function(){return this.kb}},hide:{get:function(){return this._hide}}});d.tA=function(){this.aC={GoTo:d.Te,GoToR:d.Fl,URI:d.vi,Named:d.Kl,JavaScript:d.Hl,ResetForm:d.Pj,SubmitForm:d.Uj,Hide:d.Gl}};d.tA.prototype={zy:function(c){if(_.isObject(c)){var a=this.aC[c.name];return a?new a(c):null}},EO:function(c,a,b){var e=
Annotations.ba.CM(c);return(e=this.aC[e])?(e=new e,e.deserialize(c,a,b),e):null}};var e=new d.tA;d.SU=function(){return e};d.ah=function(c){this.$j={};this.aw=null;_.isObject(c)&&_.isObject(c.actions)&&this.ds(c.actions)};d.ah.prototype={ds:function(c){if(_.isObject(c))for(var a in c)if(c.hasOwnProperty(a))for(var b=c[a].length,e=0;e<b;++e)this.rk(a,c[a][e])},rk:function(c,a){var b=this.$j[c]||[];if(a instanceof d.Action)-1===b.indexOf(a)&&b.push(a);else if(_.isObject(a)){var g=e.zy(a);g&&b.push(g)}this.$j[c]=
b},Ek:function(){return this.$j},xe:function(c,a){var b=this.$j[c];if(b)for(var e=b.length,d=0;d<e;++d)b[d].onTriggered(this,a,this.aw)},uf:function(c){this.aw=c},Hg:function(){return this.aw},HQ:function(c,a,b){function e(c,b){b.forEach(function(b){var f=document.createElementNS("","Action");f.setAttribute("Trigger",c);var e=$(f);if(b=b.serialize(a))e.append(b),h=!0;$(d).append(f)})}var d;d=b?b:document.createElementNS("","OnActivation");var h=!1,k;for(k in this.$j)this.$j.hasOwnProperty(k)&&e(k,
this.$j[k]);h&&!b&&$(c).append(d)},oC:function(c,a,b){var g=Annotations.ba;c=g.BM(c);for(var d=c.length,h=0;h<d;++h){var k=c[h],m=g.getAttribute(k,"Trigger")||"U";(k=e.EO(k,a,b))&&this.rk(m,k)}}}})(window);
(function(b){function d(a,c){return a-c}function e(a,c){b.Actions.ah.call(this);this.width=a;this.height=c;this.text=null;this.oq=[];this.links=[];this.sb=null}function c(a,c,f,e,g,d){var l={getZoom:function(){return 1},getPageRotation:function(){return b.o.Qa.Dh},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(a)?(l=
$.extend(l,a),l.zoom&&(l.getZoom=function(){return l.zoom}),l.pageRotation&&(l.getPageRotation=function(){return l.pageRotation})):l=$.extend(l,{pageIndex:a,getZoom:function(){return c},getPageRotation:function(){return f},drawProgressive:g,drawComplete:e,canvasNum:d});return l}function a(){}function f(a){a in this.Kh?(clearImmediate(this.Kh[a]),delete this.Kh[a]):this.ya.xs(a)}var g=window.o,l=b.o.V.xi,h=b.o.V.pv;b.ci=b.ci||{};b.o.oo={JI:0,LI:1,cJ:2,iJ:10};b.o.Rj={xI:1,dJ:2,sI:4,KI:8,CI:16,fI:32};
e.prototype=$.extend({bR:function(a){this.height=a.height;this.width=a.width;this.sb=a.matrix;this.rotation=a.rotation;this.id=a.id;this.Ra=a.pageNum}},Object.create(b.Actions.ah.prototype));var k=null,m=null;b.o.zR=function(a){k=a};b.o.bH=function(a){m=a};b.o.FE=function(){return k||m};var n=6;b.o.pI=function(){return n};b.o.Cv=function(a){n=a;b.xl=524288*a*a;b.kv=524288*a*a;b.Dl=3*a;b.hI=50+30*a;b.o.La&&b.o.La.RG(a);switch(a){case 0:b.Dl=0;b.xl=0;b.kv=0;break;case 1:b.Dl=0,b.xl=0}};b.o.FA=function(a){b.Tt=
1+2*(a-1);b.Ut=a-1;0>b.Tt&&(b.Tt=0);0>b.Ut&&(b.Ut=0)};b.o.Cv(6);b.o.FA(5);g.Se=function(a,c,b,f,e,g,d){this.children=a;this.name=c;this.Vg=b;this.parent=f;this.Un=e||0;this.en=g||0;this.url=d};g.Se.prototype={fE:function(){return this.children},getName:function(){return this.name},uc:function(){return this.Vg},TN:function(){return this.url},getParent:function(){return this.parent},UN:function(){return this.Un},YM:function(){return this.en},isValid:function(){return!!this.url||_.isNumber(this.Vg)}};
g.Document=function(a,c){b.Actions.ah.call(this);this.Io=b.Annotations.O.tb.EL();_.isUndefined(c)||"xod"===c?this.v=new g.Df(a):"pdf"===c?this.v=new g.eh:"office"===c?this.v=new g.$q(a):"blackbox"===c&&(this.v=new g.$g(a));var f=this;this.v.ZQ(function(a){f.trigger(a.type,[a.data])});this.vJ=20;this.sn=[];this.Xz={}};g.Document.prototype={Oi:function(a){return this.v.Oi.apply(this.v,arguments)},BP:function(a){this.Io.NS(a)},wh:function(a){return this.v.wh.apply(this.v,arguments)},Rn:function(a){return this.v.Rn.apply(this.v,
arguments)},um:function(){return this.v.um.apply(this.v,arguments)},Fk:function(){return this.v.Fk.apply(this.v,arguments)},Sm:function(a){this.v.Sm.apply(this.v,arguments)},Um:function(){return this.v.Um.apply(this.v,arguments)},Hb:function(){return this.v.Hb.apply(this.v,arguments)},Vc:function(a){var c={};c.width=this.v.J[a].width;c.height=this.v.J[a].height;return c},it:function(a,c,b){return this.v.it.apply(this.v,arguments)},fy:function(a,c,b,f){return this.v.fy.apply(this.v,arguments)},wt:function(a,
c,b){return this.v.wt.apply(this.v,arguments)},ky:function(a,c,b){return this.v.ky.apply(this.v,arguments)},getMetadata:function(){return{title:this.v.Xd.title,creator:this.v.Xd.creator,subject:this.v.Xd.subject,keywords:this.v.Xd.keywords,created:this.v.Xd.created,modified:this.v.Xd.modified,description:this.v.Xd.description,producer:this.v.Xd.producer}},gj:function(){return this.v.gj.apply(this.v,arguments)},Nk:function(a){return this.v.Nk.apply(this.v,arguments)},hj:function(){return this.v.hj()},
$f:function(a,c,b){var f=this;return this.v.$f.call(this.v,a,function(a){for(var b=f.Jb(),e=b.length,g=f.Hg(),d=0;d<e;++d)b[d].uf(g);c(a);return f},b)},Pg:function(a,c,b,f,e,g){return this.v.Pg.apply(this.v,arguments)},Ny:function(a,c){return this.v.Ny.apply(this.v,arguments)},Dk:function(a){return this.v.Dk.apply(this.v,arguments)},Vp:function(a){return this.v.Vp.apply(this.v,arguments)},lj:function(a,c){return this.v.lj.apply(this.v,arguments)},nu:function(a){return this.v.nu.apply(this.v,arguments)},
Du:function(a){return this.v.Du.apply(this.v,arguments)},Vm:function(){return this.v.Vm.apply(this.v,arguments)},Kn:function(a){return this.v.Kn.apply(this.v,arguments)},Pn:function(a,c){return this.v.Pn.apply(this.v,arguments)},pd:function(){this.Io.Sc();return this.v.pd.apply(this.v,arguments)},nn:function(a,c){return this.v.nn.apply(this.v,arguments)},Pt:function(a,c){return this.v.Pt.apply(this.v,arguments)},kn:function(){return this.v.kn.apply(this.v,arguments)},Pi:function(a){return this.v.Pi.apply(this.v,
arguments)},vG:function(){var a=this.sn.shift();this.v.J[a].text=null;delete this.Xz[a]},kQ:function(){for(var a=this.sn.length-1;0<=a;--a)this.vG()},Gd:function(a,c){this.Xz[a]?this.sn.splice(this.sn.indexOf(a),1):(this.sn.length===this.vJ&&this.vG(),this.Xz[a]=!0);this.sn.push(a);return this.v.Gd.apply(this.v,arguments)},Sp:function(a){function c(a,b){return new Promise(function(c){a.Gd(b,function(){c()})})}var b=this;a=a.map(function(a){return c(b,a)});return Promise.all(a)},getFileData:function(a){return this.v.getFileData.apply(this.v,
arguments)},Wm:function(){return this.v.Wm?this.v.Wm.apply(this.v):null},tp:function(){return this.v.tp?this.v.tp.apply(this.v):null},jn:function(a,c,b){return this.v.jn.apply(this.v,arguments)},Wp:function(a,c){return this.v.Wp.apply(this.v,arguments)},xn:function(a){return this.v.xn.apply(this.v,arguments)},Hm:function(){return this.v.Hm.apply(this.v,arguments)},Bn:function(a,c){return this.v.Bn.apply(this.v,arguments)},Im:function(a,c){return this.v.Im.apply(this.v,arguments)},zm:function(a,c,
b,f,e){return this.v.zm.apply(this.v,arguments)},Qm:function(){return this.v.Qm.apply(this.v,arguments)},Ju:function(a){return this.v.Ju.apply(this.v,arguments)},Lu:function(a){return this.v.Lu.apply(this.v,arguments)},il:function(){return this.v.il.apply(this,arguments)},get numPages(){return this.v.J.length},md:function(a){return this.v.J[a].width},ld:function(a){return this.v.J[a].height},tc:function(a){return a>=this.Hb()?(console.warn("Attemping to get page matrix for page "+(a+1)+" that doesn't exist."),
null):this.v.J[a].sb},kt:function(a){return this.v.kt.apply(this.v,arguments)},Bp:function(){return this.v.Bp.apply(this.v,arguments)},Cp:function(a){return this.v.J[a].rotation},Wx:function(a){return this.v.J[a].text},tR:function(a,c){this.v.J[a].text=c},nN:function(a){return this.v.J[a].ns},DE:function(a){return this.v.J[a].links},Jb:function(){var a=this;this.v.J.forEach(function(c){c.uf(a.Hg())});return this.v.J},dc:function(){return this.v.dc},Ip:function(a,c,b){return this.v.Ip.apply(this.v,
arguments)},ll:function(a){this.v.ll.apply(this.v,arguments)},Jh:function(){return this.v.Jh},ol:function(a){this.v.ol.apply(this.v,arguments)},xj:function(){return this.v.xj.apply(this.v,arguments)},Ps:function(a){return this.v.Ps.apply(this.v,arguments)},$s:function(){return this.v.$s.apply(this.v,arguments)},Qs:function(a,c){return this.v.Qs.apply(this.v,arguments)}};$.extend(g.Document.prototype,Object.create(b.Actions.ah.prototype),b.utils.eventHandler);g.Lq=function(){throw Error("Cannot initialize BaseDocument");
};g.Lq.prototype={Ps:a,$s:a,Qs:a,Oi:a,wh:a,Rn:a,um:a,Fk:a,Sm:a,Um:a,Hb:a,Vc:a,xj:function(){return!1},ZQ:function(a){this.JD=a},Wi:function(a){this.JD&&this.JD(a)},it:function(a,c,b){c={x:c,y:b};return this.J[a].sb.inverse().aa(c)},fy:function(a,c,b,f){if(b<=c)return console.error("End index must be greater than start index");this.Gd(a,function(a){a=a.Ne();var e=8*c,g=8*b;if(e>a.length||g>a.length)return console.error("Index out of bounds");for(var d=[];e<g;e+=8)d.push({x1:a[e],y1:a[e+1],x2:a[e+2],
y2:a[e+3],x3:a[e+4],y3:a[e+5],x4:a[e+6],y4:a[e+7]});f(d)})},wt:a,ky:function(a,c,b){return this.J[a].sb.aa({x:c,y:b})},gj:a,Nk:a,hj:a,$f:a,Pg:a,Dk:a,Vp:a,Ny:function(a,c){this.Gd(a,function(a){c(a.Pa)})},lj:a,nu:a,Du:a,Kn:a,Pn:a,pd:a,nn:a,Pt:a,Pi:a,kn:function(){return!1},Ds:function(a,c){var f=this.J[a],e=(4-f.rotation/90)%4;0!==e&&(f=b.ud(1,e,f,{x:0,y:0},!1),c.SK(f))},Gd:a,Wm:function(){return null},getFileData:a,jn:a,xn:a,Bn:a,Hm:a,tq:a,Im:a,zm:a,ll:function(){},print:function(){},kt:function(a){return String(a)},
Bp:function(){return _.range(0,this.J.length).map(String)},Vm:a,Qm:a,Ju:a,Lu:a,ap:function(){for(var a=1,c=this.J.length,f=b.utils.getCanvasMultiplier(),f=f*f,e=0;e<c;++e)var g=this.J[e],a=Math.max(a,g.width*g.height*f);return Math.sqrt(8E6/a)},sm:function(a){return 0===a.m_b&&0===a.m_c?0<a.m_a?0:180:0>a.m_b?270:90},vs:function(a,c){var b=this.sm(a),f=c.w,e=c.Uf;if(90===b||270===b)var g=f,f=e,e=g;switch(b){case 0:return b=-a.m_h,g=a.m_v,{x1:b,y1:g-e,x2:g-e,y2:g};case 90:return g=-a.m_h,b=-a.m_v,{x1:b,
y1:g,x2:b+f,y2:g+e};case 180:return b=a.m_h,g=-a.m_v,{x1:b-f,y1:g,x2:b,y2:g+e};case 270:return g=a.m_h,b=a.m_v,{x1:b-f,y1:g-e,x2:b,y2:g}}return null},ol:function(a){this.Ya=a},sx:function(a,c){if(this.Ya){var b,f,e=this.J[c].width,g=this.J[c].height,d=a.getContext("2d");d.save();d.textAlign="center";d.textBaseline="top";var l=function(a){d.font=a.fontSize+"pt "+a.fontFamily;d.fillStyle=a.color;d.globalAlpha=a.opacity/100;f=1.5*a.fontSize},h=function(a){var c=[""],b=0;a.split(" ").forEach(function(a){a.split("\n").forEach(function(a,
f,g){a&&(d.measureText(c[b]+a).width>=e/3&&(c[++b]=""),c[b]+=a+" ");f<g.length-1&&(c[++b]="")})});return c};this.Ya.diagonal&&(d.save(),l.call(this,this.Ya.diagonal),d.translate(e/2,g/2),d.rotate(-Math.atan(g/e)),this.Ya.diagonal.text&&(b=this.Ya.diagonal.text.split("\n"),b.forEach(function(a,c){d.fillText(a,0,(c-b.length/2)*f)})),d.restore());if(this.Ya.header){d.save();l.call(this,this.Ya.header);var k=function(a){a.forEach(function(a,c){d.fillText(a,0,c*f)})};d.translate(e/6,0);this.Ya.header.left&&
k(h(this.Ya.header.left));d.translate(e/3,0);this.Ya.header.center&&k(h(this.Ya.header.center));d.translate(e/3,0);this.Ya.header.right&&k(h(this.Ya.header.right));d.restore()}this.Ya.footer&&(d.save(),l.call(this,this.Ya.footer),l=function(a){a.forEach(function(c,b){d.fillText(c,0,(b-a.length)*f)})},d.translate(e/6,g),this.Ya.footer.left&&l(h(this.Ya.footer.left)),d.translate(e/3,0),this.Ya.footer.center&&l(h(this.Ya.footer.center)),d.translate(e/3,0),this.Ya.footer.right&&l(h(this.Ya.footer.right)),
d.restore());this.Ya.custom&&(d.save(),this.Ya.custom(d,c,e,g),d.restore());d.restore()}},il:function(){return Promise.resolve()}};g.Df=function(a){this.Yl=this.bb=null;this.nm=new b.Ue.br;this.id=a;this.$t=!1;this.Re=null;this.Sd={};this.Uy=_.bind(this.Uy,this);this.Vs=null;this.ii=1;this.ce={};this.Ya=null;this.dc=Promise.resolve()};g.Df.prototype=Object.create(g.Lq.prototype);g.Df.prototype.constructor=g.Df;$.extend(g.Df.prototype,{Cf:"Document/FixedDocument.fdoc",lg:"Document/DocProps/core.xml",
Bf:"Document/Structure/DocStruct.struct",kI:"Struct/font.xml",xJ:"Struct/",wJ:"Text/",$f:function(a,c,f){this.bb=a;this.gf=[];this.Xd={};this.J=[];this.nd={};this.nd[this.Cf]=0;this.nd[this.lg]=0;this.nd[this.Bf]=0;this.bb.$h()&&(this.tj={});var e=this,g;g=f&&f.annotsLoadedCallback?f.annotsLoadedCallback:function(){};a.bind("partReady",this.Uy);this.bind("documentReady",function(a){1.2===e.ii?(e.LB(),c(a),g()):(e.Na.Kg("Annots.xfdf",function(a){a=a.data;var c="",f=0,d,l,h,k=-1;for(2<=a.length&&"{"===
a.charAt(0)&&"}"===a.charAt(1)&&(a=a.substr(2));f<a.length;)d=a.charCodeAt(f),128>d?(0>k&&(k=f),f++):(0<=k&&(c+=a.substring(k,f),k=-1),191<d&&224>d?(l=a.charCodeAt(f+1),c+=String.fromCharCode((d&31)<<6|l&63),f+=2):(l=a.charCodeAt(f+1),h=a.charCodeAt(f+2),c+=String.fromCharCode((d&15)<<12|(l&63)<<6|h&63),f+=3));0===k?c=a:0<=k&&(c+=a.substring(k,f));a=c;e.J[0].ns=a;c=b.Annotations.ba.xt(a);e.kK(c);g(a,c)}),e.LB(),c(a))});a instanceof b.o.V.xo?(this.$t=!0,this.Nk(function(){a.db=e.Re;a.hl(c)})):a.hl(c)},
Pt:function(a,c,f){var e=this;if(!this.Na)throw Error("Document is not initialized!");1.2===this.ii&&(this.Na.bu=!0);this.Na.Vx(a,c,function(c,g){var d=e.J[a],l=null;g&&(l=new b.Ue.hJ(d,g,e.nm));f(c,l)})},nn:function(a,c){if(!this.Na)throw Error("Document is not initialized!");return this.Na.Kg(a,c)},gP:function(a){var c=this;null===c.Vs?c.nn(c.kI,function(b){if(b.error)throw Error("SELECT: Error getting part "+b.oa+": "+b.error);var f=new XODText.tv;f.mz(b.data);c.Vs=f.Ex;a(c.Vs)}):a(c.Vs)},Gd:function(a,
c){var b=this;null!==b.J[a].text?c(b.J[a].text):a in b.ce?b.ce[a].push(c):(b.ce[a]=[c],1.4>b.ii?b.nn(b.wJ+(a+1)+".xml",function(c){if(c.error)throw Error("SELECT: Error getting part "+c.oa+": "+c.error);var f=new XODTextOld.We;f.zO(c.data);c=new XODText.We;c.mu(f);b.Ds(a,c);b.J[a].text=c;b.ce[a].forEach(function(a){a(f)});delete b.ce[a]}):b.gP(function(c){b.nn(b.xJ+(a+1)+".xml",function(f){var e=new XODText.We,g=new XODText.Da;g.Oa(1,0,0,1,0,0);var d=new XODText.Ql(c);b.Na.BE(a,function(c){function l(){return c.bq().then(function(){if(!c.run(d,
g))return l()})}l().then(function(){e.mz(f.data,d);b.Ds(a,e);b.J[a].text=e;b.ce[a].forEach(function(a){a(e)});delete b.ce[a]})["catch"](function(a){console.warn("Custom Canvas has encountered an error: "+a.message)})})})}))},kn:function(){return 1.2>=this.ii},gj:function(){return this.cn||0<this.Zp},Pg:function(a,b,f,e,g,d){var l=this,h=c(a,b,f,e,g,d),k=_.uniqueId();l.Sd[k]={mj:null,paused:!1,Mb:h.pageIndex};l.Pt(h.pageIndex,k,function(a,c){if(a)throw Error("Error loading page "+h.pageIndex+": "+
a);_.isUndefined(l.Sd[k])||(l.Sd[k].mj=c,l.Sd[k].paused&&c.pause(),h.finishedLoading(a,c)&&c.zF(function(){h.resourcesLoaded()&&c.xL(h.getZoom(),h.getPageRotation(),function(a){h.drawComplete(a,h.pageIndex)},function(a){l.sx(a,h.pageIndex);h.drawProgressive(a,h.pageIndex)},h.canvasNum,h.getPageTransform(),h.renderRect,h.useProgress,h.pageCanvas)},void 0,h.acquireResources()))});return k},nu:function(a){if(a=this.Sd[a])a.paused=!0,a.mj&&a.mj.pause()},Du:function(a){if(a=this.Sd[a])a.paused=!1,a.mj&&
a.mj.resume&&a.mj.resume()},Rn:function(a){this.wh(a)},wh:function(a){var c=this.Sd[a];c&&(this.xs(c.Mb,a),c=c.mj)&&(c.pd(),c.abort&&c.abort());this.Pi(a)},Pi:function(a){delete this.Sd[a]},aD:function(){return"t"+_.uniqueId()},UO:function(a){return _.isString(a)&&0<a.length&&"t"===a[0]},lj:function(a,c){if(!this.Na)throw Error("Document is not initialized!");var f=this,e;if(this.cn||this.Zp>a)e=f.aD(),this.Na.hy(a,e,function(a){var e=new Image,g;g=a.data;h&&f.bb instanceof h?g=f.bb.path+g:(a=a.oa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase(),
g=b.o.sE(a,g));e.onload=function(){e.src.startsWith("data")||URL.revokeObjectURL(e.src);c(e);e=e.onload=null};e.src=g},name);else{var g=this.J[a];e=this.Pg({pageIndex:a,zoom:g.width>g.height?150/g.width:150/g.height,drawComplete:function(a){a.style.backgroundColor="white";f.Rn(e);c(a)},pageCanvas:!0})}return e},Nk:function(a){if(null===this.Re){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=b.top.location.href;for(var c=b.top.location.hash.substring(1).split("&"),f=0;f<c.length;f++){var e=
c[f].split("=");if("d"===e[0]){this.id=e[1];break}}}var g=this;this.Re=new b.o.RI(this.id);this.Re.open(a,function(a){g.Re=null;console.error(a)})}else console.warn("Offline DB is already initialized!"),a()},Pn:function(a,c){function f(a){e.bb.Mw(a)}if(!this.Na)throw a(),Error("Document is not initialized!");if(!this.Re)throw a(),Error("Offline DB is not initialized!");if(this.bb instanceof b.o.V.xo)throw a(),Error("Can't download file while in offline mode!");var e=this;e.bb.Yx(function(b){e.Re.eS(e.Na,
b,!!e.bb.decrypt,a,c,f)})},hj:function(){if(!this.Re)throw Error("Offline DB is not initialized!");return this.Re.hj()},um:function(){if(!this.Re)throw Error("Offline DB is not initialized!");this.Re.iL()},Um:function(){return this.$t},Kn:function(a){if(!this.Re)throw Error("Offline DB is not initialized!");this.$t!==a&&(!(this.$t=a)||this.Yl instanceof b.o.V.xo||(this.Yl=new b.o.V.xo(this.Re,this.bb.decrypt,this.bb.wk),this.Yl.bind("partReady",this.Na.eu)),this.Vz())},Vz:function(){if(null!==this.Yl){var a=
this.Yl;this.Yl=this.bb;this.bb=a;this.Na.Ld=this.bb}},xs:function(a,c){if(!this.Na)throw Error("Document is not initialized!");this.Na.bp(a,c)},Oi:function(a){this.UO(a)?this.Na.jL(a):this.wh(a)},Uy:function(a){if(a.error)return this.nd[a.oa]=3,this.jB();var c;c=this.bb.decrypt?this.bb.fD?this.bb.decrypt(a.data,this.bb.wk,a.oa):b.o.bh.kD(a.data,this.bb.wk,a.oa):a.data;c=b.aj(c);this.bb.$h()&&(this.tj[a.oa]={data:c,xb:a.xb},this.bb.decrypt&&(this.tj[a.oa].mM=a.data));a.xb&&(c=l.inflate(c));switch(a.oa){case this.Cf:c=
new b.Xe(c);c.ma();c.advance();a=c.K("JPGThumbs");this.Hy="true"===a;a=c.K("IncludesThumbs");this.cn=null===a||"false"!==a;!this.cn&&(a=c.K("NumLeadingThumbs"))&&(a=parseInt(a,10),a=isNaN(a)?0:a,this.Zp=Math.max(a,0));a=c.K("Version");this.ii=parseFloat(a);if(1.2>this.ii)throw this.nd[this.Cf]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");if(1.4<this.ii)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");
for(a=this.nd[this.Cf]=1;c.advance();++a){var f=new b.qo(parseFloat(c.K("Width")),parseFloat(c.K("Height")));f.oq=["Pages/"+a+".xaml","Annot/"+a+".xml","Pages/_rels/"+a+".xaml.rels"];this.J.push(f)}this.cn&&(this.Zp=this.J.length);this.Up=this.ap();break;case this.lg:this.nd[this.lg]=1;c=new b.Xe(c);c.ma();for(this.Xd={};c.advance();)a=c.ta().split(":"),this.Xd[1===a.length?a[0]:a[1]]=c.current.textContent;break;case this.Bf:this.nd[this.Bf]=1;this.gf=[];c=new b.Xe(c);c.ma();c.advance();c.ma();c.advance();
c.ma();for(var e=0,g=null;c.advance();){var f=parseInt(c.K("OutlineLevel"),10),d=new b.CoreControls.Bookmark;d.children=[];d.name=a.xb?b.utils.utf8_decode(c.K("Description")):c.K("Description");if(e<f)d.parent=g;else for(d.parent=g.parent;e>f;)d.parent=d.parent.parent,--e;d.Un=c.K("trn:Vpos");d.Un=null===d.Un?0:parseFloat(d.Un);d.en=c.K("trn:Hpos");d.en=null===d.en?0:parseFloat(d.en);e=c.K("OutlineTarget").split("#");1===e.length||0===e[1].length?d.url=e[0]:d.Vg=parseInt(e[1],10);null!==d.parent?
d.parent.children[d.parent.children.length]=d:this.gf[this.gf.length]=d;e=f;g=d}break;default:if(this.nd[this.Cf])return this.nd[this.lg]=this.nd[this.lg]||2,this.nd[this.Bf]=this.nd[this.Bf]||2,this.oB(a)}this.jB()},Fk:function(){return Promise.resolve(this.gf)},Sm:function(a){return 1.2===this.ii?this.J[a].ns:this.J[a].links},Hb:function(){return this.J.length},Vc:function(a){var c={};c.width=this.J[a].width;c.height=this.J[a].height;return c},it:function(a,c,b){c={x:c,y:b};return this.J[a].sb.inverse().aa(c)},
wt:function(a,c,b){return this.J[a].sb.aa({x:c,y:b})},pd:function(){if(document.fonts)for(var a in b.mi)b.mi[a].remove();b.ci={};b.mi={};a=b.dh.FontFace.prototype.Uz;null!==a&&(document.head.removeChild(a),b.dh.FontFace.prototype.styleSheet=null,b.dh.FontFace.prototype.Uz=null);this.nm=new b.Ue.br;this.bb instanceof b.o.V.IA&&this.bb.abort();this.sr()},sr:function(){this.bb.unbind("partReady");this.Na=new b.o.V.MI(this.bb,this.J,this.nm);this.Na.Hy=this.Hy},jB:function(){this.nd[this.Cf]&&this.nd[this.lg]&&
this.nd[this.Bf]&&this.oB()},oB:function(a){this.sr();if(this.bb.$h()){for(var c in this.tj)this.Na.cache.setItem(c,this.tj[c].data,this.tj[c].xb),this.bb.decrypt&&this.Na.Ak.setItem(c,this.tj[c].mM,this.tj[c].xb);delete this.tj}this.trigger("documentReady",3===this.nd[this.Cf]);a&&this.bb.trigger("partReady",a)},LB:function(){var a=new XODText.Da;a.Oa(4/3,0,0,-4/3,0,this.J[0].height);for(var c=this.J.length,b=0;b<c;++b)this.J[b].sb=a,this.J[b].rotation=0},kK:function(a){for(var c=this.J.length,b=
0;b<c;++b)this.J[b].sb=null;if(a&&a.querySelector("xfdf > pages")){a=a.querySelector("xfdf > pages");for(var f,e,g,b=0;b<a.childNodes.length;++b){var d=a.childNodes[b].localName;if(d&&(g=a.childNodes[b],"defmtx"===d&&(e=g.getAttribute("matrix").split(","),f=new XODText.Da,f.Oa(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])),e=this.sm(f)),"pgmtx"===d)){d=parseInt(g.getAttribute("page"),10);g=g.getAttribute("matrix").split(",");var l=new XODText.Da;
l.Oa(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3]),parseFloat(g[4]),parseFloat(g[5]));var h=this.sm(l);g=this.vs(l,{w:this.J[d].width,Uf:this.J[d].height});this.J[d].rotation=h;l.Oa(4/3,0,0,-4/3,-g.x1,g.y2);this.J[d].sb=l}}for(b=0;b<c;++b)null===this.J[b].sb&&(a=new XODText.Da,g=this.vs(f,{w:this.J[b].width,Uf:this.J[b].height}),a.Oa(4/3,0,0,-4/3,-g.x1,g.y2),this.J[b].sb=a,this.J[b].rotation=e)}}});g.eh=function(){this.gf=[];this.Xd={};this.J=[];this.ju={};this.cn=!1;this.Zp=
0;this.Kh={};this.ce={};this.Ba=null;this.UF=2;this.QG=!1;this.Zd=[];this.Ya=null};g.eh.prototype=Object.create(g.Lq.prototype);g.eh.prototype.constructor=g.eh;$.extend(g.eh.prototype,{jv:function(a){var c=new b.qo(a.width,a.height);c.sb=new XODText.Da;a=a.matrix;c.sb.Oa(a[0],a[1],a[2],a[3],a[4],a[5]);a=this.sm(c.sb);c.sb=this.uz({w:c.width,Uf:c.height});c.rotation=a;return c},uz:function(a,c){var b=new XODText.Da;b.Oa.apply(b,a);var f=this.vs(b,c);b.Oa(1,0,0,-1,-f.x1,f.y2);return b},PD:function(a,
c,b){this.IP||this.CC({pageDimensions:a});this.Up=this.ap();b&&(this.Jh||this.ya.uF(this.Ba).then(function(a){b(a.xfdfString)})["catch"](function(a){console.warn(a);b(null)}));this.Jh||this.trigger("documentComplete");c()},iN:function(a){var c=createPromiseCapability(),b=new XMLHttpRequest;b.open("GET",a.url);if(a=a.customHeaders)for(var f in a)b.setRequestHeader(f,a[f]);b.setRequestHeader("Range","bytes=1-150");b.responseType="arraybuffer";b.onreadystatechange=function(){if(this.readyState===this.DONE){var a=
b.response.byteLength;206!==b.status&&200!==b.status?c.reject({message:"Received http error code "+b.status}):150!==a&&c.reject({message:"Byte ranges are not supported by the server.",data:new Uint8Array(b.response)});var a=new Uint8Array(b.response),f=[76,105,110,101,97,114,105,122,101,100],e=b.getResponseHeader("Content-Range")||b.getResponseHeader("content-range");if(e){var e=e.split("/")[1],g=0;do{a:{for(var d=a.length;g<d;++g)if(a[g]===f[0])break a;g=-1}g+=1;for(d=1;10>d;++d)if(a[g]===f[d])++g;
else break;if(10===d){c.resolve(parseInt(e,10));return}}while(0!==g);c.reject({message:"The file is not linearized."})}else c.reject({message:"Could not retrieve Content-Range header."})}};b.onerror=function(){c.reject({message:"Network or Cross Domain Access Error."})};b.send();return c.promise},$f:function(a,c,f){function e(a){H.gf=[];H.Xd={};H.J=[];H.cn=!1;H.Zp=0;H.Jh=!1;H.bind("documentReady",c);var b,f;G.then(function(c){H.ya=c;c="object"===typeof a&&"url"in a;var e;if(e=J){e=J;var g=Object.prototype.toString.call(e);
e="object"===typeof e&&null!==e&&("[object File]"===g||"[object Blob]"===g)}e&&H.ya&&"ems"===H.ya.getWorkerType()?(b="file",f=J):c?(b="url",f=a,H.Jh=!0):"string"===typeof a?(b="filepath",f=a):"object"===typeof a&&null!==a&&void 0!==a.byteLength?(b="array",f=a.buffer):"object"===typeof a&&"type"in a&&"id"===a.type?(b="id",f=a.id):console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");k({type:b,value:f,extension:E,defaultPageSize:F,pageSizes:B})})}function g(a,
c){console.warn("Could not use incremental download for url "+a+". Reason: "+c)}function d(a){M=a;H.ya.FS(H.Ba,a).then(function(a){a.success?h(a.pageDimensions):n(d)})}function l(){H.dc=new Promise(function(a){H.bind("documentComplete",function(){H.unbind("documentComplete");a()})});H.ya.addEventListener(H.Ba,function(a){H.aQ(a)})}function h(b){H.Jh?H.ya.KO(H.Ba).then(function(f){f?H.PD(b,c,m):(g(J.url,"Linearization data is invalid."),H.pd(),a.getFileData(e))}):H.PD(b,c,m)}function k(a){H.ya.rM(a).then(function(a){H.Ba=
a.docId;l();h(a.pageDimensions)},function(a){"NeedsPassword"===a.type&&n?(H.Ba=a.docId,l(),M?d(M):n(d)):(H.dc=Promise.reject(a),c(a))})}var m=f.annotsLoadedCallback,n=f.getPassword,E=f.extension,F=f.defaultPageSize,B=f.pageSizes,G=f.workerTransportPromise,H=this,J=a.getFile();b.utils.isJSWorker&&b.jsworker?(J=b.jsworker.worker.getPlatformFormatFilePath(J),e(J)):J&&J.url?this.iN(J).then(function(a){J.size=a;e(J)},function(c){g(J.url,c.message);c.data?e(c.data):a.getFileData(e)}):J&&!b.utils.isChrome?
e(J):a.getFileData(e);var M=null},CC:function(a){var c=this;c.IP=!0;a=a.pageDimensions;for(var b=Object.keys(a),f=this.J,g=Array(f.length),d=0;d<f.length;++d){var l=f[d];l.text&&(g[d]=l.text)}this.J.length=0;var h=this.ju,k=[],m={};b.forEach(function(b){var d=a[b],l=!!d.contentChanged,d={width:d.width,height:d.height,matrix:c.uz(d.matrix,{w:d.width,Uf:d.height}),rotation:90*d.rotation,id:d.id,pageNum:b,contentChanged:l};h[d.id]&&k.push({before:h[d.id],after:d});h[d.id]=new e(d.width,d.height);var n=
h[d.id];n.bR(d);!l&&(l=g[b-1])&&(n.text=l);f[b-1]=n;m[d.id]=!0});this.Up=this.ap();Object.keys(h).forEach(function(a){a in m||delete h[a]});return k},aQ:function(a){switch(a.type){case "pagesUpdated":a=this.CC(a.data);this.Wi({type:"pagesDiff",data:a});this.Wi({type:"pagesUpdated",data:a.map(function(a){return a.after})});break;case "bookmarksUpdated":this.Wi({type:"bookmarksUpdated",data:a.data});break;case "documentComplete":this.trigger("documentComplete");this.Wi({type:"documentComplete",data:a.data});
break;default:console.warn("Unknown event type: ",a.type)}},Fk:function(){function a(c){var b=[];c.children.forEach(function(c){b.push(a(c))});return new g.Se(b,c.name,c.pageNumber,c.parent,c.verticalOffset,c.horizontalOffset,c.url)}return this.ya.dP(this.Ba).then(function(c){var b=[];c.bookmarks.forEach(function(c){b.push(a(c))});return b})},Gd:function(a,c){var b=this;null!==b.J[a].text?c(b.J[a].text):a in b.ce?b.ce[a].push(c):(this.il(a+1).then(function(){b.ya.Gd(b.Ba,a).then(function(c){var f=
new XODText.We;f.mu({Va:c.struct,Pa:c.str,Vb:c.offsets,Aa:c.quads,hc:!0});b.Ds(a,f);b.J[a].text=f;b.ce[a].forEach(function(a){a(f)});delete b.ce[a]},function(a){console.warn("Text generation failed: "+(a&&a.message?a.message:a))})}),b.ce[a]=[c])},Dk:function(a){return this.ya.uF(this.Ba,a)},Vp:function(a){return this.ya.Vp(this.Ba,a)},getFileData:function(a){var c=this;a=a||{};"finishedWithDocument"in a||(a.finishedWithDocument=!1);"printDocument"in a||(a.printDocument=!1);a.docId=c.Ba;return"filePath"in
a?c.dc.then(function(){return c.ya.KQ(a)}):c.dc.then(function(){return c.ya.JQ(a)}).then(function(a){return a.fileData})},Hb:function(){return this.J.length},ZE:function(a,c,f,e,g,d,l,h){var k=this,m=b.o.zl===b.o.zl.ir;if(m){c=b.innerWidth;f=b.innerHeight;var n=b.utils.getCanvasMultiplier(),E={x:l.x,y:l.y};b.ud(e.iu,e.hu,{x1:e.page.x1,x2:e.page.x2,y1:e.page.y1,y2:e.page.y2,width:e.page.width,height:e.page.height},E,!0,n);E.x=E?Math.round(E.x):0;E.y=E?Math.round(E.y):0;n=b.o.La.Ug;b.o.La.No(n,c,f);
var F=E.x>=n.width/2;console.log("imagePathReceived for: "+a);console.log("tCanvas.width: "+n.width);console.log("translation.x: "+E.x);console.log("isRightPage: "+F);"undefined"===typeof k.Qp&&(k.Qp=!1);if(F&&!k.Qp){k.qx=function(){var c=b.o.La.Mn(e.page,e.iu,e.hu,l,d,h).canvas,f=l?Math.round(l.x):0,k=l?Math.round(l.y):0;console.log("Drawing: "+a);var m=new Image;$(m).css("width",e.XF);$(m).css("height",e.VF);var q=a;0!==q.indexOf("file://")&&(q="file://"+q);m.onload=function(){var a=c.getContext("2d");
a.setTransform(1,0,0,1,0,0);a.drawImage(m,f,k);g||$(c).addClass("progressive");e.px(c);g&&e.ox(c);m=null;b.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+q),b.jsworker.worker.deleteGeneratedImageRenderFile(q))};m.src=q};return}}var B=b.o.La.Mn(e.page,e.iu,e.hu,l,d,e.ue,h).canvas,G=l?Math.round(l.x):0,H=l?Math.round(l.y):0;console.log("Drawing: "+a);var J=new Image;$(J).css("width",e.XF);$(J).css("height",e.VF);var M=a;0!==M.indexOf("file://")&&(M="file://"+M);J.onload=function(){var a=
B.getContext("2d");a.setTransform(1,0,0,1,0,0);a.drawImage(J,G,H);g||$(B).addClass("progressive");e.px(B);g&&e.ox(B);J=null;b.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+M),b.jsworker.worker.deleteGeneratedImageRenderFile(M));m&&(F?k.Qp=!1:(k.Qp=!0,"function"===typeof k.qx&&(k.qx(),k.qx=void 0,k.Qp=!1)))};J.src=M},SO:function(a){if("Alpha"===a.name)return!0;for(var c=0;c<this.Zd.length;++c)if(this.Zd[c].name===a.name)return this.Zd[c].enabled;c=Array(3);this.BH(a.color,
c);a={color:a.color,name:a.name,rgb:c,enabled:!0};this.Zd.push(a);this.Wi({type:"colorSeparationAdded",data:a});return!0},sa:function(a,c){var b=a*c+128;return(b>>8)+b>>8},ib:function(a,c,b){a=a*c+128;a=((a>>8)+a>>8)+b;return 255>a?a:255},BH:function(a,c){var b=a[0],f=a[1],e=a[2],g=a[3],d=255-b,l=255-f,h=255-e,k=255-g,m=this.sa(this.sa(this.sa(d,l),h),k),n=m,F=m,B=m,m=this.sa(this.sa(this.sa(d,l),h),g),n=this.ib(35,m,n),F=this.ib(31,m,F),B=this.ib(32,m,B),m=this.sa(this.sa(this.sa(d,l),e),k),n=this.ib(255,
m,n),F=this.ib(242,m,F),m=this.sa(this.sa(this.sa(d,l),e),g),n=this.ib(28,m,n),F=this.ib(26,m,F),m=this.sa(this.sa(this.sa(d,f),h),k),n=this.ib(236,m,n),B=this.ib(140,m,B),m=this.sa(this.sa(this.sa(d,f),h),g),n=this.ib(36,m,n),m=this.sa(this.sa(this.sa(d,f),e),k),n=this.ib(237,m,n),F=this.ib(28,m,F),B=this.ib(36,m,B),m=this.sa(this.sa(this.sa(d,f),e),g),n=this.ib(34,m,n),m=this.sa(this.sa(this.sa(b,l),h),k),F=this.ib(173,m,F),B=this.ib(239,m,B),m=this.sa(this.sa(this.sa(b,l),h),g),F=this.ib(15,m,
F),B=this.ib(36,m,B),m=this.sa(this.sa(this.sa(b,l),e),k),F=this.ib(166,m,F),B=this.ib(80,m,B),m=this.sa(this.sa(this.sa(b,l),e),g),F=this.ib(19,m,F),m=this.sa(this.sa(this.sa(b,f),h),k),n=this.ib(46,m,n),F=this.ib(49,m,F),B=this.ib(146,m,B),m=this.sa(this.sa(this.sa(b,f),h),g),B=this.ib(2,m,B),m=this.sa(this.sa(this.sa(b,f),e),k);c[0]=this.ib(54,m,n);c[1]=this.ib(54,m,F);c[2]=this.ib(57,m,B)},aL:function(a,c,b,f){for(var e=this,g=a.length-1;0<=g;--g)this.SO(a[g])||a.splice(g,1);return function(a,
c,b){return new Promise(function(g){function d(){for(var a=Math.min(O+u,b);O<a;++O)for(var z=O*c,Q=4*z,T=0;T<c;++T){w[0]=0;w[1]=0;w[2]=0;for(n=w[3]=0;n<q;++n){var N=w,ca=k[n],S=h[n][z+T];N[0]=Math.min(e.sa(ca[0],S)+N[0],255);N[1]=Math.min(e.sa(ca[1],S)+N[1],255);N[2]=Math.min(e.sa(ca[2],S)+N[2],255);N[3]=Math.min(e.sa(ca[3],S)+N[3],255)}e.BH(w,p);N=Q+4*T;m[N]=p[0];m[N+1]=p[1];m[N+2]=p[2];m[N+3]=l[z+T]}O<b?(a=setImmediate(d),f&&(e.Kh[f.id]=a)):g(m)}for(var l,h=[],k=[],m=new Uint8ClampedArray(c*b*4),
q=0,n=0;n<a.length;++n)"Alpha"!==a[n].name?(k.push(a[n].color),h.push(new Uint8Array(a[n].data)),++q):l=new Uint8Array(a[n].data);var p=Array(3),w=[0,0,0,0],u=Math.ceil(1E5/c),O=0;d()})}(a,c,b)},KC:function(a,c,f,e,g,d,l,h){function k(d){function l(){g||$(n).addClass("progressive");m.sx(n,e.page.Ra-1);e.px(n);g&&e.ox(n,{data:a,width:c,height:f});g&&delete m.Kh[e.id]}if(b.utils.supportsImageDataConstructor){var h=new b.ImageData(d,c,f);B.putImageData(h,E,F,0,0,c,f);l()}else{var w=Math.ceil(1E6/c),
z=f,D=B.createImageData(c,Math.min(w,f)),A=0,L=function(){var a=Math.min(w,z),b=f-z,h=a*c*4;D.data.set(d.subarray(A,A+h));A+=h;B.putImageData(D,E,F+b,0,0,c,a);z-=a;0===z?l():(a=setImmediate(L),g&&(m.Kh[e.id]=a))};L()}}var m=this,n=b.o.La.Mn(e.page,e.iu,e.hu,l,d,e.ue,h).canvas,E=l&&0<l.x?Math.round(l.x):0,F=l&&0<l.y?Math.round(l.y):0,B=n.getContext("2d");a.length?this.aL(a,c,f,g?e:null).then(k):k(new Uint8ClampedArray(a))},Pg:function(a,f,e,g,d,l){var h=this,k=c(a,f,e,g,d,l),m=k.pageIndex;a=k.getZoom();
e=k.getPageRotation();f=k.renderRect;d=e===b.o.Qa.Le||e===b.o.Qa.Nf;var n=b.utils.getCanvasMultiplier(),y=k.getPageTransform();"undefined"===typeof f?(g=(d?h.J[m].height:h.J[m].width)*a,d=(d?h.J[m].width:h.J[m].height)*a):(g=(d?f.y2-f.y1:f.x2-f.x1)*a,d=(d?f.x2-f.x1:f.y2-f.y1)*a);g=Math.round(g);d=Math.round(d);var E=Math.floor(g*n),F=Math.floor(d*n);if(!E||!F)return e=h.ya.Ap(),this.Kh[e]=setImmediate(function(){var a=document.createElement("canvas");a.width=E||1;a.height=F||1;k.drawComplete(a)}),
e;var B,n=h.QG?b.o.oo.iJ:h.UF;b.utils.isJSWorker&&b.jsworker.worker.useFilePathForImageRenders()?(B=b.jsworker.worker.generateImageRenderFilePath(m),B=b.jsworker.worker.getPlatformFormatFilePath(B),console.log("imageRenderFilePath for page "+m+' is: "'+B+'".'),n=h.ya.KM(h.Ba,m,E,F,e,h.Jy,n,f,B)):n=h.ya.JM(h.Ba,m,E,F,e,h.Jy,n,f);var G=n.fL,H={px:k.drawProgressive,ox:function(a,c){k.drawComplete(a,m,c)},XF:g,VF:d,iu:a,hu:e,page:h.J[m],ue:f,id:G},J=1,M;k.useProgress&&(M=setInterval(function(){var a;
b.utils.isJSWorker&&b.jsworker.worker.useFilePathForImageRenders?(a=b.jsworker.worker.generateNextImageRenderFilePath(B,J++),a=b.jsworker.worker.getPlatformFormatFilePath(a),a=h.ya.eE(G,a)):a=h.ya.eE(G);a.then(function(a){"undefined"!==typeof a.filePath?h.ZE(a.filePath,a.pageWidth,a.pageHeight,H,!1,l,y,k.pageCanvas):h.KC(a.pageBuf,a.pageWidth,a.pageHeight,H,!1,l,y,k.pageCanvas)},function(a){"type"in a&&"Queued"===a.type||clearInterval(M)})},b.o.FE()));n.promise.then(function(a){clearInterval(M);"undefined"!==
typeof a.filePath?h.ZE(a.filePath,a.pageWidth,a.pageHeight,H,!0,l,y,k.pageCanvas):h.KC(a.pageBuf,a.pageWidth,a.pageHeight,H,!0,l,y,k.pageCanvas)},function(a){clearInterval(M);k.onError(a)});return G},Pi:function(){},pd:function(){this.Ba&&(this.ya.oL(this.Ba),this.ya.hx(this.Ba),this.Ba=null)},Ip:function(a,c,b){var f=this;return this.dc.then(function(){return f.ya.Ip(f.Ba,a,c||612,b||792)})},jn:function(a,c,b){var f=this;a instanceof g.Document&&(a=a.v.Ba);return this.dc.then(function(){return f.ya.jn(f.Ba,
a,c,b,!0)})},Wp:function(a,c){var b=this;return this.dc.then(function(){return b.ya.Wp(b.Ba,a,c)})},xn:function(a){var c=this;a.sort(d);return this.dc.then(function(){return c.ya.xn(c.Ba,a)})},Hm:function(){return this.ya.Hm(this.Ba,this.Jy)},Bn:function(a,c){var b=this;a.sort(d);return this.dc.then(function(){return b.ya.Bn(b.Ba,a,c)})},Im:function(a,c){var b=this;return this.dc.then(function(){return b.ya.Im(b.Ba,a,c).then(function(a){return a.fileData})})},zm:function(a,c,b,f,e){var g=this;a.sort(d);
return this.dc.then(function(){return g.ya.zm(g.Ba,a,c,b,f,e)})},kt:function(a){return this.J[a].id},Bp:function(){return Object.keys(this.ju)},Vm:function(){var a=this;if("undefined"===typeof b.PDFNet)throw Error("getPDFDoc called without PDFNet being loaded. Are you running a lean version of PDFNetJS?");return a.ya.Vm(a.Ba).then(function(c){c=new b.PDFNet.PDFDoc(c);c.documentCompletePromise=a.dc;return c})},Qm:function(){return this.ya.Qm(this.Ba).then(function(a){return a})},Ju:function(a){this.Jy=
a},Lu:function(a){this.UF=a},il:function(a){if(1!==arguments.length)throw new RangeError(arguments.length+" arguments passed into function 'requirePage'. Expected 1 argument. Function Signature: requirePage(number)");if(a instanceof Promise)throw new TypeError("Received a Promise object in 1st input argument 'requirePage'. Promises require a 'yield' statement before being accessed.");if("number"!==typeof a)throw new TypeError("1st input argument '"+a+"' in function 'requirePage' is of type '"+typeof a+
"'. Expected type 'number'. Function Signature: requirePage(number).");if(0>=a)throw Error("1st input argument '"+a+"' in function 'requirePage' is invalid. Expected number between 1 and number of pages in the document.");return this.Jh?this.ya.il(this.Ba,a):Promise.resolve()},lj:function(a,c,f){var e="page"===f;f=this.J[a];var g=b.utils.getCanvasMultiplier(),e=e?2E3:150*g,d=f.width>f.height?e/f.width:e/f.height,d=d/g;return this.Pg({pageIndex:a,getZoom:function(){return d},getPageRotation:function(){return b.o.Qa.Dh},
drawComplete:function(a){c(a)},drawProgressive:function(){},useProgress:!1,pageCanvas:!0})},Oi:f,wh:f,gj:function(){return!1},ll:function(a){this.Jh&&this.ya.ll(this.Ba,a)},Ps:function(a){this.QG=a},$s:function(){return this.Zd},Qs:function(a,c){for(var b=0;b<this.Zd.length;++b)if(this.Zd[b].name===a){this.Zd[b].enabled=c;break}}});_(g.Lq.prototype).extend(Backbone.Events);b.qo=e})(window);
(function(b){b.Annotations=b.Annotations||{};var d=b.Annotations;d.Color=function(b,c,a,f){this.A=this.B=this.G=this.R=0;b instanceof d.Color?(this.R=b.R,this.G=b.G,this.B=b.B,this.A=b.A):_.isArray(b)?1===b.length?(this.B=this.G=this.R=b=Math.round(255*(b[0]||0)),this.A=1):3===b.length?(this.R=Math.round(255*(b[0]||0)),this.G=Math.round(255*(b[1]||0)),this.B=Math.round(255*(b[2]||0)),this.A=1):4===b.length&&(c=b[1]||0,a=b[2]||0,f=b[3]||0,this.R=Math.round(255*(1-(b[0]||0))*(1-f)),this.G=Math.round(255*
(1-c)*(1-f)),this.B=Math.round(255*(1-a)*(1-f)),this.A=1):_.isString(b)&&"#"===b[0]?(b=d.ba.Ti(b),this.R=b.R,this.G=b.G,this.B=b.B,this.A=1):(_.isUndefined(b)||(this.R=Number(b)),_.isUndefined(c)||(this.G=Number(c)),_.isUndefined(a)||(this.B=Number(a)),_.isUndefined(f)?_.isUndefined(b)&&_.isUndefined(c)&&_.isUndefined(a)||(this.A=1):this.A=Number(f))};d.Color.prototype={toString:function(){var b=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+b+")":"rgba("+b+","+this.A+")"},
toHexString:function(){return d.ba.bg(this)},pS:function(){return d.ba.toFixed(this.R/255,3)+" "+d.ba.toFixed(this.G/255,3)+" "+d.ba.toFixed(this.B/255,3)+" rg"},Pk:function(){return 0===this.R&&0===this.G&&0===this.B&&1===this.A},nF:function(){return 0===this.A}};d.Point=function(b,c){this.x=b;this.y=c;"string"===typeof b&&(this.x=parseFloat(b));"string"===typeof c&&(this.y=parseFloat(c))};d.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};d.ab=function(b,c,a,f,g,
d,h,k){this.x1=b;this.y1=c;this.x2=a;this.y2=f;this.x3=g;this.y3=d;this.x4=h;this.y4=k};d.ab.prototype={normalize:function(){},Hx:function(){var b=[];b.push(this.x1);b.push(this.y1);b.push(this.x2);b.push(this.y2);b.push(this.x3);b.push(this.y3);b.push(this.x4);b.push(this.y4);return b}};d.Rect=function(b,c,a,f){b instanceof d.Rect?(this.x1=b.x1,this.y1=b.y1,this.x2=b.x2,this.y2=b.y2):_.isArray(b)?(this.x1=b[0],this.y1=b[1],this.x2=b[2],this.y2=b[3]):_.isObject(b)?(this.x1=b.x1,this.y1=b.y1,this.x2=
b.x2,this.y2=b.y2):(this.x1=b,this.y1=c,this.x2=a,this.y2=f)};d.Rect.prototype={xa:function(){return this.x2-this.x1},va:function(){return this.y2-this.y1},translate:function(b,c){this.x1+=b;this.y1+=c;this.x2+=b;this.y2+=c},Us:function(b){var c=0,a=0;if(this.xa()<=b.xa()){var f=b.x2-this.x2;0>f&&(c=f);f=b.x1-this.x1;0<f&&(c=f)}this.va()<=b.va()&&(f=b.y2-this.y2,0>f&&(a=f),b=b.y1-this.y1,0<b&&(a=b));this.translate(c,a)},normalize:function(){var b;0>this.xa()&&(b=this.x1,this.x1=this.x2,this.x2=b);
0>this.va()&&(b=this.y1,this.y1=this.y2,this.y2=b)},qM:function(){var b;this.x1>this.x2&&(b=this.x1,this.x1=this.x2,this.x2=b);this.y2>this.y1&&(b=this.y1,this.y1=this.y2,this.y2=b)},isEqual:function(b){return this.x1===b.x1&&this.y1===b.y1&&this.x2===b.x2&&this.y2===b.y2},oF:function(){return 0===this.x1&&0===this.y1&&0===this.x2&&0===this.y2}};d.Math={};d.Math.pP=function(b,c){return b instanceof d.Point&&c instanceof d.Point?new d.Point((b.x+c.x)/2,(b.y+c.y)/2):null};d.Math.distance=function(b,
c){if(!(b instanceof d.Point&&c instanceof d.Point))return null;var a=b.x-c.x,f=b.y-c.y;return Math.sqrt(a*a+f*f)};d.ControlHandle=function(b,c,a,f){this.x=b;this.y=c;this.width=a;this.height=f};d.ControlHandle.handleWidth=12;d.ControlHandle.handleHeight=12;d.ControlHandle.selectionAccuracyPadding=1;d.ControlHandle.prototype={testSelection:function(b,c,a,f,g){b=this.getDimensions(b,c,a);c=0;1<d.ControlHandle.selectionAccuracyPadding&&(c=d.ControlHandle.selectionAccuracyPadding);return f>=b.x1-c&&
f<=b.x1+b.xa()+c&&g>=b.y1-c&&g<=b.y1+b.va()+c},draw:function(b,c,a,f){"undefined"===typeof f&&(f=1);this.Yc(b,f);var g=this.getDimensions(c,a,f);c=g.x1;a=g.y1;f=g.xa();g=g.va();b.beginPath();b.arc(c+f/2,a+g/2,f/2,0,2*Math.PI);b.stroke();b.fill()},Yc:function(b,c){b.strokeStyle=d.SelectionModel.defaultSelectionOutlineColor.toString();b.fillStyle="rgb(255, 255, 255)";b.lineWidth=d.SelectionModel.selectionOutlineThickness/c},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");
return new d.Rect(0,0,0,0)}};d.Be=function(b,c,a,f){this.width=b;this.height=c;this.mf=a;this.fg=f};d.Be.prototype={getDimensions:function(b,c,a){b=c.x1;var f=c.y1,g=this.width/a;a=this.height/a;this.mf===d.na.lc.left?b+=-(g/2):this.mf===d.na.lc.ys?b+=(c.xa()-g)/2:this.mf===d.na.lc.right?b+=c.xa()-g/2:console.warn("Invalid HorizonalAlignment");this.fg===d.na.Cc.top?f+=-(a/2):this.fg===d.na.Cc.Vt?f+=(c.va()-a)/2:this.fg===d.na.Cc.bottom?f+=c.va()-a/2:console.warn("Invalid VerticalAlignment");return new d.Rect(b,
f,b+g,f+a)},move:function(b,c,a){var f=c||a;if(!f)return!1;var g=b.me();if("Signature"===b.Subject){var l=b.Width,h=b.Height;if(l>h){if(a=h/l*(l+c)-h,this.mf===d.na.lc.left&&this.fg===d.na.Cc.bottom||this.mf===d.na.lc.right&&this.fg===d.na.Cc.top)a*=-1}else if(c=l/h*(h+a)-l,this.mf===d.na.lc.left&&this.fg===d.na.Cc.bottom||this.mf===d.na.lc.right&&this.fg===d.na.Cc.top)c*=-1}this.mf===d.na.lc.left?g.x1+=c:this.mf===d.na.lc.right&&(g.x2+=c);this.fg===d.na.Cc.top?g.y1+=a:this.fg===d.na.Cc.bottom&&(g.y2+=
a);b.resize(g);return f}};d.Be.prototype=$.extend(!0,new d.ControlHandle,d.Be.prototype);d.Vj=function(b,c,a,f,g){this.x=b;this.y=c;this.width=a;this.height=f;this.Rk=g};d.Vj.prototype={getDimensions:function(b,c,a){b=this.width/a;a=this.height/a;return this.Rk?new d.Rect(this.x-.5*b,this.y,this.x+.5*b,this.y+a):new d.Rect(this.x-.5*b,this.y-a,this.x+.5*b,this.y)},move:function(b,c,a,f,g,d){a=b.Ne();c=a[0];if("undefined"===typeof c)return!1;a=a[a.length-1];d=new window.ja.fe(d);d.annotation=b;d.pageCoordinates[0]=
g;f=Math.min(c.x1,c.x2,c.x3,c.x4);b=Math.max(a.x1,a.x2,a.x3,a.x4);c=Math.min(c.y1,c.y2,c.y3,c.y4);a=Math.max(a.y1,a.y2,a.y3,a.y4);this.Rk?c={x:f+1,y:c,pageIndex:g.pageIndex}:(c=g,g={x:b-1,y:a,pageIndex:g.pageIndex});if(g.y<c.y)return!1;(c.x<g.x||c.y<g.y)&&d.select(c,g);return!0},draw:function(b,c,a,f){var g,l,h,k;this.Yc(b,f);g=c.Ne();this.Rk?(k=g[g.length-1],g=k.x2,l=k.y2,h=k.x3,k=k.y3):(k=g[0],g=k.x1,l=k.y1,h=k.x4,k=k.y4);b.beginPath();b.moveTo(g,l);b.lineTo(h,k);b.stroke();d.ControlHandle.prototype.draw.call(this,
b,c,a,f)}};d.Vj.prototype=$.extend(!0,new d.ControlHandle,d.Vj.prototype);d.rg=function(b,c,a,f,g){this.x=b;this.y=c;this.width=a;this.height=f;this.yc=g};d.rg.prototype={getDimensions:function(b,c,a){b=this.width/a;a=this.height/a;c=this.x-.5*b;var f=this.y-.5*a;return new d.Rect(c,f,c+b,f+a)},move:function(b,c,a){var f=b.Fh(this.yc);b.vf(this.yc,f.x+c,f.y+a);return!0}};d.rg.prototype=$.extend(!0,new d.ControlHandle,d.rg.prototype);d.ar=function(b,c,a,f,g){d.rg.apply(this,arguments)};d.ar.prototype=
{move:function(b,c,a,f,g){d.rg.prototype.move.apply(this,arguments);if(0===this.yc){var l=b.Fh(0);b.vf(b.getPath().length-1,l.x,l.y)}return!0}};d.ar.prototype=$.extend(!0,new d.rg,d.ar.prototype);d.Nq=function(b,c,a,f,g){this.x=b;this.y=c;this.width=a;this.height=f;this.yc=g};d.Nq.prototype={move:function(b,c,a,f,g,l){g=b.getPath().length-4;f=g+1;var h=f+1,k=h+1;g=b.Fh(g);var m=b.Fh(f),n=b.Fh(h),p=b.Fh(k);if(this.yc===h){if(p.y<n.y+a||p.x<n.x+c)return}else if(this.yc===k&&(p.y+a<n.y||p.x+c<n.x))return;
c=d.rg.prototype.move.call(this,b,c,a);this.yc===h&&(p.y<n.y&&b.vf(h,n.x,p.y),p.x<n.x&&b.vf(h,p.x,n.y),b.vf(f,n.x,n.y+.5*(p.y-n.y)),c=!0);this.yc===k&&(p.y<n.y&&b.vf(h,p.x,n.y),p.x<n.x&&b.vf(h,n.x,p.y),b.vf(f,m.x,n.y+.5*(p.y-n.y)),c=!0);l=l.tc(b.Ib());l=b.Xi(l)/2;a=d.Math.pP(n,p);l=[new d.Point(a.x,n.y+l),new d.Point(a.x,p.y-l),new d.Point(n.x+l,a.y),new d.Point(p.x-l,a.y)];n=[d.Math.distance(g,l[0]),d.Math.distance(g,l[1]),d.Math.distance(g,l[2]),d.Math.distance(g,l[3])];n=n.indexOf(Math.min.apply(Math,
n));if(g.x!==l[n].x||g.y!==l[n].y)b.vf(f,l[n].x,l[n].y),c=!0;return c}};d.Nq.prototype=$.extend(!0,new d.rg,d.Nq.prototype);d.Il=function(b,c,a,f,g){this.x=b;this.y=c;this.width=a;this.height=f;this.Rk=g};d.Il.prototype={getDimensions:function(b,c,a){b=this.width/a;a=this.height/a;c=this.x-.5*b;var f=this.y-.5*a;return new d.Rect(c,f,c+b,f+a)},move:function(b,c,a){this.Rk?(b.End.x+=c,b.End.y+=a):(b.Start.x+=c,b.Start.y+=a);b.adjustRect();return!0}};d.Il.prototype=$.extend(!0,new d.ControlHandle,d.Il.prototype);
d.SelectionModel=function(b,c,a){this.Hc=[];this.Uv=c;this.hw=a};d.SelectionModel.selectionOutlineThickness=2;d.SelectionModel.selectionAccuracyPadding=2;d.SelectionModel.defaultSelectionOutlineColor=new d.Color(0,0,255);d.SelectionModel.defaultNoPermissionSelectionOutlineColor=new d.Color(255,0,0);d.SelectionModel.selectionOutlineDashSize=4;d.SelectionModel.prototype={testSelection:function(b,c,a){return d.Bc.rm(b,c,a)},vq:function(b,c,a,f){for(var g=this.Hc.length-1;0<=g;g--){var d=this.Hc[g];if(d.testSelection(b,
this.getDimensions(b),c,a,f))return d}},OM:function(){return this.Hc},getDimensions:function(b){return new d.Rect(b.X,b.Y,b.X+b.Width,b.Y+b.Height)},Bd:function(){return this.Uv},draw:function(b,c,a,f){b.save();this.drawSelectionOutline(b,c,a,f);b.restore();for(f=0;f<this.Hc.length;f++)this.Hc[f]&&this.Hc[f].draw(b,c,this.getDimensions(c),a)},drawSelectionOutline:function(b,c,a){b.save();c=this.getDimensions(c);"undefined"===typeof a&&(a=1);b.lineWidth=d.SelectionModel.selectionOutlineThickness/a;
this.Bd()?b.strokeStyle=d.SelectionModel.defaultSelectionOutlineColor.toString():b.strokeStyle=d.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();b.beginPath();b.moveTo(c.x1,c.y1);b.lineTo(c.x2,c.y1);b.lineTo(c.x2,c.y2);b.lineTo(c.x1,c.y2);b.closePath();b.stroke();"undefined"!==typeof b.setLineDash||"undefined"!==typeof b.mozDash?(a=d.SelectionModel.selectionOutlineDashSize/a,a=[a,a],b.setLineDash?b.setLineDash(a):b.mozDash=a):b.lineWidth/=2;b.strokeStyle="rgb(255, 255, 255)";b.beginPath();
b.moveTo(c.x1,c.y1);b.lineTo(c.x2,c.y1);b.lineTo(c.x2,c.y2);b.lineTo(c.x1,c.y2);b.closePath();b.stroke();b.restore()}};d.Zq=function(){d.SelectionModel.call(this,0,!1,!1)};d.Zq.prototype={testSelection:function(){return!1},getDimensions:function(){return new d.Rect(0,0,0,0)},draw:function(){},drawSelectionOutline:function(){}};d.Zq.prototype=$.extend(!0,new d.SelectionModel,d.Zq.prototype);d.na=function(b,c,a){d.SelectionModel.call(this,0,c,a);a=d.ControlHandle.handleWidth;var f=d.ControlHandle.handleHeight;
(this.Uv=c)?(this.Hc=[new d.Be(a,f,d.na.lc.left,d.na.Cc.top),new d.Be(a,f,d.na.lc.left,d.na.Cc.Vt),new d.Be(a,f,d.na.lc.left,d.na.Cc.bottom),new d.Be(a,f,d.na.lc.ys,d.na.Cc.top),new d.Be(a,f,d.na.lc.ys,d.na.Cc.bottom),new d.Be(a,f,d.na.lc.right,d.na.Cc.top),new d.Be(a,f,d.na.lc.right,d.na.Cc.Vt),new d.Be(a,f,d.na.lc.right,d.na.Cc.bottom)],"Signature"===b.Subject&&(this.Hc.splice(3,2),this.Hc.splice(1,1),this.Hc.splice(-2,1))):this.Hc=[]};d.na.lc={left:1,ys:2,right:4};d.na.Cc={top:16,Vt:32,bottom:64};
d.na.prototype={testSelection:function(b,c,a,f){return this.hw?d.Bc.rm(b,c,a):d.Bc.cp(b,c,a,f)},getDimensions:function(b){return new d.Rect(b.X,b.Y,b.X+b.Width,b.Y+b.Height)}};d.na.prototype=$.extend(!0,new d.SelectionModel,d.na.prototype);d.Ll=function(b,c,a){d.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length;c++)a=b[c],this.Hc.push(new d.rg(a.x,a.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,c))};d.Ll.prototype={testSelection:function(b,c,a,f){return this.hw?d.Bc.rm(b,
c,a):d.Bc.cp(b,c,a,f)},draw:function(b,c,a){d.SelectionModel.prototype.draw.call(this,b,c,a)}};d.Ll.prototype=$.extend(!0,new d.SelectionModel,d.Ll.prototype);d.xv=function(b,c,a){d.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length-1;c++)a=b[c],this.Hc.push(new d.ar(a.x,a.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,c))};d.xv.prototype=$.extend(!0,new d.SelectionModel,d.xv.prototype);d.mo=function(b,c,a){d.SelectionModel.call(this,0,c,a);this.Hc=c?[new d.Il(b.Start.x,
b.Start.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,0),new d.Il(b.End.x,b.End.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,1)]:[]};d.mo.prototype={testSelection:function(b,c,a,f){return d.Bc.cp(b,c,a,f)},drawSelectionOutline:function(b,c,a,f){"undefined"===typeof a&&(a=1);b.lineWidth=d.SelectionModel.selectionOutlineThickness/a;var g=Math.atan((c.End.y-c.Start.y)/(c.End.x-c.Start.x)),l=Math.max(.5*c.Xi(f),1)*Math.sin(g);f=Math.max(.5*c.Xi(f),1)*Math.cos(g);this.Bd()?b.strokeStyle=
d.SelectionModel.defaultSelectionOutlineColor.toString():b.strokeStyle=d.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();b.beginPath();b.moveTo(c.Start.x+l,c.Start.y-f);b.lineTo(c.End.x+l,c.End.y-f);b.stroke();b.beginPath();b.moveTo(c.Start.x-l,c.Start.y+f);b.lineTo(c.End.x-l,c.End.y+f);b.stroke();"undefined"!==typeof b.setLineDash||"undefined"!==typeof b.mozDash?(a=d.SelectionModel.selectionOutlineDashSize/a,a=[a,a],b.setLineDash?b.setLineDash(a):b.mozDash=a):b.lineWidth/=2;b.strokeStyle=
"rgb(255, 255, 255)";b.beginPath();b.moveTo(c.Start.x+l,c.Start.y-f);b.lineTo(c.End.x+l,c.End.y-f);b.stroke();b.beginPath();b.moveTo(c.Start.x-l,c.Start.y+f);b.lineTo(c.End.x-l,c.End.y+f);b.stroke()}};d.mo.prototype=$.extend(!0,new d.na,d.mo.prototype);d.ko=function(b,c,a){d.na.apply(this,arguments)};d.ko.prototype={getDimensions:function(b){return d.SelectionModel.prototype.getDimensions.apply(this,arguments)},testSelection:function(b,c,a){return d.Bc.rm(b,c,a)}};d.ko.prototype=$.extend(!0,new d.na,
d.ko.prototype);d.Oq=function(b,c,a){d.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length;c++)c!==b.length-3&&(a=b[c],this.Hc.push(new d.Nq(a.x,a.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,c)))};d.Oq.prototype={testSelection:function(b,c,a,f){if(this.hw)return d.Bc.rm(b,c,a);var g=b.getPath().slice(-2),l=g[0],g=g[1];return c<l.x||c>g.x||a<l.y||a>g.y?d.Bc.cp(b,c,a,f):!0}};d.Oq.prototype=$.extend(!0,new d.SelectionModel,d.Oq.prototype);d.Wj=function(b,c,a,f,g){d.SelectionModel.call(this,
0,c,a);this.Uv=c;if(b=b.Ne())_.isUndefined(f)&&(f=!0),_.isUndefined(g)&&(g=!0),this.Hc=[],c&&(c=b[0],b=b[b.length-1],c&&(this.Hc=[],f&&this.Hc.push(new d.Vj(c.x1,c.y3,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,!1)),g&&this.Hc.push(new d.Vj(b.x3,b.y1,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,!0))))};d.Wj.prototype={testSelection:function(b,c,a){return d.Bc.AH(b,c,a)},getDimensions:function(b){var c=b.X-2,a=b.Y-2;return new d.Rect(c,a,c+(b.Width+4),a+(b.Height+4))}};d.Wj.prototype=
$.extend(!0,new d.SelectionModel,d.Wj.prototype);d.fr=function(b,c,a){d.SelectionModel.call(this,0,c,a)};d.fr.prototype={testSelection:function(b,c,a,f,g){f=b.NoZoom?g:1;b=new d.Rect(b.Rm(),b.Ym(),b.Rm()+b.SIZE/f,b.Ym()+b.SIZE/f);return c>=b.x1&&c<=b.x2&&a>=b.y1&&a<=b.y2},getDimensions:function(b){return new d.Rect(b.X,b.Y,b.X+b.SIZE,b.Y+b.SIZE)}};d.fr.prototype=$.extend(!0,new d.SelectionModel,d.fr.prototype);d.Bc={rm:function(b,c,a){b=b.me();return c>=b.x1&&c<=b.x2&&a>=b.y1&&a<=b.y2},cp:function(b,
c,a,f){var g;d.Bc.YE?g=d.Bc.YE:(g=document.createElement("canvas"),d.Bc.YE=g);var l=g.getContext("2d");g.width=4;g.height=4;l.setTransform(1,0,0,1,-(c-b.an()),-(a-b.bn()));c=b.StrokeThickness;b.zi=c+d.Bc.canvasVisibilityPadding;l.translate(-1*b.an(),-1*b.bn());b.draw(l,f);f=1<l.getImageData(0,0,1,1).data[3];l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,2,2);b.zi=c;return f},AH:function(b,c,a){b=b.Quads;for(var f=0;f<b.length;f++){var g=b[f],d=Math.min(g.y1,g.y2,g.y3,g.y4),h=Math.max(g.y1,g.y2,g.y3,
g.y4),k=Math.max(g.x1,g.x2,g.x3,g.x4);if(c>=Math.min(g.x1,g.x2,g.x3,g.x4)&&c<=k&&a>=d&&a<=h)return!0}return!1}};d.Bc.canvasVisibilityPadding=5})(window);
(function(b){function d(a,b){a.vc().css("cursor")!==b&&a.vc().css("cursor",b)}var e=XODText,c="Resources/";b.o.DR=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");c=a};b.o.Gh=function(){return c};b.ja=function(){};var a=b.ja;a.AT={};a.Tool=function(a){this.zb=this.Hd=null;this.u=this.docViewer=a;this.pageCoordinates=[]};a.Tool.ENABLE_TEXT_SELECTION=!0;a.Tool.ENABLE_AUTO_SWITCH=!0;a.Tool.ENABLE_ANNOTATION_HOVER_CURSORS=!0;a.Tool.prototype={Qf:function(a){var b={},c=this.u.Qb(),f=c.scrollLeft()||
0,c=c.scrollTop()||0;a.originalEvent&&a.originalEvent.touches?(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0],b.x=f+a.clientX,b.y=c+a.clientY):(b.x=f+a.pageX,b.y=c+a.pageY);return b},mouseLeftDown:function(a){var b=this.Qf(a),c=this.u.fa;this.Hd=b;this.zb={x:b.x,y:b.y};this.pageCoordinates[0]=this.Ud(this.Hd);this.pageCoordinates[1]=this.pageCoordinates[0];a.data={mouseCoordinate:{x:b.x,y:b.y},pageCoordinate:this.pageCoordinates[0]};(a=c.Km(a))&&
(a instanceof Annotations.Eb?d(this.u,this.cursor):d(this.u,"move"))},mouseLeftUp:function(a){var b=this.Qf(a);this.zb=b;this.pageCoordinates[1]=this.Ud(this.zb);a.data={mouseCoordinate:{x:b.x,y:b.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(a){var b=this.Qf(a),c=this.u.fa;this.zb=b;var f=this.Ud(this.zb);f&&(this.LH(c,f),this.KH(c,a),this.CS(c,f));if(null!==this.Hd){c=this.Ud(this.Hd);if(null===c)return;var e=c.pageIndex,c=this.u.md(e),f=this.u.ld(e),e=this.Ud(this.zb,e);0>e.x&&
(e.x=0);0>e.y&&(e.y=0);e.x>c&&(e.x=c);e.y>f&&(e.y=f);this.pageCoordinates[1]=e}else this.pageCoordinates[1]=this.Ud(this.zb);a.data={mouseCoordinate:{x:b.x,y:b.y},pageCoordinate:this.pageCoordinates[1]}},LH:function(b,c){if(a.Tool.ENABLE_TEXT_SELECTION&&a.Tool.ENABLE_AUTO_SWITCH){var f=this.u.rt();!this.Lc&&(f instanceof a.wl||f instanceof a.Rl)&&(this.ke&&0<Object.keys(this.ke).length||0<b.pe().length||this.u.OG(c.pageIndex,c,function(a,b){0<b.length?this.u.Ou(this.u.Gp("TextSelect")):0===b.length&&
this.u.Ou(this.u.Gp("AnnotationEdit"))}.bind(this)))}},KH:function(b,c){if(a.Tool.ENABLE_ANNOTATION_HOVER_CURSORS){var f=b.Km(c);f?b.Ok(f)?f instanceof Annotations.Eb?d(this.u,this.cursor):d(this.u,"move"):d(this.u,"pointer"):d(this.u,this.cursor)}},CS:function(b,c){if(a.Tool.ENABLE_ANNOTATION_HOVER_CURSORS)for(var f=b.pe(),e=0;e<f.length;e++){var m=f[e],n=(new m.selectionModel(m,b.Bd(m))).vq(m,this.u.gc(m.PageNumber-1),c.x,c.y);if(!n)break;m=this.u.Me(m.PageNumber);n instanceof Annotations.Be?d(this.u,
(n.fg===Annotations.na.Cc.Vt?0===m%2?"ew":"ns":n.mf===Annotations.na.lc.ys?0===m%2?"ns":"ew":n.fg===Annotations.na.Cc.top?n.mf===Annotations.na.lc.right?0===m%2?"nesw":"nwse":0===m%2?"nwse":"nesw":n.mf===Annotations.na.lc.right?0===m%2?"nwse":"nesw":0===m%2?"nesw":"nwse")+"-resize"):n instanceof Annotations.Vj?0===m%2?d(this.u,"ew-resize"):d(this.u,"ns-resize"):d(this.u,"default")}},mouseDoubleClick:function(a){var b=this.Qf(a);this.Hd={x:b.x,y:b.y};this.zb={x:b.x,y:b.y};var b=this.u.fa,c=this.Ud(this.zb);
c&&(this.om=c.x,this.pm=c.y,(a=b.Km(a))&&!a.Mh()&&a.Tk()&&b.trigger("annotationDoubleClicked",a))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){d(this.u,"default");this.u.fa.Ed()},Hg:function(){return this.u},Ud:function(a,b){var c=this.docViewer.Nm().pt(a,a);if("undefined"===typeof b){if(c=null===c.first?c.last:c.first,null===c)return null}else c=b;c=this.docViewer.Nm().Aj(a,c);return{pageIndex:c.pageIndex,x:c.x,
y:c.y}}};var f=a.Tool;a.AnnotationSelectTool=function(b){f.call(this,b);this.pm=this.om=0;this.Fi={x:0,y:0};this.Qi=this.pc=null;this.state=a.AnnotationSelectTool.Pb.NONE;this.hf=NaN;this.Lc=!1;this.cursor="default";this.overrideSelection=!1};a.AnnotationSelectTool.Pb={NONE:0,mv:1,DA:2,Vq:3,lv:4};a.AnnotationSelectTool.PAGE_PADDING=new Annotations.Rect(2,2,2,2);a.AnnotationSelectTool.prototype=$.extend(new f,{mouseLeftDown:function(b){f.prototype.mouseLeftDown.call(this,b);if(this.overrideSelection)this.state=
a.AnnotationSelectTool.Pb.NONE;else{this.Lc=!0;this.state=a.AnnotationSelectTool.Pb.NONE;var c=this.u.fa,e=this.Ud(this.zb);if(e){this.hf=e.pageIndex;this.om=e.x;this.pm=e.y;this.Fi.x=this.om;this.Fi.y=this.pm;for(var d=c.pe(),m=0;m<d.length;m++){var n=d[m];if("undefined"!==typeof n.selectionModel){var p=(new n.selectionModel(n,c.Bd(n))).vq(n,this.u.gc(n.Ib()),e.x,e.y);if(p){this.pc=n;this.Qi=p;!this.pc.NoResize&&c.Bd(this.pc)?this.state=a.AnnotationSelectTool.Pb.lv:(this.state=a.AnnotationSelectTool.Pb.NONE,
c.Ed());return}}else if(console.warn("no selection model for annotation"),this.Qi=c.hE(this.hf,e)){this.pc=this.Qi.OK;!this.pc.NoResize&&c.Bd(this.pc)?this.state=a.AnnotationSelectTool.Pb.DA:(this.state=a.AnnotationSelectTool.Pb.NONE,c.Ed());return}}if(0<c.pe().length&&(e=c.aE(b),0<e.length)){this.pc=null;for(d=0;d<e.length;++d)if(c.Ok(e[d])){this.pc=e[d];break}this.pc||(this.pc=e[0]);e=c.Ok(this.pc);!this.pc.NoMove&&c.Bd(this.pc)&&e?this.state=a.AnnotationSelectTool.Pb.mv:b.ctrlKey?this.state=a.AnnotationSelectTool.Pb.Vq:
(this.state=a.AnnotationSelectTool.Pb.NONE,c.Ed());return}}c.Ed()}},mouseMove:function(c){f.prototype.mouseMove.call(this,c);!this.Lc||!this.isSelecting()&&(this instanceof a.so||this instanceof a.wl)||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLInputElement||c.preventDefault();if(!this.overrideSelection&&this.state!==a.AnnotationSelectTool.Pb.NONE){c=this.u.fa;var b=this.pageCoordinates[1];if(b&&this.hf===b.pageIndex){var e=b.x-this.Fi.x,k=b.y-this.Fi.y;
if(this.state===a.AnnotationSelectTool.Pb.mv&&this.pc){d(this.u,"move");var m=c.pe(),n,p,q,u,r,v,w,z=!1;for(n=0;n<m.length;n++)q=m[n],c.Bd(q)&&!q.NoMove&&(p=q.me(),z?(p.x1<u&&(u=p.x1),p.y1<r&&(r=p.y1),p.x2>v&&(v=p.x2),p.y2>w&&(w=p.y2)):(u=p.x1,r=p.y1,v=p.x2,w=p.y2,z=!0));p=this.u.md(this.hf);q=this.u.ld(this.hf);n=new Annotations.Rect;this.u.gc(this.pc.Ib());n.x1=1*a.AnnotationSelectTool.PAGE_PADDING.x1;n.y1=1*a.AnnotationSelectTool.PAGE_PADDING.y1;n.x2=p-1*a.AnnotationSelectTool.PAGE_PADDING.x2;
n.y2=q-1*a.AnnotationSelectTool.PAGE_PADDING.y2;u=Math.max(0+a.AnnotationSelectTool.PAGE_PADDING.x1,u);r=Math.max(0+a.AnnotationSelectTool.PAGE_PADDING.y1,r);v=Math.min(v,p-a.AnnotationSelectTool.PAGE_PADDING.x2);w=Math.min(w,q-a.AnnotationSelectTool.PAGE_PADDING.y2);if(z){u=u+e>=n.x1?e:n.x1-u;r=r+k>=n.y1?k:n.y1-r;v=v+e<=n.x2?e:n.x2-v;w=w+k<=n.y2?k:n.y2-w;e=0<=e?Math.min(u,v):Math.max(u,v);k=0<=k?Math.min(r,w):Math.max(r,w);this.Fi.x=b.x;this.Fi.y=b.y;b={};for(n=0;n<m.length;n++)if(q=m[n],c.Bd(q)&&
!q.NoMove&&(p=q.me(),p.x1+=e,p.y1+=k,p.x2+=e,p.y2+=k,0!==e||0!==k))q.resize(p),q.zC=!0,b[q.uc()]=!0;for(var D in b)this.u.fa.jd(D)}}else this.state===a.AnnotationSelectTool.Pb.lv&&this.Qi&&this.pc&&(D=this.Qi.move(this.pc,e,k,this.Ud(new Annotations.Point(this.Hd.x,this.Hd.y)),b,this.u),this.Fi.x=b.x,this.Fi.y=b.y,D&&this.u.fa.Xb(this.pc))}}},mouseLeftUp:function(){if(!this.overrideSelection){this.Lc=!1;var b=this.u.fa,c=b.pe();if(this.state===a.AnnotationSelectTool.Pb.mv){for(var f=[],e=0;e<c.length;e++){var m=
c[e];m.zC&&(m.zC=void 0,f.push(m))}0<f.length&&b.trigger("annotationChanged",[f,"modify"])}else this.state===a.AnnotationSelectTool.Pb.DA?(f=this.Qi.OK,this.Qi&&b.trigger("annotationChanged",[[f],"modify"])):this.state===a.AnnotationSelectTool.Pb.lv&&this.pc&&b.trigger("annotationChanged",[[this.pc],"modify"]);0<c.length?d(this.u,"default"):d(this.u,this.cursor);this.state=a.AnnotationSelectTool.Pb.NONE}},qz:function(){this.u.fa.Am(this.annotation);this.annotation=null},keyDown:function(a){27===a.which&&
void 0!==this.annotation&&null!==this.annotation&&this.qz();46!==a.which&&8!==a.which||b.utils.isEditableElement($(a.target))||(a=this.u.ec().pe(),this.u.ec().gx(a))},tap:function(a){if(!this.overrideSelection){var b=this.u.ec(),c=b.Km(a);if(c){var f=b.Ok(c);a.originalEvent.ctrlKey||a.originalEvent.metaKey?f?b.hp(c):b.En(c):f||(b.Ed(),b.En(c));a.preventDefault()}}},isSelecting:function(){return this.state!==a.AnnotationSelectTool.Pb.NONE}});a.so=function(c){a.AnnotationSelectTool.call(this,c);this.vw=
{x:0,y:0};this.Gr=!1;this.cursor="url("+b.o.Gh()+"hand.png), url("+b.o.Gh()+"hand.cur), pointer"};a.so.prototype=$.extend(new a.AnnotationSelectTool,{switchIn:function(){d(this.u,this.cursor)},mouseLeftDown:function(c){a.AnnotationSelectTool.prototype.mouseLeftDown.call(this,c);this.isSelecting()||(this.vw=this.Qf(c),this.Gr=!0,d(this.u,"url("+b.o.Gh()+"dragginghand.png),url("+b.o.Gh()+"dragginghand.cur), pointer"))},mouseLeftUp:function(b){a.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);
this.isSelecting()||(this.Gr=!1)},mouseMove:function(c){a.AnnotationSelectTool.prototype.mouseMove.call(this,c);if(!this.isSelecting()&&this.Gr){var f=this.u.Qb(),e=this.Qf(c);c=this.vw.x-e.x;e=this.vw.y-e.y;this.u.scrollTo((f.scrollLeft()||0)+c,(f.scrollTop()||0)+e);d(this.u,"url("+b.o.Gh()+"dragginghand.png),url("+b.o.Gh()+"dragginghand.cur), pointer")}},mouseLeave:function(){this.Gr=!1;d(this.u,this.cursor)}});a.Rb=function(a){f.call(this,a);this.Lc=!1;this.cursor="text"};a.Rb.SELECTION_MODE="structural";
a.Rb.prototype={switchIn:function(){this.LC(null,this.u.Me());this.u.on("rotationUpdated.textTool",_.bind(this.LC,this))},switchOut:function(a){f.prototype.switchOut.call(this,a);this.u.off("rotationUpdated.textTool")},LC:function(a,c){this.cursor=c===b.o.Qa.Le||c===b.o.Qa.Nf?"vertical-text":"text";d(this.u,this.cursor)},mouseLeftDown:function(c){a.AnnotationSelectTool.prototype.mouseLeftDown.call(this,c);this.isSelecting()||(c.altKey&&(a.Rb.SELECTION_MODE="rectangular"),this.Lc=!0,this.u.gp())},
mouseMove:function(c){a.AnnotationSelectTool.prototype.mouseMove.call(this,c);this.isSelecting()||!0!==this.Lc||(1!==c.which&&0!==c.which?this.Lc=!1:(c.data&&(this.pageCoordinates[1]=this.Ud(c.data.mouseCoordinate)),this.select(this.pageCoordinates[0],this.pageCoordinates[1])))},select:function(c,b){var f=this.u;if(c&&b){var d,m;b.pageIndex>=c.pageIndex?(d=c,m=b):(d=b,m=c);var n=d.pageIndex,p=m.pageIndex;if(null!==n&&null!==p){var q=new e.Ia,u=f.v.Vc(n);1<=p-n?q.Oa(d.x,d.y,u.width,u.height):q.Oa(d.x,
d.y,m.x,m.y);this.u.ln="rectangular"===a.Rb.SELECTION_MODE?(new XODText.ti(this.u.getDocument())).PG:(new XODText.ti(this.u.getDocument())).NG;this.u.Vh=[[n,q]];this.u.Fn(n,q,_.bind(this.textSelected,this));for(d=n+1;d<p;d++)this.u.Vh.unshift([d,q]),u=f.v.Vc(d),q=new e.Ia,q.Oa(0,0,u.width,u.height),f.Fn(d,q,_.bind(this.textSelected,this));n!==p&&(q=new e.Ia,q.Oa(0,0,m.x,m.y),this.u.Vh.unshift([p,q]),f.Fn(p,q,_.bind(this.textSelected,this)))}}},textSelected:function(){},mouseLeftUp:function(c){a.AnnotationSelectTool.prototype.mouseLeftUp.call(this,
c);this.isSelecting()||(c.altKey&&"rectangular"===a.Rb.SELECTION_MODE&&(a.Rb.SELECTION_MODE="structural"),this.Lc=!1)}};a.Rb.prototype=$.extend(new a.AnnotationSelectTool,a.Rb.prototype);a.Rl=function(c){a.Rb.call(this,c);this.ke={};this.sB=this.jC=this.Zl=null};a.Rl.prototype=$.extend(new a.Rb,{select:function(){this.u.QC();this.ke={};a.Rb.prototype.select.apply(this,arguments)},mouseLeftDown:function(c){this.Zl=null;var b=this.Ud(this.Qf(c));if(b){var f=b.pageIndex,e=this.bK(f),d=this;e.Ne=function(){return d.ke[f]};
var n=!1,p=!1,q=this.cw();0<q.length&&(f===q[0]&&(n=!0),f===q[q.length-1]&&(p=!0));if(b=(new Annotations.Wj(e,!0,!1,n,p)).vq(e,this.u.gc(f),b.x,b.y))this.Zl=b,this.Zl.Rk?this.jC=this.dK():this.sB=this.cK()}this.Zl||(a.Rb.prototype.mouseLeftDown.apply(this,arguments),this.ke={});this.Lc=!0},mouseMove:function(c){c.preventDefault();if(this.Lc&&this.Zl){var b=this.Ud(this.Qf(c));if(b){var f;this.Zl.Rk?f=this.jC:(f=b,b=this.sB);this.ke={};this.select(f,b)}}else a.Rb.prototype.mouseMove.apply(this,arguments)},
mouseLeftUp:function(){a.Rb.prototype.mouseLeftUp.apply(this,arguments);0<Object.keys(this.ke).length?(d(this.u,"default"),this.yw()):0===this.u.ec().pe().length&&d(this.u,this.cursor)},textSelected:function(a,c,b){this.u.pu(a,c,b);0<c.length&&(d(this.u,"default"),this.ke[a]=c.map(function(a){return a.Lg()}));this.Lc||this.yw()},mouseDoubleClick:function(){var a=this.pageCoordinates[0];if(a){var c=this;this.u.OG(a.pageIndex,a,function(){c.textSelected.apply(c,arguments);c.yw()})}},gp:function(){this.ke=
{}},yw:function(){var a=this.CB();a.quad&&this.trigger("selectionComplete",[a,this.ke])},cw:function(){return Object.keys(this.ke).map(function(a){return parseInt(a,10)}).sort(function(a,c){return a-c})},CB:function(){var a=this.cw()[0],c=this.ke[a];return{quad:c?c[0]:null,pageIndex:a}},dK:function(){var a=this.CB(),c=a.quad;return{x:c.x1,y:(c.y1+c.y3)/2,pageIndex:a.pageIndex}},cK:function(){var a=this.cw(),a=a[a.length-1],c=this.ke[a],c=c[c.length-1];return{x:c.x3,y:(c.y1+c.y3)/2,pageIndex:a}},bK:function(a){var c=
Infinity,b=Infinity,f=0,e=0;if(a=this.ke[a])for(var d=0;d<a.length;++d)var p=a[d],c=Math.min(c,p.x1,p.x2,p.x3,p.x4),b=Math.min(b,p.y1,p.y2,p.y3,p.y4),f=Math.max(f,p.x1,p.x2,p.x3,p.x4),e=Math.max(e,p.y1,p.y2,p.y3,p.y4);return{X:c,Y:b,Width:f-c,Height:e-b}}},b.utils.eventHandler);a.Cb=function(c,b,f){a.AnnotationSelectTool.call(this,c);this.annotation=null;this.Gw=b;this.zL=f;this.cursor="crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,0,0,0),StrokeThickness:1,
Opacity:1}};a.Cb.prototype=$.extend(new a.AnnotationSelectTool,{switchIn:function(){d(this.u,this.cursor);this.u.$d({annotMode:!0})},switchOut:function(c){null!==this.annotation&&void 0!==this.annotation&&(this.u.fa.Am(this.annotation),this.annotation=null);a.AnnotationSelectTool.prototype.switchOut.call(this,c);this.u.$d({annotMode:!1})},mouseLeftDown:function(c){a.AnnotationSelectTool.prototype.mouseLeftDown.call(this,c);if(!this.isSelecting()&&!this.annotation&&(c=this.pageCoordinates[0])){var b=
this.u.fa;this.annotation=new this.Gw(this.zL);this.annotation.X=c.x;this.annotation.Y=c.y;this.annotation.PageNumber=c.pageIndex+1;this.annotation.Author=b.Hk();null!==this.annotation.StrokeColor&&(c=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(c.R,c.G,c.B,c.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness);null!==this.annotation.FillColor&&(c=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(c.R,
c.G,c.B,c.A));this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(c){a.AnnotationSelectTool.prototype.mouseLeftUp.call(this,c);this.isSelecting()||this.finish()},mouseMove:function(c){a.AnnotationSelectTool.prototype.mouseMove.call(this,c);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){c=this.pageCoordinates[0];var b=this.pageCoordinates[1];null!==b&&null!==c&&c.pageIndex===b.pageIndex&&(c=new Annotations.Rect(c.x,
c.y,b.x,b.y),c.normalize(),this.annotation.uj(c),this.u.fa.Xb(this.annotation))}},finish:function(){if(this.annotation){var a=this.annotation.xa(),c=this.annotation.va(),b=2*(this.annotation.getRectPadding()+1);a<=b&&c<=b?this.u.fa.Am(this.annotation):(this.u.fa.Ag(this.annotation),this.trigger("annotationAdded",[this.annotation]));this.annotation=null}}},b.utils.eventHandler);new a.Cb;a.wl=function(c){a.AnnotationSelectTool.call(this,c);this.nj=null};a.wl.prototype=$.extend(new a.AnnotationSelectTool,
{switchIn:function(){d(this.u,"default")},switchOut:function(a){f.prototype.switchOut.call(this,a)},mouseLeftDown:function(c){a.AnnotationSelectTool.prototype.mouseLeftDown.call(this,c);if(!this.isSelecting()){this.Lc=!0;this.state=a.AnnotationSelectTool.Pb.NONE;var f=this.u.fa,e=this.Ud(this.zb);!e||c.originalEvent.touches&&this.u.Nm().fc().mode!==b.o.sd.Af||(this.hf=e.pageIndex,f.Ed(),this.state=a.AnnotationSelectTool.Pb.Vq)}},mouseMove:function(c){a.AnnotationSelectTool.prototype.mouseMove.call(this,
c);if(this.state===a.AnnotationSelectTool.Pb.Vq&&(c=this.pageCoordinates[1])&&this.hf===c.pageIndex){var f=c.x,e=c.y;c=0>f-this.om?f:this.om;var d=0>e-this.pm?e:this.pm,f=Math.abs(f-this.om),e=Math.abs(e-this.pm),m=$("#annoteditselectrect");0===m.length&&(m=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.u.vc()));var n=this.zb.x-this.Hd.x,p=this.zb.y-this.Hd.y,q=this.u.Qb(),u=q.scrollLeft()||0,q=q.scrollTop()||0,r=this.Hd.x-u,v=this.Hd.y-q,w=this.zb.x-u,z=this.zb.y-
q,D=this.u.md(this.hf),A=this.u.ld(this.hf),v=Math.min(z,v),r=Math.min(w,r),w=this.docViewer.Nm().pf({x:0,y:0},this.hf),x=this.docViewer.Nm().pf({x:D,y:A},this.hf),D=Math.min(w.x,x.x),A=Math.min(w.y,x.y),z=Math.max(w.x,x.x),w=Math.max(w.y,x.y),D=D-u,A=A-q;A>v&&(p+=A-v,v=A);D>r&&(n+=D-r,r=D);n=b.Qd.Math.NC(Math.abs(n),0,z-u-r);p=b.Qd.Math.NC(Math.abs(p),0,w-q-v);u="inline";if(5>n||5>p)u="none";m.css({width:n,height:p,top:v,left:r,"z-index":"44",position:"absolute",border:"1px dotted black",display:u});
this.nj=b.Qd.DF(c,d,f,e)}},mouseLeftUp:function(c){if(this.state!==a.AnnotationSelectTool.Pb.Vq)a.AnnotationSelectTool.prototype.mouseLeftUp.call(this,c);else{var b=this;this.Lc=!1;var f=function(){b.nj=null;b.state=a.AnnotationSelectTool.Pb.NONE;$("#annoteditselectrect").css("display","none")};if(!this.nj){f();return}if(this.nj.x1===this.nj.x2&&this.nj.y1===this.nj.y2)a.AnnotationSelectTool.prototype.mouseLeftUp.call(this,c);else{var e=this.$J(this.hf,this.nj);this.u.ec().yz(e)}f()}if(f=this.pageCoordinates[1])e=
this.u.fa,this.LH(e,f),this.KH(e,c)},$J:function(a,c){var f;f=this.u.ec();var e=[];if(f.Tm())return e;for(var d=f.fd.filter(function(c){return c.Ib()===a&&c.Tk()}),n=0;n<d.length;n++){f=d[n];var p=1;!0===f.NoZoom&&(p=this.u.gc(f.Ib()));b.Qd.hQ(c,b.Qd.DF(f.Rm(),f.Ym(),f.xa()/p,f.va()/p))&&e.push(f)}return e}});a.Jl=function(c){a.Cb.call(this,c,b.Annotations.ee)};a.Jl.prototype=$.extend(new a.Cb,{mouseLeftDown:function(c){a.Cb.prototype.mouseLeftDown.call(this,c);this.isSelecting()||this.annotation&&
(this.annotation.Start={x:this.pageCoordinates[0].x,y:this.pageCoordinates[0].y})},mouseMove:function(c){a.AnnotationSelectTool.prototype.mouseMove.call(this,c);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){c=this.pageCoordinates[0];var b=this.pageCoordinates[1];null!==b&&null!==c&&c.pageIndex===b.pageIndex&&(this.annotation.End={x:b.x,y:b.y},this.annotation.adjustRect(),this.u.fa.Xb(this.annotation))}}});a.fv=function(c){a.Jl.call(this,c)};a.fv.prototype=$.extend(new a.Jl,
{mouseLeftDown:function(c){a.Jl.prototype.mouseLeftDown.call(this,c);this.annotation&&this.annotation.rq("OpenArrow")}});a.yv=function(c){a.Cb.call(this,c,b.Annotations.Oj)};a.yv.prototype=new a.Cb;a.ov=function(c){a.Cb.call(this,c,b.Annotations.Al)};a.ov.prototype=new a.Cb;a.FreeHandCreateTool=function(c){a.Cb.call(this,c,b.Annotations.FreeHandAnnotation);this.yc=0;this.Fs=null;this.Lc=!1;this.pointerType=null};a.FreeHandCreateTool.prototype=$.extend(new a.Cb,{createDelay:1500,simplifyPen:!1,mouseLeftDown:function(c){a.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
c);if(!this.isSelecting()&&this.pageCoordinates[0]){this.Lc=!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1){c=this.pageCoordinates[0].x;var b=this.pageCoordinates[0].y,f=!1,e=this.annotation.getPath(this.yc);e&&0<e.length&&(e=e[e.length-1],e.x===c&&e.y===b&&(f=!0));f||this.annotation.ac(c,b,this.yc)}else this.complete(),a.FreeHandCreateTool.prototype.mouseLeftDown.call(this,c);else a.Cb.prototype.mouseLeftDown.call(this,c);clearTimeout(this.Fs)}},complete:function(){this.annotation&&
0<this.annotation.Kk().length?(this.u.fa.Xb(this.annotation),this.annotation.finish(),a.Cb.prototype.mouseLeftUp.call(this,null),this.bC()):this.annotation=null},Wt:function(){this.complete()},switchOut:function(c){this.complete();a.Cb.prototype.switchOut.call(this,c)},mouseLeftUp:function(){a.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()&&(this.Lc=!1,this.annotation)){var c=this.u.fa,b=this.annotation.getPath(this.yc);if(b){if(4>b.length)this.annotation.Kk().pop(),
this.annotation.adjustRect(),c.Xb(this.annotation);else{if("pen"!==this.pointerType||this.simplifyPen)this.annotation.YR(.75),c.Xb(this.annotation);this.yc++}this.Fs=setTimeout(_.bind(this.complete,this),this.createDelay)}0===this.annotation.Kk().length&&(this.complete(),clearTimeout(this.Fs))}},mouseMove:function(c){a.AnnotationSelectTool.prototype.mouseMove.call(this,c);!this.isSelecting()&&!1!==this.Lc&&this.annotation&&null!==this.pageCoordinates&&null!==this.pageCoordinates[1]&&this.pageCoordinates[0].pageIndex===
this.pageCoordinates[1].pageIndex&&(this.annotation.ac(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.yc),this.u.fa.Xb(this.annotation))},bC:function(){this.yc=0;this.Lc=!1;clearTimeout(this.Fs)},qz:function(){this.bC();a.AnnotationSelectTool.prototype.qz.call(this)},contextMenu:function(a){a.preventDefault()},fG:function(a){this.pointerType=a.originalEvent.pointerType}});a.SignatureCreateTool=function(c){a.Tool.call(this,c);this.si=100;this.location=null;this.lp=!1;this.Wu=this.yc=0;this.visible=
!1;this.ex=null;this.cursor="crosshair";var b=this;$(document).on("mouseup",function(){b.lp&&(b.visible=!0);b.wB()})};a.SignatureCreateTool.prototype={switchIn:function(){d(this.u,this.cursor);this.initAnnot()},AB:function(a){var c,b=this.canvas[0].getBoundingClientRect();a.originalEvent&&a.originalEvent.touches&&(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0]);c=a.clientX;a=a.clientY;return{x:c-b.left,y:a-b.top}},kB:function(){this.ctx.setTransform(1,
0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},sL:function(){this.kB();this.drawBackground();this.freeHandAnnot.jM();this.Wu=this.yc=0},wB:function(){this.lp&&(this.yc++,this.visible&&(this.Wu++,this.visible=!1));this.lp=!1},drawBackground:function(){var a=window.utils.getCanvasMultiplier();this.ctx.scale(a,a);this.ctx.save();var c=2/3*this.ctx.canvas.height/a;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,
c);this.ctx.lineTo(this.ctx.canvas.width/a-10,c);this.ctx.stroke();this.ctx.fillStyle="#000";var b=i18n.t("signatureDialog.signHere");this.ctx.textAlign="center";this.ctx.textBaseline="top";this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(b,this.ctx.canvas.width/a/2,c-20);this.ctx.restore()},pB:function(){this.kB();this.drawBackground();var a=this.u.tc(0);this.freeHandAnnot.draw(this.ctx,a)},initAnnot:function(){var a=this.u.ec();this.freeHandAnnot=new Annotations.FreeHandAnnotation;
this.freeHandAnnot.Author=a.Hk();this.freeHandAnnot.StrokeColor=new Annotations.Color(0,0,0);this.freeHandAnnot.StrokeThickness=3;this.freeHandAnnot.Subject=i18n.t("annotations.types.signature")},$E:function(a){this.ex=a=$.extend(!0,[],a)},vK:function(a){this.$E(a);this.trigger("saveDefault",[a])},dO:function(){return this.ex?!0:!1},EP:function(){this.drawBackground()},CK:function(){var a=this.ex;if(a){for(var a=$.extend(!0,[],a),c=0;c<a.length;++c){for(var b=0;b<a[c].length;++b)a[c][b]=new Annotations.Point(a[c][b].x,
a[c][b].y);this.freeHandAnnot.setPath(a[c],c)}this.Wu=a.length;this.vC()}},vC:function(a){if(this.gF())return!1;a&&this.vK(this.freeHandAnnot.Kk());a=this.u.ec();var c=this.location.pageIndex+1;this.freeHandAnnot.PageNumber=c;this.freeHandAnnot.StrokeThickness=1;c=this.u.Me(c);c!==b.o.Qa.Dh&&this.freeHandAnnot.rotate(c*-Math.PI/2,this.location);var f=this.freeHandAnnot.Width,e=this.freeHandAnnot.Height,d,n;f>e?(c=this.location.x-this.si,d=this.location.y-e/f*this.si,n=this.location.x+this.si,e=this.location.y+
e/f*this.si):(c=this.location.x-f/e*this.si,d=this.location.y-this.si,n=this.location.x+f/e*this.si,e=this.location.y+this.si);f=this.u.getDocument().Vc(this.location.pageIndex);c=new Annotations.Rect(c,d,n,e);c.Us(new Annotations.Rect(0,0,f.width,f.height));this.freeHandAnnot.resize(c);a.Ag(this.freeHandAnnot);a.Xb(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();return!0},gF:function(){return 0===this.Wu},IR:function(a){var c=this;this.canvas=a;this.ctx=
a[0].getContext("2d");this.canvas.on("mousedown touchstart",function(a){if(1===a.which||0===a.which)a=c.AB(a),c.freeHandAnnot.ac(a.x,a.y,c.yc),c.pB(),c.lp=!0});this.canvas.on("touchmove",function(a){a.preventDefault()});this.canvas.on("mousemove touchmove",_.throttle(function(a){c.lp&&(a=c.AB(a),c.freeHandAnnot.ac(a.x,a.y,c.yc),c.pB(),c.visible=!0)},20));this.canvas.on("mouseup touchend",function(){c.wB()})},mouseLeftDown:function(c){c.preventDefault();a.Tool.prototype.mouseLeftDown.apply(this,arguments);
this.u.fa.Ed()},mouseLeftUp:function(c){c.preventDefault();a.Tool.prototype.mouseLeftUp.apply(this,arguments);var b=this.pageCoordinates[1];b&&(this.location=b,this.trigger("locationSelected",b))}};a.SignatureCreateTool.prototype=$.extend(new a.Tool,a.SignatureCreateTool.prototype,b.utils.eventHandler);a.fe=function(c,b){a.Rb.call(this,c);this.text=this.annotation=null;this.Gw=b;this.defaults={StrokeColor:new Annotations.Color(255,0,0)}};a.fe.AUTO_SET_TEXT=!0;a.fe.prototype=$.extend(new a.Rb,{switchIn:function(c){a.Rb.prototype.switchIn.call(this,
c);this.u.$d({annotMode:!0})},switchOut:function(c){a.Rb.prototype.switchOut.call(this,c);this.u.$d({annotMode:!1})},mouseLeftDown:function(c){a.Rb.prototype.mouseLeftDown.call(this,c);this.isSelecting()||this.annotation||!this.pageCoordinates||(c=this.u.fa,this.annotation=new this.Gw,this.annotation.Author=c.Hk(),c=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(c.R,c.G,c.B,c.A),this.trigger("annotationCreated",[this.annotation]))},textSelected:function(c,b,f){this.annotation&&
this.pageCoordinates[0].pageIndex===c&&0<b.length&&(this.annotation.Kz(b.map(function(a){return a.Lg()})),this.annotation.PageNumber=c+1,this.text=f,a.fe.AUTO_SET_TEXT&&this.annotation.In(this.text),this.u.fa.Xb(this.annotation))},mouseLeftUp:function(c){a.Rb.prototype.mouseLeftUp.call(this,c);!this.isSelecting()&&this.annotation&&(c=this.u.fa,!this.text||1>this.text.length?c.Am(this.annotation):(c.Ag(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null)}},
b.utils.eventHandler);a.Gv=function(c){a.fe.call(this,c,b.Annotations.ih);this.defaults.StrokeColor=new Annotations.Color(255,255,0)};a.Gv.prototype=new a.fe;a.Jv=function(c){a.fe.call(this,c,b.Annotations.Ul)};a.Jv.prototype=new a.fe;a.Iv=function(c){a.fe.call(this,c,b.Annotations.Tl)};a.Iv.prototype=$.extend(new a.fe,{mouseLeftUp:function(){a.fe.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()){var c=this.annotation,b=this.u.fa;c&&b.Lk(c)&&b.Xb(c)}}});a.Hv=function(c){a.fe.call(this,
c,b.Annotations.Sl)};a.Hv.prototype=new a.fe;a.Ev=function(a){f.call(this,a);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,255,0),Opacity:1};this.cursor="crosshair"};a.Ev.prototype=$.extend(new a.Tool,{switchIn:function(){d(this.u,this.cursor)},mouseLeftDown:function(a){if(!this.annotation){f.prototype.mouseLeftDown.call(this,a);var c=this.pageCoordinates[0];if(c){var b=this.u.fa;b.Ed();this.annotation=new Annotations.gh;var e=this.u.gc(this.pageCoordinates[0].pageIndex);
this.annotation.X=c.x-this.annotation.xa()/2/e;this.annotation.Y=c.y-this.annotation.va()/2/e;this.annotation.PageNumber=c.pageIndex+1;this.annotation.Author=b.Hk();c=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(c.R,c.G,c.B,c.A);this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation]);b.Ag(this.annotation);this.trigger("annotationAdded",[this.annotation]);b.Xb(this.annotation);this.annotation=null;a.preventDefault()}}}},b.utils.eventHandler);
a.wo=function(a){f.call(this,a);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,0,0),Opacity:1};this.cursor="crosshair"};a.wo.ACCEPTED_IMAGE_TYPES="image/*";a.wo.prototype=$.extend(new a.Tool,{switchIn:function(){d(this.u,this.cursor)},mouseLeftDown:function(c){if(!this.annotation){f.prototype.mouseLeftDown.call(this,c);this.u.ec().Ed();var b=this.pageCoordinates[0];if(b){var e=this.Ud(this.zb).pageIndex,d=document.createElement("input");d.setAttribute("type","file");d.setAttribute("accept",
a.wo.ACCEPTED_IMAGE_TYPES);d.setAttribute("display","none");d.onchange=function(){if(d.files&&d.files[0]){var a=new FileReader;a.onload=function(a){var c=this.u.fa;this.annotation=new Annotations.Tj;this.annotation.X=b.x;this.annotation.Y=b.y;this.annotation.PageNumber=b.pageIndex+1;this.annotation.Author=c.Hk();this.annotation.ImageData=a.target.result;var f=90*this.u.Me(this.annotation.PageNumber);this.annotation.Rotation=f;var g=new Image;g.onload=function(){var a=g.width,b=g.height;if(90===f||
270===f)var d=a,a=b,b=d;var l=a/b,d=this.u.md(e),k=this.u.ld(e),a=Math.min(a,d),b=Math.min(b,k);a/b!==l&&(b*l<a?a=b*l:b=a/l);this.annotation.Width=a;this.annotation.Height=b;this.annotation.X-=this.annotation.Width/2;this.annotation.Y-=this.annotation.Height/2;a=this.annotation.me();a.Us(new Annotations.Rect(0,0,d,k));this.annotation.resize(a);this.trigger("annotationCreated",[this.annotation]);c.Ag(this.annotation);this.trigger("annotationAdded",[this.annotation]);c.Xb(this.annotation);this.annotation=
null}.bind(this);g.src=a.target.result}.bind(this);a.readAsDataURL(d.files[0]);document.body.removeChild(d)}}.bind(this);document.body.appendChild(d);d.click()}}}},b.utils.eventHandler);a.Nl=function(c){a.Cb.call(this,c,b.Annotations.Ml);this.annotation=null;this.dl=!1};a.Nl.prototype=$.extend(new a.Cb,{mouseLeftDown:function(c){var b;a.Cb.prototype.mouseLeftDown.call(this,c);!this.isSelecting()&&this.annotation&&((b=c.data.pageCoordinate,b&&b.pageIndex===this.annotation.Ib())?null!==b.x&&null!==
b.y&&(0===this.annotation.ka.length?this.annotation.ac(b.x,b.y):this.dl||(this.annotation.vn(),this.annotation.ac(b.x,b.y)),this.dl=!0):this.mouseDoubleClick(c))},mouseLeftUp:function(c){a.AnnotationSelectTool.prototype.mouseLeftUp.call(this,c)},mouseMove:function(c){a.AnnotationSelectTool.prototype.mouseMove.call(this,c);if(this.annotation&&!this.isSelecting()&&c.data&&(c=c.data.pageCoordinate,null!==c&&null!==c.x&&null!==c.y&&c.pageIndex===this.annotation.Ib())){this.dl||this.annotation.vn();var b=
this.annotation.getPath();0===b.length?(this.annotation.ac(c.x,c.y),this.dl=!1):0<b.length&&(b[b.length-1].x!==c.x||b[b.length-1].y!==c.y)&&(this.annotation.ac(c.x,c.y),this.dl=!1);this.annotation.X=this.annotation.Wa.x;this.annotation.Y=this.annotation.Wa.y;this.u.fa.Xb(this.annotation)}},mouseDoubleClick:function(){this.annotation&&(this.annotation.finish(),this.finish())},Wt:function(a){this.annotation&&this.mouseDoubleClick(a)},contextMenu:function(a){a.preventDefault()},tap:function(){}});a.Kj=
function(c){a.Cb.call(this,c,b.Annotations.ri);this.annotation=null;this.dl=!1};a.Kj.prototype={};a.Kj.prototype=$.extend(new a.Nl,a.Kj.prototype);a.vo=function(c){a.Cb.call(this,c,b.Annotations.ri);this.annotation=null;this.dl=!1};a.vo.prototype={mouseLeftDown:function(){a.Kj.prototype.mouseLeftDown.apply(this,arguments);this.annotation&&(this.annotation.Style="cloudy",this.annotation.Intent="PolygonCloud")}};a.vo.prototype=$.extend(new a.Kj,a.vo.prototype);a.yl=function(c){a.Cb.call(this,c,b.Annotations.Ma,
Annotations.Ma.Pc.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};a.yl.LineCount=2;a.yl.prototype={};$.extend(a.yl.prototype,a.Nl.prototype,{mouseLeftDown:function(c){a.Nl.prototype.mouseLeftDown.call(this,c);if(null!==this.annotation&&(this.annotation.CalloutLineCount=a.yl.LineCount,this.annotation.getPath().length>=this.annotation.CalloutLineCount+1)){this.annotation.getPath().length>this.annotation.CalloutLineCount+1&&this.annotation.vn();var b=
this.annotation.getPath()[this.annotation.CalloutLineCount],f=90*this.u.Me(this.annotation.PageNumber),e=this.u.md(this.annotation.Ib()),d=this.u.ld(this.annotation.Ib());b.x+150>e&&(b.x-=150);b.y+15>d?b.y-=15:0>b.y-15&&(b.y+=15);90===f||270===f?(this.annotation.ac(b.x-15,b.y),this.annotation.ac(b.x+15,b.y+150)):(this.annotation.ac(b.x,b.y-15),this.annotation.ac(b.x+150,b.y+15));this.annotation.Rotation=f;b=this.defaults.TextColor;this.annotation.TextColor=new Annotations.Color(b.R,b.G,b.B,b.A);this.annotation.FontSize=
this.defaults.FontSize;this.u.fa.Xb(this.annotation);this.finish();c.preventDefault()}},mouseDoubleClick:function(c){this.annotation||a.Tool.prototype.mouseDoubleClick.call(this,c)},Wt:function(){if(null!==this.annotation){var a=this.annotation.uc();this.annotation=null;this.u.fa.jd(a)}},contextMenu:function(a){a.preventDefault()}});a.uv=function(c){a.Cb.call(this,c,b.Annotations.Ma);this.defaults.StrokeThickness=0;this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};
a.uv.prototype=$.extend(new a.Cb,{initialText:"Insert text here",Ey:function(){return this.u.ec().mE().zt},mouseLeftDown:function(c){var b=0<this.u.ec().pe().length;a.Cb.prototype.mouseLeftDown.call(this,c);this.isSelecting()||(this.Ey()||b?this.annotation=null:this.annotation&&(this.annotation.StrokeThickness=Math.max(this.annotation.StrokeThickness,1),this.annotation.FillColor=new Annotations.Color(200,220,250,.2),this.annotation.Jn(Annotations.Ma.Pc.FreeText),this.annotation.In(this.initialText),
this.annotation.Rotation=90*this.u.Me(this.annotation.PageNumber),c=this.defaults.TextColor,this.annotation.TextColor=new Annotations.Color(c.R,c.G,c.B,c.A),this.annotation.FontSize=this.defaults.FontSize))},mouseMove:function(c){a.AnnotationSelectTool.prototype.mouseMove.call(this,c);if(!this.isSelecting()&&!this.Ey()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){c=this.pageCoordinates[0];var b=this.pageCoordinates[1];null!==b&&null!==c&&c.pageIndex===b.pageIndex&&(c=new Annotations.Rect(c.x,
c.y,b.x,b.y),c.normalize(),this.annotation.uj(c),this.annotation.Ln(new Annotations.Rect(0,0,0,0)),this.u.fa.Xb(this.annotation))}},mouseLeftUp:function(c){a.AnnotationSelectTool.prototype.mouseLeftUp.call(this,c);if(!this.isSelecting()){if(this.u.ec().Km(c)&&this.annotation){c=this.annotation.xa();var b=this.annotation.va(),f=2*(this.annotation.getRectPadding()+1);if(c<=f||b<=f){this.annotation=null;return}}if(this.Ey())this.annotation=null;else if(this.annotation){c=this.annotation.xa();b=this.annotation.va();
f=2*(this.annotation.getRectPadding()+1);if(c<=f||b<=f)b=Number(this.annotation.FontSize.split("pt")[0]),c=10*b,b*=5,0!==this.annotation.Rotation%180&&(f=c,c=b,b=f),this.annotation.hH(c),this.annotation.sq(b);this.annotation.StrokeThickness=this.defaults.StrokeThickness;c=this.defaults.FillColor;this.annotation.FillColor=new Annotations.Color(c.R,c.G,c.B,c.A);c=this.annotation.getRectPadding();this.annotation.Ln(new Annotations.Rect(c,c,c,c));this.u.fa.Xb(this.annotation);this.u.fa.Ag(this.annotation);
this.trigger("annotationAdded",[this.annotation]);this.annotation=null}}}})})(window);
(function(b){function d(a){var c=this;this.Bg=a;this.zt=!1;this.onEditBoxAnnotationChanged=function(a,b,e){for(var d=0;d<b.length;++d){var m=b[d];"add"===e&&c.RE(m)?(c.BO(m),a.imported||(c.SD(m),m.Md.select())):"delete"===e&&m.Md&&(m.Md.remove(),delete m.Md)}};this.onEditBoxAnnotationDoubleClicked=function(a,b){c.Bg.GC(b)&&c.RE(b)&&(c.zt&&b.Md.val()!==b.Gk()&&c.Bg.Iz(b,b.Md.val()),c.SD(b))};this.Bg.on("annotationChanged.editbox",this.onEditBoxAnnotationChanged);this.Bg.on("annotationDoubleClicked.editbox",
this.onEditBoxAnnotationDoubleClicked)}function e(a){this.Bg=a;this.kl=[]}var c=window.o;c.ia=function(a){if(!a)throw Error("AnnotationManager requires DocumentViewer to initialize");var c=this;c.Gs="";c.By=!1;c.readOnly=!1;c.EF=!1;c.MU=!1;c.mC=!0;c.u=a;c.xg=new e(c);c.rB=new d(c);c.qk=new b.o.FJ(c);c.init();c.Fg=new b.Annotations.O.El(this);a.on("contentRemoved.annotManager",function(){c.fd.forEach(function(a){a.trigger("contentRemoved")})});a.on("documentLoaded",function(){c.eM()});c.EU={};c.Li=
{line:[Annotations.ee],circle:[Annotations.Al],square:[Annotations.Oj],freetext:[Annotations.Ma],stamp:[Annotations.Tj],text:[Annotations.gh],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.Ml],polygon:[Annotations.ri],strikeout:[Annotations.Tl],highlight:[Annotations.ih],redact:[Annotations.gr],underline:[Annotations.Ul],squiggly:[Annotations.Sl],caret:[Annotations.eo],widget:[Annotations.Xj,Annotations.mg,Annotations.ni,Annotations.Mj,Annotations.ki,Annotations.Nj,Annotations.Sj],link:[Annotations.ed]};
c.controlPointSize=8;c.controlPointHitBoxScale=1;c.on("annotationChanged",function(a,b,e,d){if(!(d||a.cV||!b||0===b.length||1<b.length)){var m=b[0],n=c.u.getDocument(),p=m.Ib();if(-1!==p&&c.u.ln&&0!==c.u.Vh.length&&m.xj())if(c.u.Vh[c.u.Vh.length-1][0]!==p)c.u.ln=null,c.u.Vh=[];else{var q=c.u.Vh.pop(),u=function(){if(m&&q&&c.u.ln){var a=c.u.getDocument();a===n&&c.Yi(m.rT)&&(a=new XODText.ti(a),c.u.ln.apply(a,q),m.TextIndices=a.Nr,m.SurroundingTexts=a.Or,m.rb(!0),c.trigger("annotationChanged",[[m],
"modify",!0]))}};n.dc().then(function(){var a=c.u.getDocument();if(a===n){var b=Annotations.eb.qD(p,a.Hb());a.Sp(b).then(u)}})}}})};c.ia.prototype={init:function(){this.fd=[];this.ix=[];this.Uo=[];this.Is={};this.xg.Ed();this.NH=!1;this.Ax=""},eM:function(){this.Bm=!1},Hk:function(){return this.Gs},Ez:function(a){this.Gs=a;this.trigger("updateAnnotationPermission")},dN:function(){return this.By},gR:function(a){this.By=a;this.trigger("updateAnnotationPermission")},GE:function(){return this.readOnly},
AR:function(a){this.readOnly=a;this.trigger("updateAnnotationPermission")},Tm:function(){return this.EF},Hz:function(a){this.EF=a},vt:function(){return this.NH},Mz:function(a){this.NH=a},fJ:function(a){this.jd(a)},KS:function(){return this.mC},YL:function(){this.mC=!1;this.rB.disable()},yR:function(a){this.gD=a},HC:function(a){return(this.gD?this.gD(a.Author,a):this.By||a.Author===this.Gs||null===a.Author||"undefined"===typeof a.Author)&&!this.readOnly&&!a.ReadOnly},Bd:function(a){return this.HC(a)&&
!a.Locked},GC:function(a){return this.HC(a)&&!a.LockedContents},KR:function(a){this.vH=a},Jk:function(){return this.Fg},uG:function(a){a=a.map(Number);var c=[];this.fd=this.fd.filter(function(b){return-1!==a.indexOf(b.PageNumber)&&b.Ay?(c.push(b),b.Uu(),!1):!0});if(0<c.length){var b=this;setTimeout(function(){b.trigger("annotationChanged",[c,"delete"])},0)}},mQ:function(a){var c=this;c.u.Xm().nz("AnnotationManager.layoutChanged",{read:function(){},consolidateChanges:function(a){var c=a.filter(function(a){return"layoutChanged"===
a.type});a=a.filter(function(a){return"pageDiff"===a.type});var b=[];if(c.length){var f=[],e={},d={};c.forEach(function(a){a.removed.forEach(function(a){var c=d[a];_.isUndefined(c)?f.push(a):f.push(c)});var c=Object.keys(a.moved),b;c.length&&(b=$.extend({},d),c.forEach(function(c){var f=a.moved[c];if(_.isUndefined(b[c]))e[c]=f,d[f]=c;else{var g=b[c];e[g]=f;delete d[c];d[f]=g}}))});b.push({type:"layoutChanged",removed:f,moved:e})}if(a.length){var p=a.reduce(function(a,c){c.diffs.forEach(function(c){var b=
c.before;c=c.after;a[b.id]?a[b.id].after=c:a[b.id]={before:b,after:c}});return a},{});b.push({type:"pageDiff",diffs:Object.keys(p).map(function(a){return p[a]})})}return b},write:function(a,b){b.forEach(function(a){if("layoutChanged"===a.type)c.uG(a.removed),c.fd.forEach(function(c){var b=a.moved[c.PageNumber];b&&(c.PageNumber=b)});else if("pageDiff"===a.type){var b={};c.fd.forEach(function(a){var c=a.uc();c in b?b[c].push(a):b[c]=[a]});a.diffs.forEach(function(a){var c=a.before;a=a.after;var f=b[a.pageNum];
if(f){var e=new XODText.Da;e.hn(a.matrix);e.concat(c.sb.inverse());f.forEach(function(a){var c=a.IsModified,b=a.me(),f={x:b.x1,y:b.y1},d={x:b.x2,y:b.y2},f=e.aa(f),d=e.aa(d);a.uj({x1:f.x,y1:f.y,x2:d.x,y2:d.y});c||b.x1!==f.x||b.x2!==d.x||b.y1!==f.y||b.y2!==d.y||(a.IsModified=c)})}})}})}});a.on("layoutChanged",function(a,b){c.u.Xm().qf("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:b.removed,moved:b.moved})});a.on("pageDiff",function(a,b){c.u.Xm().qf("AnnotationManager.layoutChanged",
{type:"pageDiff",diffs:b})});a.on("pageContentChanged",function(a,b){c.u.Xm().qf("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:b,moved:{}})})},jd:function(a,c,e,d){var h=!1,k=a-1;if(isNaN(k))throw Error("Invalid page index given");var m=!!c,n=c||this.u.$i(k);if(n){var p=n.getContext("2d"),q=90*this.u.Me(k+1),u=this.u.tc(a-1);if(!m){var q=this.u.sp(k+1),r=this.u.Tx(k),v=r.width,r=r.height;if(90===q||270===q)var w=v,v=r,r=w;b.o.La.Rw(n,v,r)}d=d||b.o.La.oy(k);v=[];for(r=0;r<this.fd.length;r++)if(w=
this.fd[r],!(w.Ib()!==k||this.Tm()&&w.Listable))if(this.vt()&&-1===w.Author.indexOf(this.Ax))!1===w.bm&&(h=!0),w.bm=!0;else{!0===w.bm&&(h=!0);w.bm=!1;v.push(w);p.save();if(!0===w.NoZoom&&(p.translate(w.an(),w.bn()),!m)){var z=this.u.gc(w.Ib());p.scale(1/z,1/z);z=this.u.oe(a);0<z&&(3===z?p.translate(w.xa(),0):2===z?p.translate(w.xa(),w.va()):1===z&&p.translate(0,w.va()),p.rotate(-1*z*Math.PI/2))}p.save();if(w.AQ()){if(this.u.Os||w.iF())(m?w.Printable&&w.Tk():w.Tk())?(e&&(z=m?1:this.u.gc(a-1)/b.utils.getCanvasMultiplier(),
w.render(d,this,z,m)),w.draw(p,u,q)):m||w.Uu()}else w.off("resourcesLoaded.annotManager").on("resourcesLoaded.annotManager",this.GN(w,a,c));p.restore();if(!m)if("undefined"!==typeof w.selectionModel){if(this.Ok(w)&&w.Tk()){var z=new w.selectionModel(w,this.Bd(w)),D=this.u.gc(w.Ib());!0===w.NoZoom&&(p.translate(-w.an(),-w.bn()),D=1);z.draw(p,w,D,u)}}else(w=this.xg.ZU(w))&&w.draw(p);p.restore()}h&&this.trigger("annotationFiltered",[this.fd]);m||this.u.Hp(k,n)}},GN:function(a,c,b){var e=this;return function(){e.jd(c,
b);a.off("resourcesLoaded")}},Xb:function(a){var c=a.Ib();this.fJ(a.PageNumber);if(!this.Lk(a)){var b=this.u.$i(c);b&&(b=b.getContext("2d"),b.save(),c=this.u.tc(c),a.draw(b,c),b.restore())}},CR:function(a){this.Xb=_.throttle(c.ia.prototype.Xb.bind(this),a)},$O:function(a){this.u.pF(a.uc()-1,[{x4:a.Rm(),y4:a.Ym(),x2:a.IE(),y2:a.bE()}])},nO:function(a){this.WE([a])},WE:function(a){0!==a.length&&(a.forEach(function(a){a.Hidden=!0}),this.Ed(),this.Dm(a),this.trigger("annotationHidden",[a,!0]))},WR:function(a){this.oH([a])},
oH:function(a){a.forEach(function(a){a.Hidden=!1});this.Dm(a);this.trigger("annotationHidden",[a,!1])},vM:function(a){if(""===a){if(!this.vt())return;this.Mz(!1);this.Ax=""}else this.Mz(!0),this.Ax=a;a=this.u.da.Wd();for(var c=0;c<a.length;c++)this.jd(a[c]+1)},rS:function(){this.Tm()?this.Hz(!1):this.Hz(!0);for(var a=this.u.da.Wd(),c=0;c<a.length;c++)this.jd(a[c]+1),this.u.Hp(a[c]);this.trigger("annotationToggled",[this.Tm(),this.fd,this.vt()])},Lk:function(a){return-1<this.fd.indexOf(a)},Iz:function(a,
c){a.In(c);this.trigger("annotationChanged",[[a],"modify"])},Ag:function(a,c){this.Ji([a],c)},Ji:function(a,c){for(var b=0;b<a.length;++b){var e=a[b];0>=e.PageNumber&&console.warn("Invalid annotation PageNumber: "+e.PageNumber);this.fd.push(e);this.iH(e)}b=$.Event("annotationChanged");b.imported=c;this.trigger(b,[a,"add"])},xS:function(a,c){this.iH(a);if(a.Mh()){var b=this.Ep(a);this.trigger("setNoteText",[a,b])}else this.trigger("setNoteText",a);b=$.Event("annotationChanged");b.imported=c;this.trigger(b,
[[a],"modify"])},iH:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}a.Id||(a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c());a.uf&&a.uf(this.u);a.ij()&&a.Ab(a.yb().value)},Rz:function(a){function c(a,b){return b.DateCreated-a.DateCreated}var b=[],e;for(e=0;e<a.length;++e){var d=a[e];if(d instanceof Annotations.Annotation)if(d.Mh()){var k=this.Yi(d.InReplyTo);k&&k.Dw(d)}else b.push(d)}for(e=0;e<b.length;++e)if(a=b[e],0!==a.mt().length)for(d=[],d.push({Ki:a,
lx:null});0<d.length;){var m=d.pop(),k=m.Ki;null!==m.lx&&this.trigger("addReply",[k,m.lx,a]);for(var m=k.mt().sort(c),n=0;n<m.length;++n)d.push({Ki:m[n],lx:k})}},SR:function(a){if(a.Mh()){var c=this.Yi(a.InReplyTo);c&&(c.Dw(a),this.trigger("addReply",[a,c,this.Ep(a)]))}},Ep:function(a){for(;null!==a&&a.Mh();)a=this.Yi(a.InReplyTo);return a},CL:function(a,c){var b=new Annotations.gh;b.InReplyTo=a.Id;b.X=a.X;b.Y=a.Y;b.PageNumber=a.PageNumber;b.Author=this.Hk();b.In(c||"");a.Dw(b);this.Ag(b);this.trigger("addReply",
[b,a,this.Ep(a)]);return b},measureText:function(a,c){var b=$("#text-width-tester");a=a.split("\n").join("<br>&nbsp;");b.length?b.css({font:c}).html(a):(b=$('<span id="text-width-tester" style="display:none;font:'+c+';">'+a+"</span>"),$("body").append(b));return{width:b.width(),height:b.height()}},wS:function(a){this.Lk(a)&&this.jd(a.uc())},Am:function(a,c,b){this.gx([a],c,b)},gx:function(a,c,b){var e=this,d={};if(!c&&this.GE())this.u.trigger("notify","readOnlyDelete");else{var k=[],m=!1;a=a.slice();
for(var n=0;n<a.length;n++){var p=a[n];p.Uu();if(this.Lk(p))if(b||c||this.Bd(p)){this.xg.hp(p);this.trigger("annotationSelected",[[p],"deselected"]);var q=this.fd.splice(this.fd.indexOf(p),1);k.push(q[0]);p.IsAdded||c||this.ix.push(q[0]);p.Mh()&&(p.SE&&(q=this.Ep(p),this.trigger("deleteReply",[p,q])),this.Yi(p.InReplyTo).RL(p));p.mt().forEach(function(a){e.trigger("setNoteText",[a]);a.InReplyTo=null;e.Rz([a])});d[p.uc()]=!0}else m=!0;else d[p.uc()]=!0}0<k.length&&(b=$.Event("annotationChanged"),b.imported=
c,this.trigger(b,[k,"delete"]));m&&this.u.trigger("notify","permissionDelete");$.each(d,function(a){e.jd(a)})}},AS:function(){if(!this.readOnly){this.Uo=[];for(var a=this.pe(),c=0;c<a.length;c++)if(!(a[c]instanceof Annotations.Eb)){var b=this.Gx(a[c]);this.Uo.push(b)}this.or=0}},QP:function(){if(!this.readOnly&&"undefined"!==typeof this.or){this.or++;for(var a=[],c=0;c<this.Uo.length;c++){var b=this.Gx(this.Uo[c]);a.push(b);var e=this.u.Mm(),d=this.u.v.md(e-1),k=this.u.v.ld(e-1),d=new Annotations.Rect(0,
0,d,k),k=b.me();b.uc()===e?k.translate(5*this.or,5*this.or):b.ZG(e);k.Us(d);b.resize(k)}this.Ji(a);this.Uo=a;this.Ed();this.yz(a)}},Gx:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var b=this.CN(a);if(null===b)return null;var e=a.Ib(),e=this.u.tc(e),d=e.inverse(),k=document.createElementNS("",a.elementName),k=a.serialize(k,d);a=new b;a.deserialize(k,e,this);a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c();a.Author=this.Gs;a.DateCreated=new Date;a.DateModified=
new Date;a.IsAdded=!0;a.IsModified=!1;$(a).data("popup",null);return a},FM:function(a){return a.oT()},Ok:function(a){return this.xg.AC(a)},En:function(a){a.Listable&&this.Lk(a)&&(this.xg.En(a),this.jd(a.uc()),this.trigger("annotationSelected",[[a],"selected"]))},yz:function(a){var c=[],b={};if(a&&$.isArray(a)){for(var e=0;e<a.length;e++){var d=a[e];d.Listable&&this.Lk(d)&&(this.xg.En(d),b[d.uc()]=d.uc(),c.push(d))}var k=this;$.each(b,function(a){k.jd(a)})}0<c.length&&this.trigger("annotationSelected",
[c,"selected"])},Ed:function(){if(0!==this.pe().length){this.xg.Ed();for(var a=this.u.da.Wd(),c=0;c<a.length;c++)this.jd(a[c]+1);this.trigger("annotationSelected",[null,"deselected"])}},hp:function(a){this.xg.hp(a);this.jd(a.uc());this.trigger("annotationSelected",[[a],"deselected"])},pe:function(){return this.xg.pe()},Zi:function(){return this.fd},Yi:function(a,c){c=c||this.fd;if(_.isUndefined(a)||_.isNull(a))return null;for(var b=0;b<c.length;b++)if(c[b].Id===a)return c[b];return null},$D:function(a,
c,b){b=b||this.fd;if(_.isUndefined(a)||_.isNull(a))return[];for(var e=[],d=0;d<b.length;d++)b[d].Id===a&&e.push(b[d]);return _.isUndefined(c)?e:e.filter(function(a){return a.PageNumber-1===c})},Km:function(a){a=this.aE(a);return 0<a.length?a[0]:null},aE:function(a){var c=new window.ja.Tool(this.u);a=c.Ud({x:c.Qf(a).x,y:c.Qf(a).y});c=[];if(null!==a)for(var b=this.Zi(),e=new Annotations.Rect(a.x,a.y,a.x,a.y),d=b.length-1;0<=d;d--){var k=b[d];if(k.selectionModel&&k.Tk()&&!this.Tm()&&k.uc()-1===a.pageIndex&&
(window.utils.isRectIntersecting(k.me(),e)||k instanceof Annotations.gh)){var m=this.u.gc(k.Ib()),n=this.u.tc(k.Ib()),p=this.Ok(k),q=new k.selectionModel(k,this.Bd(k),p);q.testSelection(k,a.x,a.y,n,m)?c.push(k):p&&q.vq(k,m,a.x,a.y)&&c.push(k)}}return c},hE:function(a,c){return this.xg.hE(a,c)},LD:function(a){return this.qk.tJ(a)},Zs:function(){return this.qk.Zs()},tO:function(a,c){var e=b.Annotations.ba.xt(a),e=this.qk.zI(e,c&&c.Ay);this.Rz(e);return e},uy:function(a,c,e){c=c||function(){};var d=
this;a=b.Annotations.ba.xt(a);e=$.extend({Qk:function(){return d.Bm},batchSize:25,batchDelay:0},e);this.qk.AI(a,function(a){d.Bm?c([]):(a=a.tk,d.Rz(a),d.u.Xm().qf("DocumentViewer.renderRequest",{type:"annotations",pages:_.uniq(a.map(function(a){return a.uc()-1}))}),c(a))},e)},gn:function(a){a=b.Annotations.ba.xt(a);a=this.qk.gn(a);var c=[];a.ks&&(c=c.concat(a.ks),0<a.ks.length&&this.SR(a.ks[0]));a.nD&&(c=c.concat(a.nD));a.FF&&(c=c.concat(a.FF));return c},Dm:function(a){a=_.uniq(a.map(function(a){return a.PageNumber}));
for(var c=0;c<a.length;c++)this.jd(a[c],void 0,!0)},Sc:function(){this.Zi().forEach(function(a){a.off();a.Md&&a.Md.off();a.innerElement&&a.innerElement.off();a.element&&a.element.off()});this.init();this.Bm=!0;this.Fg.Sc();return Promise.resolve()},lQ:function(a,c){if("string"!==typeof a||!c)return!1;"undefined"===typeof this.Li[a]&&(this.Li[a]=[]);this.Li[a].push(c);return!0},TL:function(a,c){if("string"!==typeof a||!c)return!1;this.Li[a]=$.grep(this.Li[a],function(a){return a!==c});return!0},DN:function(){return this.Li},
CN:function(a){if(!a||!a.elementName)return null;var c=this.Li[a.elementName];if(c&&0<c.length)for(var b=0;b<c.length;b++){var e=c[b];if(a instanceof e)return e}return null},eP:function(a){var c=this.Is[a];if(c){var b=c.length;a=this.u.tc(a);for(var e=[],d=0;d<b;++d){var k=c[d].Ki,m=c[d].data;k.isImporting=!0;k.deserialize(m,a,this);k.isImporting=!1;k.IsAdded=!1;k.IsModified=!1;e.push(k)}this.Ji(e,!0);this.Dm(e)}},mE:function(){return this.rB}};$.extend(c.ia.prototype,b.utils.eventHandler);e.prototype=
{En:function(a){this.AC(a)||this.kl.push(a)},hp:function(a){this.kl=$.grep(this.kl,function(c){return c!==a})},Ed:function(){this.kl=[]},AC:function(a){for(var c=0;c<this.kl.length;c++)if(a===this.kl[c])return!0;return!1},pe:function(){return this.kl.slice()}};d.prototype={disable:function(){this.Bg.off("annotationChanged.editbox");this.Bg.off("annotationDoubleClicked.editbox")},RE:function(a){return a instanceof Annotations.Ma},BO:function(a){var c=this.Bg,b=this;a.Md=$('<textarea class="freetext">');
a.Md.on("blur",function(){b.zt=!1;c.Iz(a,a.Md.val());a.Md.hide();c.Dm([a])});a.Md.on("touchstart touchmove touchend mousedown mousemove mouseup",function(a){a.stopPropagation()})},SD:function(a){this.zt=!0;var c=a.Ib();b.o.La.oy(c).append(a.Md);var e=this.Bg.u.tc(c),d=Annotations.eb.ps(e,parseFloat(a.FontSize)||12),h=a.Px(),c=this.Bg.u.gc(c)/b.utils.getCanvasMultiplier(),d=d*c*.75+h,e=a.Xi(e)*c,k=a.getPath().slice(-2),h=k[0].x*c,m=Math.min(k[0].y,k[1].y)*c,n=Math.abs(k[1].x-k[0].x)*c,k=Math.abs(k[1].y-
k[0].y)*c,p=360-a.Rotation;if(90===p||270===p)var q=n,n=k,k=q;var u=q=0;switch((360-p)%360){case 90:u=n;break;case 180:q=n;u=k;break;case 270:q=k}q="translate("+q+"px,"+u+"px) rotate("+p+"deg)";p=Math.abs(p%360/90);p===b.o.Qa.Dh?(h+=e,m+=e):p===b.o.Qa.Le?(h-=e,m+=e):p===b.o.Qa.jp?(h-=e,m-=e):p===b.o.Qa.Nf&&(h+=e,m-=e);p=1>a.FillColor.A?new Annotations.Color(255,255,255):a.FillColor;a.Md.css({top:m,left:h,width:n-2*e,height:k-2*e,font:d+" "+a.Font,color:a.TextColor.toString(),background:p.toString(),
transform:q,"transform-origin":"top left","line-height":b.utils.ie?1:"normal","padding-top":b.utils.ie?Math.max(1,1+1.5*(c-1)):0});a.Md.val(a.Gk()||"");this.XR(a)},XR:function(a){a.Md.show().focus()}}})(window);
(function(b){b.Qd={DF:function(b,e,c,a){return null===b||null===e||null===c||null===a?null:{x1:b,y1:e,x2:b+c,y2:e+a}},OV:function(b,e){if(!e||!b)return!1;var c,a;"undefined"!==typeof e.x1&&"undefined"!==typeof e.y1&&"undefined"!==typeof e.x2&&"undefined"!==typeof e.y2||console.warn("rect points are undefined");c=b.x>=e.x1&&b.x<=e.x2;a=b.y>=e.y1&&b.y<=e.y2;return c&&a},hQ:function(b,e){return b&&e?b.x1<=e.x2&&b.x2>=e.x1&&b.y1<=e.y2&&b.y2>=e.y1?!0:!1:!1},IV:function(b,e,c,a,f){b=f.aa(new XODText.vd(b,
e));c=f.aa(new XODText.vd(c,a));return{x:Math.min(b.x,c.x),y:Math.min(b.y,c.y),w:Math.abs(b.x-c.x),Uf:Math.abs(b.y-c.y)}},Math:{cP:function(b,e,c,a){function f(a,c,b){return(b.y-a.y)*(c.x-a.x)>(c.y-a.y)*(b.x-a.x)}return f(b,c,a)!==f(e,c,a)&&f(b,e,c)!==f(b,e,a)},DM:function(b,e){var c=Math.atan(Math.abs(b.y-e.y)/Math.abs(b.x-e.x));e.x<b.x&&e.y>b.y?c=Math.PI-c:e.x<=b.x&&e.y<b.y?(c=Math.PI-c,c*=-1):e.x>=b.x&&e.y<b.y&&(c*=-1);0===c&&b.x>e.x&&(c=Math.PI);return c},EQ:function(b,e,c){c=c||{x:0,y:0};var a=
b.x-c.x;b=b.y-c.y;return{x:Math.cos(e)*a-Math.sin(e)*b+c.x,y:Math.sin(e)*a+Math.cos(e)*b+c.y}},NC:function(b,e,c){c=void 0!==c?c:Infinity;e=void 0!==e?e:-Infinity;return Math.max(Math.min(b,c),e)},EM:function(b,e){return Math.atan2(e,b)},yN:function(b){if(!(3>b.length)){for(var e=b[0],c=0,a=1;a<b.length;a++)var f=b[a],c=c+(f.x-e.x)*(f.y+e.y),e=f;return 0<=c?1:-1}},vL:function(b){for(var e=[],c=0;c<b.length;c++)e.push({x:b[c].x,y:b[c].y});return e},gG:function(b){var e=Math.abs(b[b.length-1].y-b[0].y);
return 1.2358E-4<Math.abs(b[b.length-1].x-b[0].x)||1.2358E-4<e?!0:!1},jl:function(b){var e=Math.cos(b);b=Math.sin(b);return{m_a:e,m_b:-b,m_c:b,m_d:e,m_h:0,m_v:0}},translate:function(b,e,c){b.m_h+=e;b.m_v+=c;return b},aa:function(b,e,c){return{x:e*b.m_a+c*b.m_c+b.m_h,y:e*b.m_b+c*b.m_d+b.m_v}},UK:function(b,e,c,a,f,g,l,h,k,m,n){0>f&&(f=-f);0>g&&(g=-g);var p=(b-m)/2,q=(e-n)/2,u=Math.cos(l),r=Math.sin(l),v=u*p+r*q,p=-r*p+u*q,q=f*f,w=g*g,z=v*v,D=p*p,A=z/q+D/w;1<A&&(f*=Math.sqrt(A),g*=Math.sqrt(A),q=f*
f,w=g*g);if(A=q*D+w*z){q=(q*w-q*D-w*z)/A;h=(h===k?-1:1)*Math.sqrt(0>q?0:q);w=f*p/g*h;z=h*-(g*v/f);h=(b+m)/2+(u*w-r*z);u=(e+n)/2+(r*w+u*z);r=(v-w)/f;q=(p-z)/g;w=(-v-w)/f;p=(-p-z)/g;z=Math.sqrt(r*r+q*q);v=(0>q?-1:1)*Math.acos(r/z);z=Math.sqrt((r*r+q*q)*(w*w+p*p));q=(0>r*p-q*w?-1:1)*Math.acos(Math.max(Math.min((r*w+q*p)/z,1),-1));!k&&0<q?q-=2*Math.PI:k&&0>q&&(q+=2*Math.PI);p=[];r=!1;if(1E-9>Math.abs(q))k=4,r=!0,p[0]=f*Math.cos(v),p[1]=g*Math.sin(v),p[2]=f*Math.cos(v+q),p[3]=g*Math.sin(v+q);else{w=0;
k=2;D=!1;do{0>q?(A=w,z=.5*-Math.PI,w-=.5*Math.PI,w<=q+.01&&(z=q-A,D=!0)):(A=w,z=.5*Math.PI,w+=.5*Math.PI,w>=q-.01&&(z=q-A,D=!0));var x=Math.cos(z/2),y=Math.sin(z/2),E=4*(1-x)/3,F=y-E*x/y,A=[],B=[];A[0]=x;B[0]=-y;A[1]=x+E;B[1]=-F;A[2]=x+E;B[2]=F;A[3]=x;B[3]=y;x=Math.sin(v+z/2);y=Math.cos(v+z/2);for(E=0;4>E;E++)p[k-2+2*E]=f*(A[E]*y-B[E]*x),p[k-1+2*E]=g*(A[E]*x+B[E]*y);k+=6;v+=z}while(!D&&26>k)}f=this.jl(-l);this.translate(f,h,u);for(g=2;g<k-2;g+=2)l=void 0===p[g]?this.aa(f,0,0):this.aa(f,p[g],p[g+1]),
p[g]=l.x,p[g+1]=l.y;p[0]=b;p[1]=e;2<k&&(p[k-2]=m,p[k-1]=n);if(r)a.push("l"),a.push("l"),c.push(p[0]),c.push(p[1]),c.push(p[2]),c.push(p[3]);else for(a.push("l"),c.push(p[0]),c.push(p[1]),b=2;b<k;b+=6)a.push("c"),c.push(p[b]),c.push(p[b+1]),c.push(p[b+2]),c.push(p[b+3]),c.push(p[b+4]),c.push(p[b+5])}},IL:function(b,e){return b.x*e.y-b.y*e.x},BV:function(b){return 1E4*(b+2*Math.PI)%2*Math.PI*1E4/1E4}}}})(window);
(function(b){function d(a){if(!a)throw Error("XfdfManager requires AnnotationManager to initialize");this.Fc=a;this.Rh=null}function e(a,c){this.jA=a;this.Rs=c||function(){return!0}}String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();e.prototype.cq=function(a,b,e){a=this.jA;a.writeStartElement("field");a.writeAttributeString("name",c.escape(b));b=e.value;_.isNull(b)||(a.writeStartElement("value"),a.writeString(c.escape(b)),
a.writeEndElement());a.writeEndElement()};e.prototype.du=function(a,b,e){a=c.escape(b);b=this.jA;e.value&&(b.writeStartElement("field"),b.writeAttributeString("name",a),b.writeStartElement("value"),b.writeString(c.escape(e.value)),b.writeEndElement(),b.writeEndElement());b.writeStartElement("field");b.writeAttributeString("name",a)};e.prototype.Wy=function(){this.jA.writeEndElement()};d.prototype={EC:function(a){return a&&0<a.getElementsByTagName("annots").length?(c.oE(a,"link"),c.oE(a,"widget"),
a.getElementsByTagName("annots")[0].childNodes):[]},Mx:function(a){return a?a.querySelector("xfdf > fields"):null},zE:function(a){return a&&(a=a.getElementsByTagName("pdf-info"),0<a.length)?a[0]:null},sC:function(a,c,e){var d=this;b.qg.parse(new b.Xe(a),function(a){return d.Fc.u.tc(a-1)},function(a){var b=d.Fc,e=b.Fg,g=b.u;if(g.getDocument()){e.UQ(a.calculationOrder);var p=a.fields;Object.keys(p).forEach(function(a){var c=p[a],b=e.ht(c.name);c.ae(b.Ua());e.gs(p[a],!0)});b.Ji(a.widgets,!0);g=g.getDocument();
g.ds(a.documentActions);for(var b=a.pages,g=g.Jb(),q=0;q<b.length;++q){var u=b[q],r=Number(u.number);0<r&&r<g.length+1?g[r-1].ds(u.actions):console.warn("Invalid page number on PDFInfo page:",r)}c(a)}},e)},zI:function(a,c){function e(){var c=d.zE(a);c&&d.sC(c,function(a){m=a.widgets},!0)}var d=this,h=this.EC(a),k=this.Mx(a);k&&this.Cw(new b.Xe(k),e,!0);var m=[];return null!==h?m.concat(this.ev(h,!0,c)):m},AI:function(a,c,e){function d(){var b=h.zE(a);b?h.sC(b,function(a){h.qC(k,function(b){b.tk=b.tk.concat(a.widgets);
c(b)},e)}):h.qC(k,function(){c.apply(this,arguments)},e)}var h=this,k=this.EC(a),m=this.Mx(a);m?this.Cw(new b.Xe(m),d,!1):d()},gn:function(a){var c={};if(a){var e=this.Mx(a);e&&this.Cw(new b.Xe(e),function(){},!0);var e=a.getElementsByTagName("add"),d=a.getElementsByTagName("modify");a=a.getElementsByTagName("delete");0<e.length&&(c.ks=this.ev(e[0].childNodes,!0));0<a.length&&(c.nD=this.iI(a[0]));0<d.length&&(c.FF=this.GI(d[0].childNodes))}return c},iI:function(a){var c=[];a=a.getElementsByTagName("id");
for(var b=0;b<a.length;++b){var e=this.Fc.Yi(a[b].textContent);e&&(c.push(e),this.Fc.Am(e,!0))}return c},GI:function(a){return this.ev(a,!0)},ev:function(a,c,b){var e=[];this.pC(a,e,0,a.length,c,b);return e},Ag:function(a,c,b,e,d){var k=this.Fc,m=null,n=!1,p=k.Li[a];if(p){var q=c.getAttribute("page"),q=parseInt(q,10),u;q<k.u.Hb()&&(u=k.u.tc(q));for(var r=0;r<p.length;r++)if(p[r].prototype.vh(c)){m=null;if(b){b=c.getAttribute("name");var v=parseInt(c.getAttribute("page"),10),m=this.Fc.$D(b,v)[0];if(!m&&
this.Fc.$D(b,v,e)[0])break}if(!m){var w;"widget"===a&&(a=c.getAttribute("title"),w=k.Fg.ht(a));m=new p[r](w);n=!0}try{if(u)m.isImporting=!0,m.deserialize(c,u,k),m.isImporting=!1;else return k.Is[q]||(k.Is[q]=[]),k.Is[q].push({data:c,Ki:m}),{Ki:null,jH:!1};m.eR(d)}catch(z){console.warn("Error parsing annotation",z);n=!1;m=null;break}n||k.xS(m,!0);m.IsAdded=!1;m.IsModified=!1;break}}else console.warn("Unsupported annotation type.",a);return{Ki:m,jH:n}},pC:function(a,b,e,d,h,k){for(var m=[];e<d;++e)if(a[e].nodeType===
Node.ELEMENT_NODE){var n=this.Ag(c.dt(a[e]),a[e],h,b,k),p=n.Ki;p&&(b.push(p),n.jH&&m.push(p))}0<m.length&&(this.Fc.Ji(m,!0),m.forEach(function(a){a.IsAdded=!1;a.IsModified=!1}))},Cw:function(a,c,e){function d(c){var b=a.K("name");if(!b)return console.warn("Invalid field name part:",b,a.current),null;c=c?c+"."+b:b;var b={name:c},f=[b],e=null;for(a.ma();a.advance();){var g=a.ta();switch(g){case "value":_.isNull(e)?e=a.current.textContent:(_.isArray(e)||(e=[e]),e.push(a.current.textContent));break;case "field":(g=
d(c))&&0<g.length&&(f=f.concat(g));break;default:console.warn("unknown field child node: ",g)}}a.wa();_.isNull(e)||(b.value=e);return f}var h=this.Fc.Fg;a.ma();a.advance()?b.busyLoop(function(){"field"===a.ta()&&d("").forEach(function(a){h.gs(a,!0)});var c=a.advance();c||a.wa();return c},c,e):c()},ZF:function(a){var c=[];$(a).each(function(a,b){c.push(b.textContent.trim())});return c},qC:function(a,c,b){function e(){b.Qk()?c({tk:[]}):(d.pC(a,n,k,Math.min(k+m,a.length),!0,b.Ay),setTimeout(function(){k+=
m;k<a.length?e():c({tk:n})},b.batchDelay))}var d=this,k=0,m=2*b.batchSize,n=[];e()},er:function(a,c,b){var e=this.Fc.u.tc(a.uc()-1).inverse(),d=document.createElementNS("",a.elementName);a.serialize(d,e,b);a=new XMLSerializer;d.ND&&this.Rh.push(d.ND);d=a.serializeToString(d);c.writeString(d)},pJ:function(a){var c=this.Fc,e=c.Jk(),d=c.u,h=d.getDocument(),k=[];e.Cq({cq:function(a,c,b){void 0!==b.type&&k.push(b)},du:function(a,c,b){void 0!==b.type&&k.push(b)}});var m=h.Jb().map(function(a,c){return{number:c+
1,actions:a.Ek()}}).filter(function(a){return 0<Object.keys(a.actions).length});b.qg.write(a,{calculationOrder:e.Lw,widgets:c.Zi().filter(function(a){return a.ij()}),fields:k,documentActions:h.Ek(),pages:m},function(a){return 1>a?(console.warn("Invalid page number:",a),a=new XODText.Da,a.hn(1,0,0,1,0,0),a):d.tc(a-1)})},tJ:function(a){var b=this;a=a||{};var e=new XMLWriter("UTF-8","1.0");e.formatting="none";this.Rh=[];var d,h,k;a.annotList?(d=a.fields||!1,h=a.widgets||!1,k=a.links||!1):(d=!1!==a.fields,
h=!1!==a.widgets,k=!1!==a.links);e.writeStartDocument();e.writeStartElement("xfdf");e.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");e.writeAttributeString("xml:space","preserve");h&&this.pJ(e);d&&this.mJ(e);e.writeStartElement("annots");d=this.Fc;a=a.annotList||d.Zi();for(var m=0;m<a.length;++m)d=a[m],d instanceof Annotations.ed?k&&this.er(d,e,!0):d instanceof Annotations.WidgetAnnotation||this.er(d,e,!0);e.writeEndElement();e.writeEndElement();this.qJ(e);e=e.flush();m=0;this.Rh.length&&
(e=e.replace(c.BG,function(){return b.Rh[m++]}));this.Rh=null;return e},qJ:function(a){var c=this.Fc;a.writeStartElement("pages");var b=c.u.getDocument().Jb();if(b){var e=c.u.tc(0);a.writeStartElement("defmtx");a.writeAttributeString("matrix",""+(e.m_a+","+e.m_b+","+e.m_c+","+e.m_d+","+e.m_h+","+e.m_v));a.writeEndElement();for(var d=1;d<b.length;++d){var k=c.u.tc(d);if(!k.HD(e)){a.writeStartElement("pgmtx");var m="",m=m+(k.m_a+","+k.m_b+","+k.m_c+","+k.m_d+","+k.m_h+","+k.m_v);a.writeAttributeString("matrix",
m);a.writeAttributeString("page",d.toString());a.writeEndElement()}}}a.writeEndElement()},kJ:function(a){a.writeStartElement("add");for(var c=this.Fc.Zi(),b=0;b<c.length;++b){var e=c[b];e.IsAdded&&(this.er(e,a),e.IsAdded=!1)}a.writeEndElement()},oJ:function(a){a.writeStartElement("modify");for(var c=this.Fc,b=c.Zi(),e=0;e<b.length;++e){var d=b[e];d.IsModified&&c.Bd(d)&&(this.er(d,a),d.IsModified=!1)}a.writeEndElement()},lJ:function(a){a.writeStartElement("delete");for(var c=this.Fc,b=this.qI(),e=
0;e<b.length;++e)a.writeStartElement("id"),a.writeAttributeString("page",b[e].Mb),a.writeString(b[e].id),a.writeEndElement();c.ix.length=0;a.writeEndElement()},mJ:function(a){a.writeStartElement("fields");this.Fc.Fg.Cq(new e(a));a.writeEndElement()},nJ:function(a){a.writeStartElement("fields");var c=[];this.Fc.Fg.Cq(new e(a,function(a){c.push(a);return a.IsModified}));c.forEach(function(a){a.IsModified=!1});a.writeEndElement()},rJ:function(a){var c=new XMLWriter("UTF-8","1.0");c.writeStartDocument();
c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");c.writeStartElement("fields");var d=new b.Annotations.O.El;a.forEach(function(a){d.gs(a)});d.Cq(new e(c));c.writeEndElement();c.writeEndElement();a=c.flush();return a=a.replace(/\t/g,"")},sJ:function(a){for(var c=[],b=0;b<a.length;++b){var e=a[b];_.isUndefined(e.name)||c.push(e.name+"="+encodeURIComponent(e.value))}return c.join("&")},Zs:function(){var a=this;this.Rh=
[];var b=new XMLWriter("UTF-8","1.0");b.writeStartDocument();b.writeStartElement("xfdf");b.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");b.writeAttributeString("xml:space","preserve");this.nJ(b);this.kJ(b);this.oJ(b);this.lJ(b);b.writeEndElement();var b=b.flush(),b=b.replace(/\t/g,""),e=0;this.Rh.length&&(b=b.replace(c.BG,function(){return a.Rh[e++]}));this.Rh=null;return b},qI:function(){return _.map(this.Fc.ix,function(a){return{id:a.Id,Mb:a.Ib()}})}};b.o.FJ=d;var c={BG:/<replace-element-please ?\/>|<replace-element-please><\/replace-element-please>/g,
rQ:"replace-element-please",xt:function(a){if("string"===typeof a){for(var c=(new DOMParser).parseFromString(a,"text/xml"),b=c.getElementsByTagName("contents-richtext"),e=0,d=0;0<(e=a.indexOf("<contents-richtext>",e));++d)if(d<b.length){var k=a.indexOf("</contents-richtext>",e);b[d].FP=a.substring(e+19,k);e=k}else{console.warn("contents-richtext: More elements found by searching!");break}d<b.length&&console.warn("contents-richtext More elements found by getElementsByTagName!");return c}return a},
aA:function(a){var c;c="D:"+a.getFullYear().toString();c+=this.Rd((a.getMonth()+1).toString());c+=this.Rd(a.getDate().toString());c+=this.Rd(a.getHours().toString());c+=this.Rd(a.getMinutes().toString());c+=this.Rd(a.getSeconds().toString());a=a.getTimezoneOffset();0===a?c+="Z00'00'":(0>a?(c+="+",a*=-1):c+="-",c+=this.Rd(parseInt(a/60,10).toString())+"'",c+=this.Rd((a%60).toString())+"'");return c},toDateString:function(a){return a.getFullYear().toString()+"-"+this.Rd((a.getMonth()+1).toString())+
"-"+this.Rd(a.getDate().toString())+" "+this.Rd(a.getHours().toString())+":"+this.Rd(a.getMinutes().toString())+":"+this.Rd(a.getSeconds().toString())},Rd:function(a){return 2>a.length?"0"+a:a},escape:function(a){a&&(a=_.escape(a),a=a.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return a},toFixed:function(a,c){_.isUndefined(c)&&(c=2);return parseFloat(a.toFixed(c)).toString()},getAttribute:function(a,c){return a.getAttribute(c)||a.getAttribute(c.toLowerCase())},dt:function(a){return a.localName||a.baseName||
a.nodeName},oE:function(a,c){var b=[],e=a.getElementsByTagName(c);if(0===e.length)return b;for(var d=0;d<e.length;++d){var k=e[d].outerHTML||e[d].xml;if(_.isUndefined(k)||0!==k.indexOf("<"+c+" "))k=(new XMLSerializer).serializeToString(e[d]);0>k.indexOf("</"+c+">")&&"/"!==k.charAt(k.length-2)&&(k=k.slice(0,k.length-1)+"/"+k.slice(k.length-1));b.push(k)}return b},$U:function(a){return c.getAttribute(a,"ActionType")?!0:0<a.getElementsByTagName("OnActivation").length},BM:function(a){return c.getAttribute(a,
"ActionType")?[a]:a.getElementsByTagName("Action")},CM:function(a){if(!a)return null;var b=c.getAttribute(a,"ActionType");return b?b:(a=c.Nx(a))?c.dt(a):null},Nx:function(a){a=_.filter(a.childNodes,function(a){return 1===a.nodeType});return 0<a.length?a[0]:null},Lm:function(a,b,e){b=c.getAttribute(a,b);_.isNull(b)&&(b=a.getElementsByTagName(e),b=0<b.length?b[0].textContent:null);return b},hU:function(a,c,b){b=b.aa({x:_.isNull(a)?0:parseFloat(a),y:_.isNull(c)?0:parseFloat(c)});return{x:_.isNull(a)?
null:b.x,y:_.isNull(c)?null:b.y}},HU:function(a,c,b){a=a.split(";");for(var e=[],d=0;d<a.length;++d){var k=a[d].split(","),k=new XODText.vd(k[0],k[1]),k=new Annotations.Point(k.x,k.y);c.aa(k);"function"===typeof b&&b(k);e.push(k)}return e},Gu:function(a,b,e){if("undefined"===typeof e||null===e)e=",";if(!(a instanceof Annotations.Point))return null;a=new Annotations.Point(a.x,a.y);b&&b.aa(a);return c.toFixed(a.x)+e+c.toFixed(a.y)},pD:function(a,c,b){if("undefined"===typeof b||null===b)b=",";if("string"!==
typeof a)return null;a=a.split(b);b=null;2===a.length?(b=new Annotations.Point(parseFloat(a[0]),parseFloat(a[1])),c&&c.aa(b)):console.warn("Invalid serialized string format.");return b},Hn:function(a,b,e,d){if("undefined"===typeof d||null===d)d=";";if("undefined"===typeof e||null===e)e=",";for(var h="",k=0;k<a.length;k++){var m=new Annotations.Point(a[k].x,a[k].y);b&&b.aa(m);h+=c.toFixed(m.x)+e;h+=c.toFixed(m.y)+d}return h.substring(0,h.length-1)},xk:function(a,c,b,e){var d=[];if("undefined"===typeof e||
null===e)e=";";if("undefined"===typeof b||null===b)b=",";var k;a=a.split(e);if(e===b)for(e=0;e+1<a.length;e+=2)k=new Annotations.Point(a[e],a[e+1]),c&&c.aa(k),d.push(k);else for(e=0;e<a.length;++e)k=a[e].split(b),k=new Annotations.Point(k[0],k[1]),c&&c.aa(k),d.push(k);return d},Bz:function(a,b,e){if("undefined"===typeof e||null===e)e=",";var d=new Annotations.Point(a.x1,a.y1);a=new Annotations.Point(a.x2,a.y2);b.aa(d);b.aa(a);return c.toFixed(d.x,6)+e+c.toFixed(d.y,6)+e+c.toFixed(a.x,6)+e+c.toFixed(a.y,
6)},kx:function(a,c,b){if("undefined"===typeof b||null===b)b=",";b=a.split(b);a=new Annotations.Point(b[0],b[1]);b=new Annotations.Point(b[2],b[3]);c&&(c.aa(a),c.aa(b));return new Annotations.Rect(a.x,a.y,b.x,b.y)},Az:function(a,b,e){var d=new XODText.Da;d.hn(b);d.m_d*=-1;d.m_h=0;d.m_v=0;return c.Bz(a,d,e)},oD:function(a,b,e){var d=new XODText.Da;d.hn(b);d.m_d*=-1;d.m_h=0;d.m_v=0;return c.kx(a,d,e)},XV:function(a,b){for(var e="",d=0;d<a.length;d++){var h=a[d],h=new Annotations.Point(h.x,h.y);b.inverse().aa(h);
e+=c.toFixed(h.x)+",";e+=c.toFixed(h.y)+";"}return e.substring(0,e.length-1)},IU:function(a,c){var b=a.split(","),e=new Annotations.Point(b[0],b[1]),b=new Annotations.Point(b[2],b[3]);"undefined"!==typeof c&&(c.aa(e),c.aa(b));return new Annotations.Rect(e.x,e.y,b.x,b.y)},YV:function(a,b){var e=new Annotations.Point(a.x1,a.y1),d=new Annotations.Point(a.x2,a.y2),h=b.inverse();h.aa(e);h.aa(d);return c.toFixed(e.x)+","+c.toFixed(e.y)+","+c.toFixed(d.x)+","+c.toFixed(d.y)},bg:function(a){if("undefined"===
typeof a||null===a||!(a instanceof Annotations.Color)||0===a.A)return null;var c=a.R.toString(16).toUpperCase();2>c.length&&(c="0"+c);var b=a.G.toString(16).toUpperCase();2>b.length&&(b="0"+b);a=a.B.toString(16).toUpperCase();2>a.length&&(a="0"+a);return"#"+c+b+a},Ti:function(a){return(new RegExp(/^#[0-9a-f]{6}$/i)).test(a)?new Annotations.Color(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)):null},jx:function(a){if(a){var c=new Date(Date.UTC(parseInt(a.substring(2,
6),10),parseInt(a.substring(6,8),10)-1,parseInt(a.substring(8,10),10),parseInt(a.substring(10,12),10),parseInt(a.substring(12,14),10),parseInt(a.substring(14,16),10),0));a=a.substring(16);if(7===a.length){var b=a.substring(0,1);if("Z"!==b){var b="-"===b?1:-1,e=parseInt(a.substring(4,6),10);c.setUTCHours(c.getUTCHours()+b*parseInt(a.substring(1,3),10));c.setUTCMinutes(c.getUTCMinutes()+b*e)}}return c}},dE:function(a,b,e){a="#"+c.Rd(a.toString(16));a+=c.Rd(b.toString(16));return a+=c.Rd(e.toString(16))},
OQ:function(a,c){return"/"+a+" "+c+" Tf"},NQ:function(a){return"font: "+a.Font+" "+a.Ox()+"pt; text-align: "+a.TextAlign+"; color: "+c.bg(a.TextColor)},WV:function(a){return"font-family: "+a.Font+"; font-size: "+a.Ox()+"pt; text-align: "+a.TextAlign+"; color: "+c.bg(a.TextColor)},PL:["Tf","rg"],$F:function(a){var b={be:a};if(!_.isNull(a))for(a=a.split(" ");0<a.length;){var e=a.pop();if(-1!==c.PL.indexOf(e))switch(e){case "Tf":var e=a.pop(),d=a.pop().slice(1);b.font={size:e+"pt",name:c.hq(d),RV:d};
break;case "rg":var e=parseInt(255*a.pop(),10),d=parseInt(255*a.pop(),10),h=parseInt(255*a.pop(),10);b.color=c.dE(h,d,e)}}return b},xU:function(a){if(4===a.length)return{r:parseInt(a.charAt(1),16)/16,g:parseInt(a.charAt(2),16)/16,b:parseInt(a.charAt(3),16)/16};if(7===a.length)return{r:parseInt(a.slice(1,3),16)/255,g:parseInt(a.slice(3,5),16)/255,b:parseInt(a.slice(5,7),16)/255}},MP:function(a){var b={};_.isNull(a)||a.split(";").forEach(function(a){var e=a.split(":");if(!(2>e.length))switch(a=e[0].trim(),
e=e[1].trim(),a){case "text-align":b.textAlign=e;break;case "color":e.startsWith("rgb")?(a=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(e),null!==a&&(b.color=c.dE(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)))):b.color=e;break;case "font":a=e.split(" "),b.font={name:c.hq(a[0]),size:a[1]}}});return b},hq:function(a){function c(b,e){var f=a;0===f.indexOf(b)&&(f=e);return f}a=c("Arial","Arial");a=c("Courier","Courier");a=c("Helv","Arial");return a=c("Times","Times New Roman")},bG:function(a){return 0<
a.indexOf("Bold")?"bold":"normal"},aG:function(a){return 0<a.indexOf("Italic")||0<a.indexOf("Oblique")?"italic":"normal"},VL:function(a){var c=[];a=a.split(";");for(var b=0;b<a.length;++b){var e=a[b].split(",");2===e.length&&0<e[0].length&&0<e[1].length&&c.push(e)}return c},QQ:function(a){for(var c="",b=0;b<a.length;b++)c+=a[b][0]+",",c+=a[b][1]+";";return c.substring(0,c.length-1)},PQ:function(a){for(var c=[],b=0;b<a.length;b++){var e=[];e.push(this.escape(a[b][0]));e.push(this.escape(a[b][1]));
c.push(e)}return c}};b.Annotations.ba=c})(window);
(function(b){b.o=b.o||{};var d=b.o;d.Kv=function(b){this.v=b;this.J=[];this.rj={};this.yt=d.Qa.Dh;this.Tf=1;if(b){this.rG();this.sG();var c=this;b.on("pagesDiff",function(a,b){c.trigger("pageDiff",[b]);c.trigger("pageContentChanged",[b.filter(function(a){return a.after.contentChanged}).map(function(a){return a.after.pageNum})])});b.on("pagesUpdated",function(a,b){function e(a){var c={};Object.keys(a).forEach(function(b){c[b]=a[b].Ra});return c}var d=e(c.rj);c.rG();c.sG();d=c.dL(d,e(c.rj));d.contentChanged=
b.filter(function(a){return a.contentChanged}).map(function(a){return a.pageNum});c.trigger("layoutChanged",[d])})}};d.Kv.prototype=$.extend({pU:function(){return this.J.length},dL:function(b,c){var a={added:[],removed:[],moved:{}},f={};Object.keys(b).forEach(function(a){f[a]=f[a]||{};f[a].before=b[a]});Object.keys(c).forEach(function(a){f[a]=f[a]||{};f[a].after=c[a]});Object.keys(f).forEach(function(c){c=f[c];c.before&&!c.after?a.removed.push(c.before):!c.before&&c.after?a.added.push(c.after):c.before&&
c.after&&c.before!==c.after&&(a.moved[c.before]=c.after)});return a},rG:function(){var b=this.v.Bp(),c={};b.forEach(function(a){c[a]=!0});var a=this.rj;Object.keys(a).forEach(function(b){b in c||delete a[b]});b.forEach(function(c){a[c]||(a[c]={rotation:null,zoom:null,hg:null,ig:null,yj:null,ai:null,Gn:null,Uh:null,Ra:null,id:c})})},sG:function(){for(var b=this.v.numPages,c=this.v,a=[],f=0;f<b;++f){var d=this.rj[c.kt(f)];d.Ra=f+1;a.push(d)}this.J=a},Gz:function(b){this.yt=b},UU:function(){return this.yt},
bi:function(b){this.Tf=b;this.trigger("zoomChanged",[b])},VU:function(){return this.Tf},$G:function(b,c){var a=this.J[b];if(a)a.Gn=c;else throw Error("Invalid page text selected "+b);},tN:function(b){var c=this.J[b];if(c)return c.Gn;throw Error("Selected text requested for invalid page index: "+b);},Vw:function(){this.J.forEach(function(b){b.Gn=null})},qt:function(){return this.J.map(function(b){return b.Gn}).filter(function(b){return null!==b}).join("\n")},Vd:function(b){var c=this.J[b];if(c){var a=
this.v.md(b);b=this.v.ld(b);var f=_.isNull(c.rotation)?this.yt:c.rotation;if(f===d.Qa.Le||f===d.Qa.Nf){var g=a,a=b;b=g}return{width:a,height:b,rotation:f,zoom:_.isNull(c.zoom)?this.Tf:c.zoom,hg:c.hg,ig:c.ig,yj:c.yj,ai:c.ai,Gn:c.Gn,Uh:c.Uh,Ra:c.Ra,id:c.id}}return{width:0,height:0}},Wd:function(){for(var b=[],c=this.J.length,a=0;a<c;++a)b.push(this.Vd(a));return b},Mu:function(b,c){var a=this.J[b];if(a)a.zoom=c;else throw Error("Invalid page index zoomed "+b);},oN:function(b){var c=this.J[b];if(c)return!_.isNull(c.zoom);
throw Error("Invalid page index get has individual zoom "+b);},tq:function(b,c){var a=this.J[b];if(a)a.rotation=c;else throw Error("Invalid page index rotated "+b);},uR:function(b,c){var a=this.J[b];if(a)a.yj=c;else throw Error("Invalid page index set text quads "+b);},sR:function(b,c){var a=this.J[b];if(a)a.ai=[c];else throw Error("Invalid page index set search quads "+b);},ES:function(b,c){var a=this.J[b];if(a){var f=a.ai||[];f.push(c);a.ai=f}else throw Error("Invalid page index update search quads "+
b);},Uw:function(){this.J.forEach(function(b){b.ai=null})},PC:function(){this.J.forEach(function(b){b.yj=null})},pN:function(b){var c=this.J[b];if(c)return!!c.yj||!!c.ai;throw Error("Invalid page index get has text quads "+b);},qR:function(b,c){var a=this.J[b];if(a)a.hg=c.hg,a.ig=c.ig;else throw Error("Tried to set offsets of invalid page"+b);},$M:function(){var b={};this.J.forEach(function(c,a){_.isNull(c.rotation)||(b[a]=c.rotation)});return b},pL:function(){this.J.forEach(function(b){b.rotation=
null})},UD:function(b){this.J.forEach(function(c){_.isNull(c.rotation)||b(c)})},Jz:function(b,c){var a=this.J[b];if(a)a.Uh=c;else throw Error("Invalid page index set preview canvas "+b);},CE:function(){var b=[];this.J.forEach(function(c,a){_.isNull(c.yj)&&_.isNull(c.ai)||b.push(a)});return b},rN:function(){var b=[];this.J.forEach(function(c,a){_.isNull(c.yj)||b.push(a)});return b},qL:function(){this.J.forEach(function(b){b.Uh=null})},jF:function(b){return!!this.rj[b]},Wc:function(b){var c=this.rj[b];
if(c)return this.Vd(c.Ra-1);throw Error("Unknown page ID "+b);},Rf:function(b){var c=this.J[b];if(c)return c.id;throw Error("Page index is not loaded "+b);},Sc:function(){this.off()}},b.utils.eventHandler)})(window);
(function(b){function d(c,a){this.handlers=c;this.state=_.isUndefined(a)?null:a;this.yh=[];this.kz=!0}function e(){this.TD=[];this.WD=[];this.cl={};this.Xu=!1;Promise.resolve();Promise.resolve();this.Bm=!1;this.ls=null}d.prototype={qf:function(c){this.yh.push(c)},nH:function(){return 0<this.yh.length},kH:function(){return this.kz||0<this.yh.length},read:function(){this.state=this.handlers.read(this.state);this.kz=!1},write:function(){var c=this.yh;this.handlers.consolidateChanges&&(c=this.handlers.consolidateChanges(c));
this.yh=[];this.state=this.handlers.write(this.state,c);this.kz=!0}};e.prototype={Sc:function(){this.Xu=!1;window.cancelAnimationFrame(this.ls);this.ls=null;this.Bm=!0},nz:function(c,a,b,e){_.isUndefined(e)&&(e=!0);if(this.cl[c])throw Error("Tried to register pipeline "+c+" twice");this.cl[c]=new d(a,b);e&&this.oz()},hO:function(c){return!!this.cl[c]},xN:function(c){if(!this.cl[c])throw Error("Tried to get non-existent pipeline "+c);return this.cl[c]},oz:function(){var c=this;this.Xu||this.Bm||(this.Xu=
!0,this.ls=window.requestAnimationFrame(function(){c.ls=null;var a=Object.keys(c.cl).map(function(a){return c.cl[a]});a.forEach(function(a){a.kH()&&a.read()});a.forEach(function(a){a.nH()&&a.write()});a=a.some(function(a){return a.kH()||a.nH()});c.Xu=!1;a?c.oz():(c.WD.forEach(function(a){a()}),c.WD=[]);c.TD.forEach(function(a){a()});c.TD=[]}))},qf:function(c,a){this.xN(c).qf(a);this.oz()}};b.uo=e;b.BT=d})((window.o?window.o:window.o={}).Pl={});
(function(b){function d(a){this.OH=!0;this.Lp=this.zu=this.mH=this.gg=!1;this.qd=[];this.Qc={};this.dk={};this.Ge=.5;this.u=a;this.v=null;this.xu=Promise.resolve();this.It=!1;this.yn=null;this.paused=!1;this.Py=null}function e(a){this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.Zd=this.canvas=null;this.Wg=this.Iw=this.rf=!1;this.lH=!0;this.od=this.Mk=this.Qn=this.request=null}function c(a,c){this.Ca=a;this.sj=c;this.iz=createPromiseCapability()}c.prototype={cancel:function(){var a=
this.Ca.qc(this.sj);try{if(a.Wg){a.od&&(a.od.IC(),a.od.abort&&a.od.abort());if(a.request)try{this.Ca.v.wh(a.request)}finally{a.request=null,a.od=null}if(a.Qn)try{this.Ca.v.Oi(a.Qn)}finally{a.Qn=null}if(a.Mk)try{this.Ca.v.wh(a.Mk)}finally{a.Mk=null}}}finally{a.Wg=!1,a.lH=!0,this.iz.resolve("canceled")}},GH:function(){this.cancel();var a=this.Ca.qc(this.sj);a.od&&(a.od.pd(void 0,this.Ca.u.N.Wc(this.sj).Ra-1),a.od=null)},render:function(a){var c=this;a.then(function(){c.iz.resolve("complete")})},Zx:function(){return this.iz.promise}};
e.prototype={zp:function(a){return(this.canvas||a?1:0)*(this.width*this.height*this.zoom*this.zoom*(window.devicePixelRatio?window.devicePixelRatio:1)*4+1E5)/4},isValid:function(){return!!this.canvas||!b.o.La.zj},update:function(a){if(this.rotation!==a.rotation||this.zoom!==a.zoom)this.Zd=this.canvas=null,this.lH=!0;this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.Ra=a.Ra}};d.prototype={init:function(){this.Qw();this.v=this.u.getDocument()},Sc:function(){this.Lp=
!0;this.uq();return this.xu},Qw:function(){this.uq();var a=this;Object.keys(this.Qc).forEach(function(c){a.Jp(c);if(c=a.Qc[c])c.rf=!1})},HR:function(a){this.mH=!!a},Jp:function(a){var c=this.Qc[a];c&&(c.canvas=null,c.Zd=null);this.On(a)},ws:function(a){var c=this.u,b=c.Mm()-1;a=c.N.Wc(a).Ra-1;c=c.Hb();b=a-b;0>b&&(b-=.5);return c-Math.abs(b)},$x:function(a){return this.dk[a]||null},tC:function(a,b){var e=this;if(this.qc(a).Wg)return this.$x(a);var d=new c(this,a);this.On(a);var h;h=e.mH&&b?b.then(function(){if(!e.zu)return e.zG(a,
function(){})}):this.zG(a,function(){});d.render(h);return this.dk[a]=d},IM:function(){var a=this;return Object.keys(this.Qc).reduce(function(c,b){return c+a.qc(b).zp()},0)},LK:function(a,c){for(var e=this.qc(c),d=this,h=Object.keys(this.Qc).sort(function(a,c){return d.ws(a)-d.ws(c)}),k=this.IM(),m=e.zp(a)+k,n=0;m>b.xl&&n<h.length;)m-=this.qc(h[n]).zp(),++n;if(m<b.xl){for(k=0;k<n;++k)this.Jp(h[k]);e.canvas=a}else console.warn("Could not fit "+c+" with size "+e.zp(a)+" into cache of size "+k+" with max size "+
b.xl)},qc:function(a){if(this.u.N.jF(a)){this.Qc[a]=this.Qc[a]||new e(this.u.N.Wc(a));var c=this.u.N.Wc(a);this.Qc[a].update(c);return this.Qc[a]}return this.Qc[a]?this.Qc[a]:new e({})},fT:function(a){var c=this.qc(a);c&&(this.Jp(a),c.rf=!1)},MO:function(a){return!!this.qc(a).canvas},pause:function(){this.paused=!0},resume:function(){this.paused=!1;var a=this.Qc;Object.keys(a).forEach(function(c){c=a[c];c.od&&(c.od.paused=!1,c.od.resume&&c.od.resume())})},Tn:function(a){this.qd=a||this.u.da.Wd()},
VK:function(a){var c=this;return a.some(function(a){return-1===c.qd.indexOf(a)})||c.qd.some(function(c){return-1===a.indexOf(c)})},EN:function(){var a=this;return Object.keys(this.Qc).map(function(c){return{id:c,page:a.Qc[c]}}).filter(function(a){return a.page.rf}).map(function(c){return a.u.N.Wc(c.id).Ra-1})},wD:function(a){var c=this.u.N.Rf(a),e=this.qc(c);if(this.gg){c=e.ue;if(e.Wg||!e.rf||!c)return!0;var e=this.u.da,d=this.Ge/2;return(a=e.$m(a,e.ny(d,d)))&&!b.utils.containsRect(c,a.ue)}return!e.Wg&&
!e.rf},aO:function(a){for(var c=[],b=[],e=a.length,d=0;d<e;++d){var k=a[d];this.wD(k)?b.push(k):c.push(k)}return{JP:c,ez:b}},sy:function(){var a=this;return a.Lp?[]:a.u.da.Wd(a.Ge,a.Ge).some(function(c){return a.wD(c)})},mL:function(){!this.yn&&this.sy()&&this.lD()},lD:function(){var a=this;this.yn||(this.yn=setTimeout(function(){this.yn=null;var c=a.u.da.Wd(a.Ge,a.Ge);a.uq(c);a.It||(a.xu=a.xu.then(function(){return a.AG()})["catch"](function(c){console.error(c);a.xu=Promise.resolve()}))},80))},TP:function(a){var c=
this;return Promise.resolve().then(function(){var b=c.u.N.Wc(a).Ra-1,e=c.qc(a);if(!e.canvas)throw Error("Tried to place uncached page from cache "+a);e.rf=!0;c.u.Xo(e.canvas,b);c.Vi(b,e);c.u.trigger("pageComplete",[b])})},hy:function(a){var c=this;return new Promise(function(b){var e=c.qc(a),d=c.u.N.Wc(a).Ra-1;e.Qn||c.u.jO(d)?b():e.Qn=c.v.lj(d,function(b){c.qc(a).Qn=null;c.u.BC(b,d,-1!==c.qd.indexOf(d),!1)})})},ZM:function(a){var c=this;return new Promise(function(e){var d=c.qc(a),h=c.u.N.Wc(a).Ra-
1;if(d.Mk||c.u.gO(h))e();else{var k=b.utils.getCanvasMultiplier(),m=d.width,n=d.height,p=m>n?2E3/m:2E3/n,p=p/k;d.Mk=c.v.Pg({pageIndex:h,getZoom:function(){return p},getPageRotation:function(){return b.o.Qa.Dh},drawComplete:function(a){c.v.Pi(d.Mk);d.Mk=null;c.u.BC(a,h,-1!==c.qd.indexOf(h),!0);e()},useProgress:!1})}})},AG:function(){var a=this;return this.Lp?Promise.resolve():Promise.resolve().then(function(){var c=a.u.da.Wd(a.Ge,a.Ge),e=a.aO(c);a.uq(c);a.wG(e.JP);a.It=!0;a.u.trigger("beginRendering");
var d=Promise.resolve();!a.v.gj()&&b.o.La.zj||c.forEach(function(c){c=a.u.N.Rf(c);a.hy(c)});a.zu=!1;return Promise.all(e.ez.map(function(c){c=a.u.N.Rf(c);return a.MO(c)&&!a.gg?a.TP(c):d=a.tC(c,d).Zx()}))}).then(function(){a.zu=!1;a.It=!1;var c=a.sy();a.u.trigger("finishedRendering",c);if(!a.Lp)return new Promise(function(c,b){window.requestAnimationFrame(function(){try{var e;if(a.sy())return e=a.AG(),c(e);a.NO()&&a.WP();c()}catch(f){b(f)}})})})["catch"](function(c){a.It=!1;console.error(c);throw c;
})},NO:function(){return b.o.La.zj&&(0!==b.Ut||0!==b.Tt)},cL:function(){var a=this;return _.range(a.u.Hb()).map(function(c){return a.u.N.Rf(c)}).sort(function(c,b){return a.ws(b)-a.ws(c)})},FC:function(){var a=this,c=_.min(a.qd),e=_.max(a.qd),d=c-b.Ut,h=e+b.Tt,c=this.cL().filter(function(c){c=a.u.N.Wc(c).Ra-1;return d<c&&h>c});if(a.gg)return[c[0]];for(var e=[],k=c.length,m=0,n=0;n<k;++n){var p=a.qc(c[n]),m=m+p.zp(!0);if(m<b.xl)e.push(c[n]);else break}return e},eL:function(){var a=this;return a.Lp?
[]:a.FC().filter(function(c){return!a.qc(c).isValid()})},WP:function(){var a=this;return Promise.resolve().then(function(){return a.gg?Promise.all(a.qd.map(function(c){c=a.u.N.Rf(c);return a.ZM(c)})):Promise.all(a.eL().map(function(c){return a.tC(c).Zx()}))["catch"](function(a){console.error("error pre-rendering",a);throw a;})})},zG:function(a,c){c=c||function(){};var b=this;return new Promise(function(e){b.pQ(a,function(a){!a||a.type&&"Cancelled"===a.type||console.warn(a);e()},c)})},wG:function(a){var c=
this,e=this.FC();a&&a.length&&(a=a.map(function(a){return c.u.N.Rf(a)}),e=e.concat(a));Object.keys(this.Qc).forEach(function(a){var d=c.qc(a);if(c.u.N.jF(a)){var k=c.u.N.Wc(a).Ra-1;if(b.o.La.zj)-1===e.indexOf(a)&&(c.JH(a),d.rf&&(c.u.nQ(k),d.rf=!1));else{var m=-1!==c.qd.indexOf(k);!d.rf&&!d.Iw||m||(b.o.La.wn(k),d.Iw=!1,d.rf=!1,c.JH(a))}}})},pQ:function(a,c,e){var d=this,h=this.qc(a);c=c||function(){};e=e||function(){};if(h.Wg)b.utils.warn("renderPage: Another request for page ID",a),c("renderPage: Another request for page ID "+
a);else{var k=d.u.N.Wc(a),m=k.zoom,n=k.rotation;if(d.v!==d.u.getDocument())c("Document changed");else{var p=!0,q=null,u=!1,r,v=d.u.da.Dp(k.Ra-1);if(d.gg||v&&v.viewportRender)if(v=d.u.da,r=v.$m(k.Ra-1,v.ny(d.Ge,d.Ge)),null===r){c("Page "+(k.Ra-1)+" no longer visible");return}this.Py=window.setTimeout(function(){$("#pageContainer"+(k.Ra-1)).addClass("loading")},300);var w={pageIndex:this.u.N.Wc(a).Ra-1,getZoom:function(){return d.u.N.Wc(a).zoom},getPageRotation:function(){return d.u.N.Wc(a).rotation},
finishedLoading:function(b,e){if(d.v!==d.u.getDocument())return c(Error("Document changed")),!1;if(b)return console.warn("Error loading page "+a),c(Error("Error loading page "+a)),!1;p=null===h.od;h.od=e;d.paused&&h.od.pause();return!0},acquireResources:function(){return p},resourcesLoaded:function(){if(d.v!==d.u.getDocument())return c(Error("Document changed")),!1;if(!1===h.Wg)return!1;var b=d.u.N.Wc(a);m===b.zoom&&n===b.rotation||d.Vi(b.Ra-1,h);return!0},drawComplete:function(e,g,m){d.v!==d.u.getDocument()||
_.isNull(q)?c(Error("Document changed, or progress event not received")):(k=d.u.N.Wc(a),h.Wg=!1,h.rf=!!u,h.Zd=m,h.ue=r?r.ue:null,u?d.u.trigger("pageComplete",[g,q]):b.o.La.wn(g),b.o.La.zj&&!d.gg&&d.LK(q,a,k),d.v.Pi(h.request),clearTimeout(this.Py),$("#pageContainer"+(k.Ra-1)).removeClass("loading"),e=-1!==d.qd.indexOf(g),d.v.kn()&&e&&d.Vi(k.Ra-1,h),c())},drawProgressive:function(h){if(d.v!==d.u.getDocument())c(Error("Document changed"));else{var k=d.u.N.Wc(a),p=k.Ra-1;if(m===k.zoom){if(!_.isUndefined(r)){var v=
$(h);v.css("top",r.bA.y+"px");v.css("left",r.bA.x+"px")}v=d.v.Vc(p);q=b.o.La.qE(h,p,m,n,w.getPageTransform(),v);u=!!d.u.Xo(q,p)}else b.utils.warn("bad zoom: "+p);$("#pageContainer"+(k.Ra-1)).removeClass("loading");d.u.trigger("pageProgressiveUpdate",[p,q]);e(p)}},getPageTransform:function(){return d.u.da.Dp(k.Ra-1)},onError:function(a){c(a)},useProgress:!d.gg&&b.o.FE(),renderRect:_.isUndefined(r)?void 0:r.ue};h.request=-1;h.Wg=!0;h.request=d.v.Pg(w);d.Vi(k.Ra-1,h)}}},Vi:function(a,c){this.u.Vi(a);
c.Iw=!0},AL:function(){for(var a=[],c=0;c<this.u.Hb();++c){var e=this.u.N.Rf(c);a.push(e)}this.IH(a);this.uq();b.o.La.kq()},IH:function(a){var c=this;Object.keys(this.Qc).forEach(function(b){if(-1===a.indexOf(b)){var e=c.dk[b];e&&(e.cancel(),e.GH(),delete c.dk[b]);delete c.Qc[b]}else c.Qc[b].rf=!1})},eA:function(a){this.v&&((this.gg=this.OH&&a>this.v.v.Up)&&1<b.utils.getCanvasMultiplier()?this.Ge=0:this.Ge=.5)},uq:function(a){var c=this,e={};"undefined"!==typeof a&&$.each(a,function(a,b){e[c.u.N.Rf(b)]=
!0});var d=[];Object.keys(this.dk).forEach(function(a){a in e&&b.o.La.zj?d[a]=c.dk[a]:c.On(a)});this.dk=d;this.zu=!0;clearTimeout(this.yn);this.yn=null},On:function(a){var c=this.$x(a);clearTimeout(this.Py);$("#pageContainer"+a).removeClass("loading");c&&(this.qc(a).Wg&&(a=this.u.N.Wc(a).Ra-1,$(document.getElementById("pageContainer"+a)).find(".progressive").remove()),c.cancel(),b.o.La.Tw())},JH:function(a){(a=this.$x(a))&&a.GH()},Oz:function(a){this.OH=!!a;this.eA()},cH:function(){}};b.o.gJ=d})(window);
(function(b){function d(a,c){this.Ci=!a;this.height=this.width=0;this.Yg=null;a&&(this.width=c.width,this.height=c.height,this.rotation=c.rotation,this.Mb=c.Ra-1,this.sj=a,this.zoom=c.zoom,this.Uh=c.Uh)}function e(a,c){this.J=c;this.index=a;this.height=c.reduce(function(a,c){return c.va()>a?c.va():a},0);this.width=c.reduce(function(a,c){return a+c.xa()},0)}function c(a){this.rows=a.rows;this.Yk=a.Yk;this.ei=a.ei;this.Zc=a.Zc;this.qn=a.qn;this.zh=a.zh;this.J=a.J;this.Xg=a.Xg;a=this.rows;this.width=
this.zh.reduce(function(a,c){return a+c},2*this.ei*this.Yk);this.height=a.reduce(function(a,c){return a+c.va()},this.rows.length*this.ei*2)}function a(a,c){var b=c.zoom,e=c.rotation,f=c.width*b,b=c.height*b,d=null;e===window.o.Qa.Le||e===window.o.Qa.Nf?(d="rotate("+90*e+"deg)",d=e===window.o.Qa.Le?" translate("+f+"px, 0)  "+d:" translate(0,"+b+"px)  "+d,a.css("height",f),a.css("width",b)):(e===window.o.Qa.jp&&(d="translate("+f+"px,"+b+"px) scale(-1,-1)"),a.css("width",f),a.css("height",b));null!==
d&&a.css({position:"absolute",transform:d,"transform-origin":"top left","ms-transform":d,"ms-transform-origin":"top left","-moz-transform":d,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":d,"-o-transform":d,"-o-transform-origin":"top left"})}function f(a,c,b){if(c)for(c=a-1;0<=c;--c)b(c);else for(c=0;c<a;++c)b(c)}function g(a,c,b){var e=document.createElement("div");e.id="pageContainer"+a.bj();2===b?0===c?e.style.marginLeft="auto":1===c&&(e.style.marginRight=
"auto"):(e.style.marginLeft="auto",e.style.marginRight="auto");e.className="pageContainer";return e}function l(a,c,b){var e=document.createElement("div");e.id="pageSection"+a.bj();e.style.cssFloat="left";e.style.position="relative";e.className="pageSection";e.appendChild(g(a,c,b));return e}function h(a,c,b){var e=document.createDocumentFragment(),d=a.Jb();f(d.length,b,function(a){e.appendChild(l(d[a],a,c))});a=document.createElement("div");a.style.clear="both";e.appendChild(a);return e}function k(c,
b){if(b.Uh){var e=b.Uh,f=parseFloat(e.css("width")),d=parseFloat(e.css("height")),g=parseFloat(c.style.width)/f,l=e.attr("id");if(l&&0<=l.indexOf("hrthumb")){l=b.rotation;if(l===window.o.Qa.Le||l===window.o.Qa.Nf)g=parseFloat(c.style.width)/d;a(e,b)}e.each(function(){var a=$(this);a.css({top:parseFloat(a.css("top"))*g,width:f*g,height:d*g});c.appendChild(this)})}}function m(a,c,b,e,d,g){var l=c.Jb(),h=a;f(l.length,d,function(a){if(!h)throw Error("Tried to update non-existent page section");var f=
h,d=l[a],m=c.va();f.style.width=Math.floor(b[a])+"px";f.style.height=Math.floor(m)+"px";f.style.margin=e+"px";g||(a=f.firstChild,f=Math.floor(d.va())+"px",a.style.width=Math.floor(d.xa())+"px",a.style.height=f,a.style.top=Math.floor(m-d.va())/2+"px",$(a).children().detach(),k(a,d));h=h.nextSibling});return h=h.nextSibling}function n(a,c,b){var e=c.Jb(),d=a;f(e.length,b,function(a){if(!d)throw Error("Tried to skip non-existent page section");k(d.firstChild,e[a]);d=d.nextSibling});return d=d.nextSibling}
function p(a,c,b){var e=c.Jb().length,d=a;q(d);c=document.createRange();f(e,b,function(){if(!d)throw Error("Tried to remove non-existent page section");d=d.nextSibling;q(d)});b=d.nextSibling;c.setStartBefore(a);c.setEndAfter(d);c.deleteContents();return b}function q(a){$(a.querySelector(".pageContainer")).children().detach()}function u(a){this.yh=[];this.state=a}d.XC=function(a,c){var b=new d(null,{});b.Mb="b"+a;b.width=0;b.height=0;b.zoom=c.zoom;b.rotation=0;b.Uh=null;b.mO=c.width;b.bV=c.height;
return b};d.prototype={JE:function(){return this.Yg},Ih:function(){return this.zoom},oe:function(){return this.rotation},xa:function(){return this.width*this.zoom},Qx:function(){var a=this.width;this.Ci&&(a=this.mO);return a*this.zoom},va:function(){return this.height*this.zoom},bj:function(){return this.Mb},QO:function(a){return this.Ci&&a.Ci||this.sj===a.sj},Gy:function(a){return this.Ci!==a.Ci||!this.Ci&&(this.sj!==a.sj||this.xa()!==a.xa()||this.va()!==a.va()||this.Ih()!==a.Ih()||this.oe()!==a.oe())}};
e.prototype={Jb:function(){return this.J},va:function(){return this.height},xa:function(){return this.width},bj:function(){return this.index},Gy:function(a){var c=a.Jb();return this.J.length!==a.Jb().length||this.J.some(function(a,b){return a.Gy(c[b])})},RO:function(a){var c=a.Jb();return this.J.length===a.Jb().length&&this.J.every(function(a,b){return a.QO(c[b])})}};c.prototype={Jb:function(){return this.J},xa:function(){return this.width},va:function(){return this.height},JE:function(a){return this.rows[a]}};
u.prototype={make:function(a,c,b){this.yh.push({Xy:a,Cg:{Yg:c,AP:b}})},RK:function(a){var c=this,b=a.firstChild,e=[];a.style.width=Math.ceil(this.state.xa())+"px";this.yh.forEach(function(f){switch(f.Xy){case "addRow":e=e.concat(f.Cg.Yg.Jb());b=c.uC(b,f.Cg,a);break;case "updateRow":e=e.concat(f.Cg.Yg.Jb());b=c.GS(b,f.Cg,a);break;case "updateColumns":b=c.zS(b,f.Cg,a);break;case "skipRow":b=c.ZR(b,f.Cg,a);break;case "replaceRow":e=e.concat(f.Cg.Yg.Jb());b=c.sQ(b,f.Cg,a);break;case "removeRow":b=c.xG(b,
f.Cg,a);break;default:console.warn("Unsupported layout change operation:",f.Xy)}});if(b&&"annoteditselectrect"!==b.id)throw Error("Nodes left after applying changes");e=e.filter(function(a){return!a.Ci}).map(function(a){return a.bj()});return{ez:e}},qN:function(){var a=[];this.yh.forEach(function(c){switch(c.Xy){case "updateRow":a=a.concat(c.Cg.Yg.Jb())}});return a.filter(function(a){return!a.Ci}).map(function(a){return a.bj()})},uC:function(a,c,b){c=c.Yg;var e=h(c,this.state.zh.length,this.state.Xg);
m(e.firstChild,c,this.state.zh,this.state.ei,this.state.Xg);a?b.insertBefore(e,a):b.appendChild(e);return a},GS:function(a,c){return m(a,c.Yg,this.state.zh,this.state.ei,this.state.Xg)},ZR:function(a,c){return n(a,c.Yg,this.state.Xg)},sQ:function(a,c,b){a=this.xG(a,c);return this.uC(a,c,b)},xG:function(a,c){return p(a,c.AP,this.state.Xg)},zS:function(a,c){return m(a,c.Yg,this.state.zh,this.state.ei,this.state.Xg,!0)}};b.gN=function(a){var b=a.MS,f=a.ei,g={width:0,height:0},l={width:0,height:0};b&&
0<b.length&&(g={width:b[0].width,height:b[0].height,zoom:b[0].zoom},l={width:b[b.length-1].width,height:b[b.length-1].height,zoom:b[b.length-1].zoom});var h=a.$R||0,k=[],m;for(m=0;m<h;++m)k.push(d.XC(m,g));var k=k.concat(b.map(function(a){return new d(a.id,a)})),n=a.Yk;n>k.length&&(n=k.length);b=a.Zc||0;g=Math.ceil(k.length/a.Yk);_.isUndefined(a.qn)||(g=a.qn<g?a.qn:g);var q=Array(n),h=k.reduce(function(a,c,b){var e;0===a.length?(e=[],a.push(e)):e=a[a.length-1];e.length===n&&(e=[],a.push(e));e.push(c);
if(b===k.length-1&&(c=n-e.length,0<c))for(var f=0;f<c;++f)e.push(d.XC(b+f+1,l));return a},[]).slice(b,b+g).map(function(a,c){var b=new e(c,a);b.Jb().forEach(function(a,c){q[c]=q[c]?a.Qx()>q[c]?a.Qx():q[c]:a.Qx()});return b});return new c({rows:h,ei:f,Yk:n,Zc:b,qn:g,zh:q,J:k,Xg:a.Xg})};b.fN=function(a,c){var b=new u(c);if(!a)return c.rows.forEach(function(a){b.make("addRow",a,null)}),b;var e=a.rows,f,d=a.zh,g=c.zh;f=d.length===g.length?d.every(function(a,c){return a===g[c]}):!1;d=c.rows;d.forEach(function(a){var c=
e[a.bj()];c?c.RO(a)?c.Gy(a)?b.make("updateRow",a,c):f?b.make("skipRow",a,c):b.make("updateColumns",a,c):b.make("replaceRow",a,c):b.make("addRow",a,c)});if(d.length<e.length)for(d=d.length;d<e.length;++d)b.make("removeRow",null,e[d]);return b};b.po=d;b.DT=e;b.vT=c;b.uT=u})((window.o=window.o||{}).BA={});
(function(b){var d=XODText,e=window.o,c={GA:"Single",fo:"Continuous",sA:"Facing",rv:"FacingContinuous",Pq:"Cover",Qq:"CoverFacing",Af:"Custom"};e.rd=function(a,b,e){this.mode=null;this.u=a;this.Dd=this.Sg=this.Lb=null;this.Of=this.Zc=0;this.kj=null;this.qd=[];this.hd={};a=b===c.Af;this.Dn=_.isUndefined(e)?!a:e;_.isNull(b)||_.isUndefined(b)||(this.mode=b)};e.rd.prototype={xR:function(a,b,e,d,h){this.mode=c.Af;this.Lb=a;this.Sg=b;this.Dd=e;this.Zc=d;this.Of=h},WQ:function(a){this.hd=a},Dy:function(){return this.mode===
c.fo||this.mode===c.rv||this.mode===c.Pq},Ib:function(a,c){if(!this.kj)return-1;var b=this.kj.JE(a-this.kj.Zc);if(this.u.by())var e=this.kj.Yk,b=b.Jb()[e-(c+1)];else b=b.Jb()[c];return b&&_.isNumber(b.bj())?b.bj():-1},pf:function(a,c){if(this.hd.pageToWindow)return this.hd.pageToWindow(a,c);a=this.u.cy(a,c);var b=this.u.N.Vd(c);return{x:a.x+b.hg,y:a.y+b.ig}},HP:function(a,c){if(this.hd.pageToWindow)return this.hd.pageToWindow(a,c);a=this.u.IN(a,c);var b=this.u.N.Vd(c);return{x:a.x+b.hg,y:a.y+b.ig}},
Aj:function(a,c){if(this.hd.windowToPage)return this.hd.windowToPage(a,c);var e=this.u.gc(c),l=this.u.N.Vd(c),h=new d.vd;h.x=a.x-l.hg;h.y=a.y-l.ig;e=b.ud(e,this.u.Me(c+1),{width:this.u.md(c),height:this.u.ld(c)},0,!1);e=e.inverse();h=e.aa(h);return{pageIndex:c,x:h.x,y:h.y}},SS:function(a,c){if(this.hd.windowToPage)return this.hd.windowToPage(a,c);var e=this.u.gc(c),l=this.u.N.Vd(c),h=new d.vd;h.x=a.x-l.hg;h.y=a.y-l.ig;e=b.ud(e,this.u.oe(c+1),this.u.v.Vc(c),0,!1);e=e.inverse();h=e.aa(h);return{pageIndex:c,
x:h.x,y:h.y}},pt:function(a,c){if(this.hd.getSelectedPages)return this.hd.getSelectedPages(a,c);var b=null,e=null;a=_.isUndefined(a)?this.u.Hd:a;c=_.isUndefined(c)?this.u.zb:c;a:for(var d=this.Zc;d<this.Of;d++)for(var k=0;k<this.Lb;k++){var m=this.Ib(d,k);if(!(0>m)){var n=this.u.N.Vd(m),p=n.hg,q=n.ig,u=n.hg+n.width*this.u.zoom,n=n.ig+n.height*this.u.zoom;null===b&&a.x<=u&&a.x>=p&&a.y<=n&&a.y>=q&&(b=m);null===e&&c.x<=u&&c.x>=p&&c.y<=n&&c.y>=q&&(e=m);if(null!==b&&null!==e)break a}}b>e&&(d=b,b=e,e=d);
return{first:b,last:e}},Wd:function(a,c){if(this.hd.getVisiblePages)return this.hd.getVisiblePages(a,c);if(0===this.u.Qb().length)return[];for(var b,e=[],d=this.getVisibleRegionRect(a,c),k=this.getVisibleRegionRect(0,0),m=this.Zc;m<this.Of;m++)for(var n=0;n<this.Lb;n++)if(b=this.Ib(m,n),!(0>b)){var p=this.$m(b,d,k);null!==p&&e.push({Mb:b,eG:p.RP})}e.sort(function(a,c){return c.eG-a.eG});b=e.length;for(d=0;d<b;++d)e[d]=e[d].Mb;return e},getVisibleRegionRect:function(a,c){a=_.isUndefined(a)?.5:a;c=
_.isUndefined(c)?.5:c;var b=this.u.nt();if(null===b)return[];var e=b.getBoundingClientRect(),d=e.width,k=e.height,m=b.scrollTop+e.top-k*a,b=b.scrollLeft+e.left-d*c;return{x1:b,y1:m,x2:b+d*(1+2*c),y2:m+k*(1+2*a)}},$m:function(a,c,e){var d=this.u.v.Vc(a),h=this.pageToWindowNoRotate({x:0,y:0},a),k=this.pageToWindowNoRotate({x:d.width,y:d.height},a),d=b.utils.normalizeRect(h,k);c=b.utils.getRectIntersection(d,c);if(c.x1!==c.x2){var m;e&&(e=b.utils.getRectIntersection(d,e),m=(e.x2-e.x1)*(e.y2-e.y1)/((d.x2-
d.x1)*(d.y2-d.y1)));h=this.windowToPageNoRotate({x:c.x1,y:c.y1},a);k=this.windowToPageNoRotate({x:c.x2,y:c.y2},a);return{ue:b.utils.normalizeRect(h,k),bA:{x:c.x1-d.x1,y:c.y1-d.y1},RP:m}}return null},Dp:function(a){if(this.hd.getPageTransform)return this.hd.getPageTransform(a);a=this.u.Tx(a);return{x:0,y:0,width:a.width,height:a.height}},Ux:function(){return{x:0,y:0}},ym:function(){return e.BA.gN({ei:this.u.vE(),MS:this.u.N.Wd(),Yk:this.Lb,Zc:this.Zc,qn:this.Of-this.Zc,$R:this.mode===c.Pq||this.mode===
c.Qq?1:0,Xg:this.u.by()})},mq:function(a){a?this.mode===c.Af?this.u.vc().children().detach():this.Ws(function(a){$(a).children().detach()}):(this.kj=null,this.u.vc().empty(),this.u.trigger("contentRemoved"))},eg:function(){if(this.hd.createPageSections)return this.mq(!1),this.hd.createPageSections(),_.range(0,this.u.Hb());var a=this;if(this.mode!==c.Af){var b=this.ym(),d=e.BA.fN(this.kj,b);d.qN().forEach(function(c){var b=document.getElementById("pageContainer"+c),b=a.u.RH?$(b).find("#hrthumb"+c):
$(b).find(".canvas"+c+":not(.progressive)");0<b.length&&a.u.N.Jz(c,b)});this.kj=b;b=d.RK(this.u.vc().get(0)).ez;this.u.Ew(this.kj.va());return b}return _.range(0,this.u.Hb())},Ws:function(a){for(var c=this.u.vc().get(0).firstChild;c;)b.utils.hasClass(c,"pageSection")&&a(c.firstChild),c=c.nextSibling},xf:function(){var a=this.u.N;this.Ws(function(c){var b=c.parentNode,e=Number(c.id.slice(13));_.isNaN(parseInt(e,10))||a.qR(e,{hg:b.offsetLeft+c.offsetLeft,ig:b.offsetTop+c.offsetTop})})}};e.io=function(a){if(!a)throw Error("DisplayModeManager requires DocumentViewer to initialize");
this.u=a;this.ga=new b.o.rd(this.u,c.fo)};e.io.prototype={fc:function(){return this.ga},UG:function(a){this.ga.mq();null===this.u.v?(this.ga=a,this.u.trigger("displayModeUpdated")):(this.gC(a),this.u.N.bi(this.u.kf()),this.u.trigger("zoomUpdated",this.u.Ih()),this.u.Xh(),this.ga.Dy()&&(this.eg(),this.ga.xf()),this.u.we(this.u.cc+1))},gC:function(a){this.ga=a;this.EA();this.u.N.PC();this.u.trigger("displayModeUpdated")},EA:function(){var a=this.ga.mode;_.isNull(a)||(a===c.GA?(this.ga.Lb=1,this.ga.Sg=
Math.ceil(this.u.v.numPages/this.ga.Lb),this.ga.Dd=Math.ceil(this.u.cc/this.ga.Lb),this.ga.Zc=this.ga.Dd,this.ga.Of=this.ga.Dd+1):a===c.fo?(this.ga.Lb=1,this.ga.Sg=Math.ceil(this.u.v.numPages/this.ga.Lb),this.ga.Dd=-1,this.ga.Zc=0,this.ga.Of=this.ga.Sg):a===c.sA?(this.ga.Lb=2,this.ga.Dd=Math.floor(this.u.cc/this.ga.Lb),this.ga.Sg=Math.ceil(this.u.v.numPages/this.ga.Lb),this.ga.Zc=this.ga.Dd,this.ga.Of=this.ga.Dd+1):a===c.rv?(this.ga.Lb=2,this.ga.Dd=-1,this.ga.Sg=Math.ceil(this.u.v.numPages/this.ga.Lb),
this.ga.Zc=0,this.ga.Of=this.ga.Sg):a===c.Pq?(this.ga.Lb=2,this.ga.Dd=-1,this.ga.Sg=Math.ceil((this.u.v.numPages+1)/this.ga.Lb),this.ga.Zc=0,this.ga.Of=this.ga.Sg):a===c.Qq&&(this.ga.Lb=2,this.ga.Dd=Math.floor(this.u.cc/this.ga.Lb),this.ga.Sg=Math.ceil(this.u.v.numPages/this.ga.Lb),this.ga.Zc=this.ga.Dd,this.ga.Of=this.ga.Dd+1))},pt:function(a,c){return this.ga.getSelectedPages(a,c)},Wd:function(a,c){return this.ga.getVisiblePages(a,c)},$m:function(a,c,b){return this.ga.$m(a,c,b)},ny:function(a,c){return this.ga.getVisibleRegionRect(a,
c)},pf:function(a,c){return this.ga.pageToWindow(a,c)},Aj:function(a,c){return this.ga.windowToPage(a,c)},Dp:function(a){return this.ga.getPageTransform(a)},Ux:function(a){return this.ga.getPageOffset(a)},ym:function(){return this.ga.ym()},eg:function(a){return this.ga.eg(a)},mq:function(a){return this.ga.mq(a)},Ws:function(a){return this.ga.Ws(a)},xf:function(){return this.ga.xf()}};b.o.sd=c})(window);
(function(b){function d(){}var e=window.o,c=XODText;d.prototype=Object.create(Error.prototype);e.W=function(){var a=this;this.select=_.bind(this.select,this);this.cb=c.cb;this.v=null;this.defaults={FitMode:this.og.sv,DisplayMode:new b.o.rd(this,b.o.sd.fo),Zoom:1};this.fa=new b.o.ia(this);this.da=new b.o.io(this);this.SG();this.KD=this.NK=this.Os=!1;this.cursor="default";this.ln=null;this.Vh=[];this.cF=function(a,c){c(a)};this.YF=function(a,c,b){b(a)};b.o.Cv(5);this.zA=function(c){this.trigger("mouseLeftUp",
c);a.ua&&a.ua.mouseLeftUp&&a.ua.mouseLeftUp(c);for(var b in a.links)if(a.links.hasOwnProperty(b)){c=a.links[parseInt(b,10)];for(var e=0;e<c.length;++e)c[e].style&&(c[e].style.border="")}};this.yA=function(c){this.trigger("mouseLeftDown",c);a.ua&&a.ua.mouseLeftDown&&a.ua.mouseLeftDown(c)};this.SI=function(a){this.trigger("click",a)};this.bJ=function(c){this.trigger("tap",c);a.ua&&a.ua.tap&&a.ua.tap(c)};this.UI=function(c){this.trigger("dblClick",c);a.ua&&a.ua.mouseDoubleClick&&a.ua.mouseDoubleClick(c)};
this.VI=function(c){this.trigger("keyDown",c);a.ua&&a.ua.keyDown&&a.ua.keyDown(c)};this.WI=function(c){this.trigger("keyUp",c);a.ua&&a.ua.aP&&a.ua.aP(c)};this.TI=function(c){a.ua&&a.ua.contextMenu&&a.ua.contextMenu(c)};this.XI=function(c){this.trigger("mouseEnter",c);a.ua&&a.ua.rP&&a.ua.rP(c)};this.AA=function(c){this.trigger("mouseMove",c);a.ua&&a.ua.mouseMove&&a.ua.mouseMove(c)};this.YI=function(c){this.trigger("mouseLeave",c);a.ua&&a.ua.mouseLeave&&a.ua.mouseLeave(c)};this.ZI=function(c){this.trigger("mouseRightDown",
c);a.ua&&a.ua.Wt&&a.ua.Wt(c)};this.$I=function(c){this.trigger("mouseRightUp",c);a.ua&&a.ua.sP&&a.ua.sP(c)};this.aJ=function(c){a.ua&&a.ua.fG&&a.ua.fG(c)};this.CH={AnnotationCreateArrow:new b.ja.fv(this),AnnotationCreateCallout:new b.ja.yl(this),AnnotationCreateEllipse:new b.ja.ov(this),AnnotationCreateFreeHand:new b.ja.FreeHandCreateTool(this),AnnotationCreateFreeText:new b.ja.uv(this),AnnotationCreateLine:new b.ja.Jl(this),AnnotationCreatePolygon:new b.ja.Kj(this),AnnotationCreatePolygonCloud:new b.ja.vo(this),
AnnotationCreatePolyline:new b.ja.Nl(this),AnnotationCreateRectangle:new b.ja.yv(this),AnnotationCreateSignature:new b.ja.SignatureCreateTool(this),AnnotationCreateStamp:new b.ja.wo(this),AnnotationCreateSticky:new b.ja.Ev(this),AnnotationCreateTextHighlight:new b.ja.Gv(this),AnnotationCreateTextSquiggly:new b.ja.Hv(this),AnnotationCreateTextStrikeout:new b.ja.Iv(this),AnnotationCreateTextUnderline:new b.ja.Jv(this),AnnotationEdit:new b.ja.wl(this),Pan:new b.ja.so(this),TextSelect:new b.ja.Rl(this)}};
e.W.prototype={ZK:function(){function a(a){h=!0;var e=c.v.Jb()[a-1];if(e){var d,g,l=c.ec().Zi();if(k&&k!==e){for(d=0;d<l;++d)g=l[d],g.ij()&&g.pageNumber===m&&l[d].xe("PC",new b.Annotations.O.tb.Events.po("Close",c,{}));k.xe("C",new b.Annotations.O.tb.Events.po.create("Close",c,{}))}k=e;m=a;e.xe("O",new b.Annotations.O.tb.Events.po.create("Open",c,{}));for(d=0;d<l;++d)g=l[d],g.ij()&&g.pageNumber===a&&l[d].xe("PO",new b.Annotations.O.tb.Events.po("Close",c,{}))}}var c=this;c.vc().on("dragstart",function(a){"IMG"===
a.target.nodeName&&a.preventDefault()});c.vc().on("touchstart",function(a){c.yA(a)});c.vc().on("touchmove",function(a){c.zb={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};c.AA(a)});c.vc().on("touchend",function(a){c.zA(a);c.gw=!1;a=c.da.fc().mode===b.o.sd.Af;c.ua!==c.Gp("TextSelect")||a||c.Ou(c.Gp("AnnotationEdit"))});c.vc().on("pointerdown",function(a){c.aJ(a)});c.vc().dblclick(function(a){c.UI(a)});c.vc().click(function(a){c.SI(a)});c.vc().on("tap",function(a){c.bJ(a)});
$(window).on("keydown",function(a){c.VI(a)});$(window).on("keyup",function(a){c.WI(a)});c.vc().on("contextmenu",function(a){c.TI(a)});c.vc().mouseenter(function(a){c.XI(a)});var e=c.vc(),d=c.Qb();0<d.length&&(e=d);e.mousedown(function(a){if(0<d.length){var b=d[0].clientHeight;if(a.clientX>d[0].offsetLeft+d[0].clientWidth||a.clientY>d[0].offsetTop+b)return}1===a.which?(c.yA(a),c.gw=!0):3===a.which&&(c.ZI(a),c.HB=!0)});$(document).on("mouseup",function(a){1===a.which&&c.gw?(c.zA(a),c.gw=!1):3===a.which&&
c.HB&&(c.$I(a),c.HB=!1)});$(document).mousemove(function(a){c.zb={x:a.pageX,y:a.pageY};c.AA(a)});c.vc().mouseleave(function(a){c.YI(a)});if(c.da.fc().Dn)c.Qb().on("scroll",_.bind(c.onscroll,c));$(b).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.Ca.pause()});c.on("RESUME",function(){c.Ca.resume()});var h=!1,k=null,m;c.on("documentReady",function(){c.v.xe("Init",new b.Annotations.O.tb.Events.rA.create("Open",c,{}));c.v.xe("Open",new b.Annotations.O.tb.Events.rA.create("Open",c,{}));h||a(1)});
c.on("pageNumberUpdated",function(b,e){a(e);c.v.ll({currentPage:e})});c.on("visiblePagesChanged",function(a,b){c.v.ll({visiblePages:b});var e=_.intersection(b,c.Wo);e.length&&(clearTimeout(c.QK),c.QK=setTimeout(function(){c.Yh.qf("DocumentViewer.renderRequest",{type:"annotations",pages:e})},80))});c.on("endOfDocumentResult",function(a,b){c.Sk=!1;c.zq();b?(c.loop=!0,c.Yz(c.eD,c.JL,!1)):c.loop=!1})},resize:function(a){a&&a.target!==window||!this.v||!this.da.fc().Dn||(this.kf===this.og.Zoom?(this.Ew(),
this.da.fc().xf(),this.onscroll()):(a=this.kf(),a!==this.N.Tf?(this.So(a),this.Ow()):(this.da.fc().xf(),this.Ow(),this.onscroll())))},Ow:function(){var a=this.Qb(),c=(a[0].scrollWidth-a.width()+this.ot())/2;a.scrollLeft(c)},MQ:function(){this.resize()},SC:function(){var a=this;return this.Ls=this.Ls.then(function(){return a.v?(a.trigger("documentUnloaded"),a.Xh(!0),Promise.resolve(a.Sc()).then(function(){a.SG()})):Promise.resolve()})},SG:function(){this.v=null;this.Ls=Promise.resolve();this.Ca=new b.o.gJ(this);
this.da.UG(this.defaults.DisplayMode);this.kf=this.defaults.FitMode;this.IG=!1;this.rF=[];this.cc=0;this.links={};this.gf=[];this.Ya||(this.Ya=Promise.resolve(null));this.N=new e.Kv(null);this.zb=this.Hd=null;this.margin=8;this.KG=this.LG=0;this.Aq=new c.ge;this.Xc=this.MF=this.au=null;this.HF=this.Qy=this.Sk=this.ry=this.loop=!1;this.IF=this.JF=null;this.Kp=!1;this.zH="rgba(0, 0, 200, 0.3)";this.wz="rgba(255, 255, 0, 0.5)";this.Bw="rgba(248, 153, 57, 0.5)";this.Yh=new b.o.Pl.uo;var a=this;this.Yh.nz("DocumentViewer.renderRequest",
{read:function(c){c.Kw&&a.da.xf();a.BS();c=a.da.Wd();a.Ca.Tn(c);return{qd:c,LQ:a.eQ()}},consolidateChanges:function(a){var c=a.filter(function(a){return"pages"===a.type}),b=a.filter(function(a){return"annotations"===a.type}),e=a.filter(function(a){return"layout"===a.type});a=a.filter(function(a){return"retainScroll"===a.type});var d=[];c.length&&d.push({type:"pages",pages:_.union.apply(null,c.map(function(a){return a.pages||[]})),useVisiblePages:c.some(function(a){return!!a.useVisiblePages}),check:c.every(function(a){return!!a.check})});
b.length&&d.push({type:"annotations",pages:_.union.apply(null,b.map(function(a){return a.pages||[]}))});e.length&&d.push({type:"layout",pages:_.union.apply(null,e.map(function(a){return a.pages||[]}))});return d=d.concat(a)},write:function(c,b){var e={Kw:!1};b.forEach(function(b){var d;"pages"===b.type?(d=b.useVisiblePages?_.union(c.qd,b.pages):_.intersection(c.qd,b.pages),0<d.length&&(b.check?a.Ca.mL():a.sl(d))):"annotations"===b.type?(d=_.intersection(c.qd,b.pages),a.Wo=_.without(a.Wo,d),a.Ca.wG(),
d.forEach(function(c){a.Vi(c)})):"layout"===b.type?(e.Kw=!0,d=a.da.eg().concat(b.pages),b.pages.forEach(function(c){a.N.Jz(c,void 0)}),d.length&&(d.forEach(function(c){a.Ca.Jp(a.N.Rf(c))}),a.Yh.qf("DocumentViewer.renderRequest",{type:"pages",pages:d})),a.Ca.eA(a.Ih())):"retainScroll"===b.type&&a.VS(c.LQ)});return e}},{Kw:!0},!1);this.lu=[];this.Wo=[];this.ms=null;this.Vo=Promise.resolve()},eQ:function(){var a=this.Mm()-1,c=this.Qb(),b=c.scrollLeft()||0,c=c.scrollTop()||0,e=document.getElementById("pageContainer"+
a);e&&(b-=e.offsetLeft+e.parentNode.offsetLeft,c-=e.offsetTop+e.parentNode.offsetTop);return{Mb:a,x:b,y:c}},VS:function(a){var c=document.getElementById("pageContainer"+a.Mb),b=a.x;a=a.y;c&&(b+=c.offsetLeft+c.parentNode.offsetLeft,a+=c.offsetTop+c.parentNode.offsetTop);this.scrollTo(b,a)},rI:function(a){var c={};_.isUndefined(a)||(_.isObject(a)?c=a:c.docId=a);"onError"in c||(c.onError=function(a){throw Error("Error loading document: "+a);});"getPassword"in c||(c.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");
});"docId"in c||(c.docId=null);"workerTransportPromise"in c||("pdf"===c.type?c.workerTransportPromise=e.Bt(c.pdfBackendType,c.workerHandlers,c.l):"office"===c.type&&(c.workerTransportPromise=e.aF(c.officeBackendType,c.workerHandlers,c.l)));return c},qG:function(a){this.Yh.qf("DocumentViewer.renderRequest",{type:"layout",pages:a});this.Yh.qf("DocumentViewer.renderRequest",{type:"retainScroll"})},Xm:function(){return this.Yh},tG:function(a,c){var b=this;this.lu=this.lu.concat(a);this.ms||(this.ms=setTimeout(function(){if(b.jj===
c){var e=b.lu;b.lu=[];b.ms=null;b.Vo=b.Vo.then(function(){if(b.jj===c){var a=e.map(function(a){return a+1});b.fa.uG(a);for(var d=e.length,m=0;m<d;++m)b.fa.eP(e[m]);return b.getDocument().Dk(a)}}).then(function(d){return new Promise(function(k){b.jj===c&&d?b.YF(d.xfdfString,a,function(m){b.jj!==c||_.isUndefined(m)?k():b.fa.uy(m,function(){c.Jh()&&!b.TE&&(b.trigger("documentReady"),b.TE=!0);0<b.ku&&(b.ku-=e.length,0>=b.ku&&b.trigger("annotationsLoaded"));b.Wo=b.Wo.concat(a);k()},b.ZD(d.xfdfString===
m))}):k()})})}},400))},$f:function(a,c){var g=this;c=g.rI(c);var l=new b.CoreControls.Document(c.docId,c.type);this.jj=l;l.uf(g);var h=g.Ls.then(function(){return g.Ya}).then(function(a){l.ol(a)}).then(function(){return new Promise(function(b,e){g.TE=!1;l.$f(a,function(a){l!==g.jj?(l.pd(),e(new d)):a?e(a):null!==g.v?b(g.SC().then(function(){return l})):b(l)},{annotsLoadedCallback:function(a,c){g.jj===l&&h.then(function(){g.cF(a,function(b){if(g.jj===l&&!_.isUndefined(b)){var e=createPromiseCapability();
g.on("documentReady.annotsLoaded",function(){e.resolve("ready")});g.Vo=g.Vo.then(function(){return e.promise});var d=b===a;g.fa.uy(c&&d?c:b,function(){g.jj===l?(g.Ca.EN().forEach(function(a){g.Vi(a)}),g.trigger("documentReady"),g.trigger("annotationsLoaded")):e.resolve()},g.ZD(d))}})})},annotationManager:g.fa,getPassword:c.getPassword,workerTransportPromise:c.workerTransportPromise,extension:c.extension,defaultPageSize:c.defaultPageSize,pageSizes:c.pageSizes})})}).then(function(a){g.v=a;g.ku=a.numPages;
g.N=new e.Kv(a);g.defaults.FitMode===g.og.Zoom&&g.N.bi(g.defaults.Zoom);g.v.on("bookmarksUpdated",function(){g.trigger("bookmarksUpdated")});g.v.on("officeAnnotationsUpdated",function(a,c){g.fa.Ji(c);g.fa.Dm(c)});g.N.on("layoutChanged",function(c,b){g.qG(b.contentChanged.map(function(a){return a-1}));var e=!1;0<b.added.length&&(g.tG(b.added.map(function(a){return a-1}),a),e=!0);0<b.removed.length&&(g.Ca.IH(g.v.Bp()),e=!0,g.cc>=g.Hb()&&g.Yr(g.Hb()-1));if(e){var d=g.Qb(),e=d.offset(),d=g.da.Aj({x:(d.scrollLeft()||
0)+e.left,y:(d.scrollTop()||0)+e.top},g.cc);g.da.EA();g.da.eg();g.da.xf();d=g.da.pf(d,g.cc);g.scrollTo(d.x-e.left,d.y-e.top);g.sl()}0<b.contentChanged.length&&g.tG(b.contentChanged.map(function(a){return a-1}),a);g.trigger("layoutChanged",[b])});g.N.on("zoomChanged",function(a,c){g.RH=g.Ca.gg;g.Ca.eA(c)});g.fa.mQ(g.N);g.trigger("beforeDocumentLoaded");c.type&&"pdf"===c.type&&b.o.cD!==b.o.zl.ir||g.Ca.HR(!0);g.Ca.init();g.da.gC(g.da.fc());g.KD||(g.KD=!0,g.ZK());if(g.da.fc().mode!==b.o.sd.Af){g.N.bi(g.Zr(g.kf));
g.Xh();g.da.eg();g.da.xf();g.sl();var d=g.Qb(),l=(d[0].scrollWidth+g.ot()-d.innerWidth())/2;d.scrollLeft(l)}g.trigger("documentLoaded");1.2>=g.v.v.ii&&g.trigger("documentReady")})["catch"](function(a){if(!(a instanceof d))c.onError(a)})},Qb:function(){return $(this.nt())},nt:function(){this.MG||this.dH(document.getElementById("DocumentViewer"));return this.MG},dH:function(a){this.MG=a},vc:function(){return $(this.LE())},LE:function(){this.QH||this.gH(document.getElementById("viewer"));return this.QH},
gH:function(a){this.QH=a},ot:function(){var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');$("body").append(a);var c=$("div",a).innerWidth();a.css("overflow-y","auto");var b=$("div",a).innerWidth();$(a).remove();return c-b},Sc:function(){var a=this;if(this.v){var c=this.v;clearTimeout(this.ms);this.fa.Sc().then(function(){return Promise.all([a.Vo,a.Yh?a.Yh.Sc():null,a.Ca?a.Ca.Sc():null,a.N?a.N.Sc():null])}).then(function(){a.off("documentReady.annotsLoaded");
c.off();return c.pd()})}},ld:function(a){var c=this.v.Cp(a);return 90===c||270===c?this.v.md(a):this.v.ld(a)},md:function(a){var c=this.v.Cp(a);return 90===c||270===c?this.v.ld(a):this.v.md(a)},tc:function(a){return this.v.tc(a)},ec:function(){return this.fa},TQ:function(a){this.PK=a},ZD:function(a){return $.extend({Ay:a},this.PK)},fR:function(a){this.cF=a},wR:function(a){this.YF=a},vR:function(a){this.WF=a},MC:function(){if(this.WF){for(var a=this.rF,c=this.da.Wd(0,0),a=_.difference(c,a),b=0;b<a.length;++b)this.WF(a[b]+
1);this.rF=c}},Nm:function(){return this.da},Nu:function(a,c){b.o.La.Nu(a,c)},$d:function(a){"undefined"!==typeof a.enableAnnotations&&(this.Os=!!a.enableAnnotations);"undefined"!==typeof a.annotMode&&(this.NK=!!a.annotMode)},Ih:function(){return this.N.Tf},vE:function(){return this.margin},lR:function(a){this.margin=a},qt:function(a){return a?this.N.tN(a-1):this.N.qt()},LR:function(a){this.zH=a},GR:function(a){this.wz=a.searchResult||this.wz;this.Bw=a.activeSearchResult||this.Bw},rt:function(){return this.ua},
NN:function(){return this.CH},Gp:function(a){return this.CH[a]},oe:function(a){return _.isUndefined(a)?this.N.yt:this.N.Vd(a-1).rotation},Me:function(a){var c=this.oe(a);if(_.isUndefined(a))return c;a=this.sp(a)/90;return(c+a)%4},FR:function(a,c){var b;0<=a&&3>=a&&(_.isUndefined(c)?(this.N.Gz(a),this.N.pL()):(b=c-1,this.N.tq(b,a)),this.rotate(b))},sp:function(a){--a;return 0>a||_.isNaN(a)?0:this.v.Cp?this.v.Cp(a):0},rR:function(a){var c=this;Object.keys(a).forEach(function(b){c.N.tq(b,a[b])});this.So(this.kf(),
void 0,void 0,!0)},sN:function(){return this.N.$M()},getDocument:function(){return this.v},ly:function(a){var c=null;this.Ca.gg&&(c=this.da,c=c.$m(a,c.ny(this.Ca.Ge,this.Ca.Ge)));return c},VN:function(a){var c=null;if(a=this.ly(a))c=a.ue;return c},$i:function(a){var c=this.v.Vc(a),e=this.gc(a),d=this.da.Dp(a),h,k=this.ly(a);k&&(h=k.ue,d=k.bA);return b.o.La.$i(a,{width:c.width,height:c.height},e,this.oe(a+1),d,h,this.sp(a+1)/90)},UM:function(){return this.kf},by:function(){return this.IG},ER:function(a){this.IG=
a},aM:function(a){if(a.url)(new Actions.vi({uri:a.url})).onTriggered(a,null,this);else a.isValid()?this.ip(a.Vg,a.Un,a.en):console.warn("Tried to go to invalid bookmark destination")},ip:function(a,c,b,e){if(this.da.fc().Dn){this.Mm()!==a&&this.we(a);var d=this.md(a-1),k=this.ld(a-1);a=this.da.pf({x:b>d?0:0>b?0:b,y:c>k?0:0>c?0:c},a-1);c=this.Qb();b=c.offset();if(e&&(e=a.x-b.left-(c.scrollLeft()||0),d=a.y-b.top-(c.scrollTop()||0),0<e&&e<c.outerWidth()&&0<d&&d<c.outerHeight()))return;this.scrollTo(a.x-
b.left,a.y-b.top)}else this.trigger("displayPageLocation",[a,c,b,e])},scrollTo:function(a,c){this.Qb().scrollLeft(a).scrollTop(c)},fS:function(a,c,b){if(a!==this.au||c!==this.MF)this.JF=a,this.IF=c,this.Qy=!0,this.HF=b},kS:function(a){var c=!1;if(null===this.au||this.au!==a)c=!0;if(null===this.loop||!0===this.loop)c=!0;this.au=a;this.Xc!==this.cc&&(this.Xc=this.cc,c=!0);return c},Yz:function(a,b,e,d){e=e||!1;this.vz=!1;var h=this,k=!0;this.eD!==a&&(this.eD=a,this.ry=!1);this.JL=b;for(var m=0;m<a.length;++m){var n=
a.charCodeAt(m);if(!(1424<=n&&1535>=n||1536<=n&&1791>=n||1872<=n&&1919>=n||64336<=n&&65023>=n||65136<=n&&65279>=n)){k=!1;break}}k&&(a=a.split("").reverse().join(""));h.dW=h.cc;if(!0===this.Sk)this.fS(a,b,e);else{e?(k=function(){},h.N.Uw(),h.Kp=!1):(h.Kp=!0,k=function(a){a.Cu===c.Yb.kp?(h.mx(a),h.ry=!0):a.Cu===c.Yb.zk&&(h.ry?h.trigger("notify","endOfDocumentSearch"):h.trigger("notify","noMatchesFound"))});d=d||k;if(e||this.kS(a))e?(k=this.Xc=0,m=this.v.numPages-1):0<(b&c.cb.tx)?(m=!0===this.loop?this.v.numPages-
1:this.Xc,k=0):(k=!0===this.loop?0:this.Xc,m=this.v.numPages-1),this.Aq.YK(this.v,a,b,k,m);this.Aq.setMode(b);this.MF=b;this.nS(e,d)}},hG:function(a){null===this.v.Wx(a)&&this.v.Gd(a,function(){})},zq:function(){this.trigger("searchInProgress",[this.Sk,!this.Kp])},nS:function(a,b){function e(){function g(){m=[];k=h.Aq.run(m);q=k.Cu;k.QV=m;var e=k;e.ambient_str=k.yC;e.result_str=k.rz;e.result_str_start=k.HG;e.result_str_end=k.GG;e.page_num=k.dz;e.resultCode=q;e.quads=m;if(h.vz)h.vz=!1,h.Sk=!1,h.zq();
else if(!0===h.Qy)h.Qy=!1,h.Sk=!1,h.zq(),setTimeout(function(){h.Yz(h.JF,h.IF,h.HF,b)},0);else{if(q===c.Yb.Ns){var n,v;if(h.Aq.Ng()){if(0<h.Xc)for(h.Xc--,v=0;3>v;++v)n=h.Xc-v,0<n&&h.hG(n)}else if(h.Xc<h.v.numPages-1)for(h.Xc++,v=0;3>v;++v)n=h.Xc+v,n<h.v.numPages-1&&h.hG(n)}else q!==c.Yb.kp||a||(h.N.Vw(),h.N.$G(k.dz,k.rz));b(e);q===c.Yb.zk||!a&&q===c.Yb.kp?(h.Sk=!1,h.zq()):null!==h.v.Wx(h.Xc)?setTimeout(g,0):h.v.Gd(h.Xc,d)}}var q=-1;null!==h.v.Wx(h.Xc)?setTimeout(g,0):h.v.Gd(h.Xc,d)}function d(a){n===
h.v&&(h.v.tR(h.Xc,a),e())}var h=this;this.Sk=!0;this.zq();!0===this.loop&&(h.Xc=this.Aq.Ng()?this.v.numPages-1:0,this.loop=!1);var k,m=[],n=this.v;e()},pF:function(a,c){a!==this.cc&&this.we(a+1);if(0<c.length){c=c.map(function(a){return a.Lg?a.Lg():a});for(var b=c[0].y4,e=c[0].x4,d=c[0].y2,k=c[0].x2,m=1;m<c.length;m++)c[m].x4<e&&(e=c[m].x4),c[m].y4<b&&(b=c[m].y4),c[m].x2>k&&(k=c[m].x2),c[m].y2>d&&(d=c[m].y2);var m=this.Qb(),n=m.offset(),p=n.top+(m.scrollTop()||0),q=p+m.innerHeight(),n=n.left+(m.scrollLeft()||
0),u=n+m.innerWidth(),b=this.da.pf({x:e,y:b},a),r=this.da.pf({x:k,y:d},a),k=b.x<r.x?b.x:r.x,d=b.y<r.y?b.y:r.y,e=b.x>r.x?b.x:r.x,b=b.y>r.y?b.y:r.y;if(k<n||d<p||e>u||b>q)p=e-k,q=b-d,p=k-m.innerWidth()/2+p/2-m.offset().left,m=d-m.innerHeight()/2+q/2-m.offset().top,this.scrollTo(p,m)}},qF:function(a,c){var b=a.page_num;"undefined"!==typeof c?c(b,a.quads):this.pF(b,a.quads)},mx:function(a,c){var b=this;this.Kp=!0;this.nC=a;this.Sn(function(){var e=a.page_num;b.N.Uw();b.N.sR(e,a);b.qF(a,c)})},$L:function(a){var c=
this;this.Sn(function(){c.N.ES(a.page_num,a)})},RQ:function(a){this.Kp?this.mx(a):(this.nC=a,this.qF(a),this.Sn())},rL:function(){var a=this;this.Sn(function(){a.N.Uw()});this.vz=!0},OG:function(a,b,e){var d=new c.Ia;d.Oa(b.x,b.y,b.x+1,b.y+1);var h=this,k=new c.ti(this.v),m=this.v;m.Gd(a,function(){m===h.v&&(k.eC(a,d),h.ln=k.eC,h.Vh=[[a,d]],e(a,k.Ne(),k.Ka))})},Fn:function(a,b,e){if(b.constructor!==c.Ia){var d=new c.Ia;d.Oa(b.x1,b.y1,b.x2,b.y2);b=d}var h=this,k=new c.ti(this.v),m=this.v;m.Gd(a,function(){if(m===
h.v){"rectangular"===Tools.Rb.SELECTION_MODE?k.PG(a,b):k.NG(a,b);var c=k.Ka,d=k.Ne();e&&e(a,d,c)}})},pu:function(a,c,b){this.N.$G(a,b);this.N.uR(a,c);this.trigger("textSelected",[c,b,a]);this.Sn()},hM:function(a){this.Hp(a-1)},XE:function(a,c,b){for(var e=0;e<c.length;e++){var d=c[e];d.Lg&&(d=d.Lg());a.fillStyle=b;a.beginPath();a.moveTo(d.x1,d.y1);a.lineTo(d.x2,d.y2);a.lineTo(d.x3,d.y3);a.lineTo(d.x4,d.y4);a.closePath();a.fill()}},pO:function(a,c){var b=this.N.Vd(a).yj;if(b&&0!==b.length){var e=c.getContext("2d");
this.XE(e,b,this.zH);var d={Ne:function(){return b.map(function(a){return a.Lg()})}},k=this.N.rN(),m=!1,n=!1;a===k[0]&&(m=!0);a===k[k.length-1]&&(n=!0);e.save();k=new Annotations.Wj(d,!0,!1,m,n);m=this.tc(a);k.draw(e,d,this.gc(a),m);e.restore()}},oO:function(a,c){var b=this.N.Vd(a).ai;if(b&&0!==b.length){var e=c.getContext("2d"),d=this;b.forEach(function(a){d.XE(e,a.quads,a===d.nC?d.Bw:d.wz)})}},Hp:function(a,c){c=c||this.$i(a);null!==c&&(this.pO(a,c),this.oO(a,c))},Sn:function(a){var c=this.N.CE();
a&&a();a=this.N.CE();c=_.uniq(c.concat(a));for(a=0;a<c.length;++a){var b=c[a];this.Os?this.fa.jd(b+1):(this.RC(b),this.Hp(b))}},select:function(a,b){if(null!==this.Hd&&null!==this.zb||a||b){this.N.Vw();var e;a&&b?(a.Mb=a.pageIndex,a.x=a.x,a.y=a.y,b.Mb=b.pageIndex,b.x=b.x,b.y=b.y,e={first:a.Mb,last:b.Mb}):(console.error("deprecated"),e=this.da.pt());var d=e.first;e=e.last;if(null!==d&&null!==e){var h=new c.Ia,k=a||this.da.Aj(this.Hd,d),m=b||this.da.Aj(this.zb,d),n;k.y>m.y&&(n=k,k=m,m=n);n=this.md(d);
var p=this.ld(d);1<=e-d?h.Oa(k.x,k.y,n,p):h.Oa(k.x,k.y,m.x,m.y);this.Fn(d,h,_.bind(this.pu,this));for(k=d+1;k<e;k++)h=new c.Ia,n=this.md(k),p=this.ld(k),h.Oa(0,0,n,p),this.Fn(k,h,_.bind(this.pu,this));d!==e&&(k=a||this.da.Aj(this.Hd,e),m=b||this.da.Aj(this.zb,e),k.y>m.y&&(m=k),h=new c.Ia,h.Oa(0,0,m.x,m.y),this.Fn(e,h,_.bind(this.pu,this)))}}},RC:function(a){if(0!==this.qt().length||this.N.pN(a)){var c=this.$i(a);null!==c&&(b.o.La.Rw(c,this.md(a),this.ld(a)),this.Os&&this.fa.jd(a+1))}},QC:function(){this.N.Vw();
this.N.PC()},gp:function(){var a=this;this.Sn(function(){a.QC();a.trigger("textSelected",[null,""]);a.rt()instanceof Tools.Rl&&a.rt().gp()})},LM:function(a,c,e){var d=[],h=a-1;a=this.N.Rf(h);if((a=this.Ca.qc(a))&&a.Zd)for(c=this.cy({x:c,y:e},h),e=a.ue?this.cy({x:a.ue.x1,y:a.ue.y1},h):{x:0,y:0},h=b.utils.getCanvasMultiplier(),c.x*=h,c.y*=h,e.x*=h,e.y*=h,c=Math.round(c.y-e.y)*a.Zd.width+Math.round(c.x-e.x),a=a.Zd.data,e=0;e<a.length;++e)if(h=a[e],"Alpha"!==h.name){var k=new Uint8Array(h.data);c<k.length&&
0<=c&&d.push({name:h.name,value:Math.round(k[c]/255*100)})}return d},cy:function(a,c){var e=this.gc(c),d=this.Me(c+1);a=b.ud(e,d,{width:this.md(c),height:this.ld(c)},null,!1).aa(a);return{x:a.x,y:a.y}},IN:function(a,c){var e=this.gc(c),d=this.oe(c+1);a=b.ud(e,d,this.v.Vc(c),0,!1).aa(a);return{x:a.x,y:a.y}},og:{sv:function(){var a=this.ot(),c=this.Qb(),b;b=1===this.da.fc().Lb?this.N.Vd(this.cc).width:this.da.ym().xa()/this.Ih();return parseFloat(c.innerWidth()-a-this.margin*this.da.fc().Lb*2)/(b+1)},
uA:function(){var a=this.Qb(),c=this.N.Vd(this.cc),b=parseFloat(a.innerHeight()-2*this.margin)/c.height,c=1===this.da.fc().Lb?c.width:this.da.ym().xa()/this.Ih(),a=parseFloat(a.innerWidth()-this.ot()-this.margin*this.da.fc().Lb*2)/(c+1);return b<a?b:a},Zoom:function(){this.Ew();return this.N.Tf}},Ou:function(a){if(a&&this.ua!==a){a instanceof Tools.wl||a instanceof Tools.Rl||a instanceof Tools.so||this.gp();var c;this.ua&&(this.ua.switchOut&&this.ua.switchOut(a),c=this.ua);a.switchIn&&a.switchIn(this.ua);
this.ua=a;this.trigger("toolModeUpdated",[a,c])}},IS:function(){var a=this.Qb();this.LG=parseFloat(a.scrollTop())/a[0].scrollHeight;this.KG=parseFloat(a.scrollLeft()+a.innerWidth()/2)/a[0].scrollWidth},HS:function(){var a=this.Qb(),c=this.LG*a[0].scrollHeight,a=this.KG*a[0].scrollWidth-a.innerWidth()/2;this.scrollTo(a,c)},Fz:function(a){null===this.v?(this.kf=a,this.trigger("fitModeUpdated",this.kf)):(a=this.Zr(a),this.da.fc().mode===b.o.sd.Af?this.N.bi(a):a!==this.N.Tf&&(this.So(a),this.Ow()))},
Zr:function(a){this.kf=a;a=this.kf();this.trigger("fitModeUpdated",this.kf);return a},rotate:function(a){var c;_.isUndefined(a)||(c=a+1);this.So(this.kf(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.Me(c),c])},Zm:function(a,c){return c?(a+1)%4:(a-1+4)%4},CQ:function(a){var c=this,b;_.isUndefined(a)?(this.N.Gz(this.Zm(this.oe(),!0)),this.N.UD(function(a){a.rotation=c.Zm(a.rotation,!0)})):(b=a-1,this.N.tq(b,this.Zm(this.oe(a),!0)));this.rotate(b)},DQ:function(a){var c=this,b;_.isUndefined(a)?
(this.N.Gz(this.Zm(this.oe(),!1)),this.N.UD(function(a){a.rotation=c.Zm(a.rotation,!1)})):(b=a-1,this.N.tq(b,this.Zm(this.oe(a),!1)));this.rotate(b)},So:function(a,c,b,e){this.N.bi(a);this.da.fc().Dn&&("undefined"!==typeof c&&"undefined"!==typeof b?(this.Xh(),this.da.eg(),this.da.xf(),this.scrollTo(c,b)):(this.IS(),this.Xh(!1,e),this.da.eg(),this.da.xf(),this.HS()),this.Ca.Qw(),this.sl(),this.trigger("zoomUpdated",this.N.Tf))},mA:function(a,c,b){this.Zr(this.og.Zoom);null===this.v?(this.N.bi(a),this.trigger("zoomUpdated",
a)):this.So(a,c,b)},eT:function(a,c,b){this.Zr(this.og.Zoom);this.N.bi(a);a=this.Qb();c=this.zb.x-c;b=this.zb.y-b;var e=(parseFloat(a.scrollTop())+b)/a[0].scrollHeight,d=(parseFloat(a.scrollLeft())+c)/a[0].scrollWidth;this.Xh();this.da.eg();this.da.xf();this.scrollTo(d*a[0].scrollWidth-c,e*a[0].scrollHeight-b);this.sl();this.trigger("zoomUpdated",this.N.Tf)},gc:function(a){return this.N.Vd(a).zoom},Mu:function(a,c){var b=this.N.Rf(a);this.Ca.fT(b);this.N.Mu(a,c)},Xh:function(a,c){this.Ca.AL(this.N.Tf,
c);this.links=[];if(this.da.fc().mode!==b.o.sd.Af){var e=this.Ca.qd;if(c)this.N.qL();else for(var d=0;d<e.length;d++){var h=e[d],k;k=this.RH?$("#pageContainer"+h).find("#hrthumb"+h):$("#pageContainer"+h).find(".canvas"+h+":not(.progressive)");0<k.length&&this.N.Jz(h,k)}}this.da.mq(!a)},nQ:function(a){if(this.da.fc().Dn){var c=$("#pageContainer"+a),b=$(document.activeElement);0<b.closest("#pageWidgetContainer"+a).length&&b.trigger("focusout");c.children().detach()}a in this.links&&delete this.links[a]},
Yr:function(a){if(0>a||a>=this.N.J.length)return!1;this.cc!==a&&(this.cc=a,this.trigger("pageNumberUpdated",a+1));return!0},we:function(a){if(!this.da.fc().Dn)this.trigger("changePage",a);else if(!1!==this.Yr(parseInt(a,10)-1)){this.dD=!0;a=this.cc;var c=this.da.fc();c.Dy()||c.mode===b.o.sd.Af||(this.da.fc().mode===b.o.sd.Qq&&a++,c.Dd=Math.floor(parseFloat(a)/c.Lb),c.Zc=c.Dd,c.Of=c.Dd+1,this.Xh(),this.da.eg(),this.da.xf());a=this.v.Vc(this.cc);0<this.sp(this.cc)/90%2&&(c=a.width,a.width=a.height,
a.height=c);var c=this.da.pf({x:0,y:0},this.cc),e=this.da.pf({x:a.width,y:a.height},this.cc);a=c.x<e.x?c.x:e.x;c=c.y<e.y?c.y:e.y;e=this.Qb().offset();this.scrollTo(a-e.left,c-this.margin-e.top);this.sl()}},Mm:function(){return this.cc+1},Hb:function(){return this.v.numPages},cM:function(){this.we(this.N.J.length)},bM:function(){this.we(1)},Ew:function(a){a=a||this.da.ym().va();var c=0,b=document.getElementById("docpad");if(null!==b){var e=this.nt(),e=e?parseFloat(e.style.height):0;e>a&&(c=Math.floor((e-
a)/2));b.style.marginBottom=parseInt(c,10)+"px"}},TK:function(a,c){var e=this.gc(c),d=this.N.Vd(c),h=this.oe(c+1),k=d.width*e,e=d.height*e,d=null;h===b.o.Qa.Le||h===b.o.Qa.Nf?(d="rotate("+90*h+"deg)",d=h===b.o.Qa.Le?" translate("+k+"px, 0)  "+d:" translate(0,"+e+"px)  "+d,a.css("height",k),a.css("width",e)):(h===b.o.Qa.jp&&(d="translate("+k+"px,"+e+"px) scale(-1,-1)"),a.css("width",k),a.css("height",e));null!==d&&a.css({position:"absolute",transform:d,"transform-origin":"top left","ms-transform":d,
"ms-transform-origin":"top left","-moz-transform":d,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":d,"-o-transform":d,"-o-transform-origin":"top left"})},BC:function(a,c,e,d){this.trigger("appendThumb",c);a.id=(d?"hrthumb":"thumb")+c;a.style.position="absolute";var h=$(a);this.TK(h,c);e&&(h.css("z-index",d?"10":"7"),e=$("#pageContainer"+c),0<e.length?0===e.find("#"+a.id).length&&e.prepend(a):b.utils.warn("appendThumb: Page container "+c+" missing"))},
Vi:function(a){this.os(a);this.RC(a);this.FL(a);this.fa?(this.DS(a),this.fa.jd(a+1,void 0,!0)):this.Hp(a)},Xo:function(a,c){var e=b.o.La.Xo(a,c);e||b.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.");return e},os:function(a){var c,e=this.ly(a);e&&(c=e.ue);var e=this.v.Vc(a),d=this.sp(a+1);if(90===d||270===d)d=e.width,e.width=e.height,e.height=d;b.o.La.os(a,e,this.gc(a),this.Me(a+1),c)},Eu:function(a,c){b.o.La.Eu(a,c)},FL:function(a){var c=this.v.Vc(a),e=c.width,c=c.height,
d=this.v.Cp(a);if(90===d||270===d)d=e,e=c,c=d;var d=this.gc(a)/b.utils.getCanvasMultiplier(),e=e*d,c=c*d,h=b.ud(1,this.Me(a+1),{width:e,height:c}),d=$("#pageWidgetContainer"+a);0===d.length&&(d=$('<div id="pageWidgetContainer'+a+'" />'),b.o.La.NE(a).append(d));h="matrix("+h.m_a.toFixed(10)+","+h.m_b.toFixed(10)+","+h.m_c.toFixed(10)+","+h.m_d.toFixed(10)+","+h.m_h.toFixed(10)+","+h.m_v.toFixed(10)+")";a=this.da.Ux(a);d.css({position:"absolute",top:a.y,left:a.x,width:e,height:c,"z-index":40,transform:h,
"transform-origin":"top left","-webkit-transform":h,"-webkit-transform-origin":"top left","-ms-transform":h,"-ms-transform-origin":"top left","-moz-transform":h,"-moz-transform-origin":"top left",overflow:"hidden"});return d},Tx:function(a){return this.N.Vd(a)},iQ:function(){this.trigger("layoutChanged",{contentChanged:_.range(1,this.Hb()+1),removed:[],added:[],moved:{}});this.Ca.Qw()},jQ:function(a){this.trigger("layoutChanged",{contentChanged:[a],removed:[],added:[],moved:{}});this.Ca.Jp(this.Tx(a-
1).id)},DS:function(a){a=this.v.nN(a);_.isArray(a)&&this.fa.Ji(a,!0)},sl:function(a,c){_.isUndefined(c)||this.Yr(c);this.Tn(a);this.Ca.lD(a);this.MC()},Tn:function(a){a=a||this.da.Wd();var c=this.Ca.VK(a);this.Ca.Tn(a);c&&this.trigger("visiblePagesChanged",[a])},On:function(a){this.Ca.On(a)},onscroll:function(){this.v&&this.Yh.qf("DocumentViewer.renderRequest",{type:"pages",useVisiblePages:!0,check:!0});this.MC()},jO:function(a){return 0<$("#pageContainer"+a).find("#thumb"+a).length},gO:function(a){return 0<
$("#pageContainer"+a).find("#hrthumb"+a).length},BS:function(){if(this.dD)this.dD=!1;else{var a=0,c;this.Tn();for(var e=this.Ca.qd,d=0;d<e.length;d++){var h=this.Qb(),k=h.scrollTop()||0,m=k+h.innerHeight(),n=h.scrollLeft()||0,h=n+h.innerWidth(),m={x1:n,y1:k,x2:h,y2:m},h=e[d];0>h||(k=this.v.Vc(h),n=this.da.pf({x:0,y:0},h),h=this.da.pf({x:k.width,y:k.height},h),m=b.utils.getRectIntersection(m,{x1:n.x<h.x?n.x:h.x,y1:n.y<h.y?n.y:h.y,x2:n.x>h.x?n.x:h.x,y2:n.y>h.y?n.y:h.y}),k=parseFloat((m.x2-m.x1)*(m.y2-
m.y1))/(k.width*k.height),k>a&&(c=e[d],a=k))}0<a&&this.Yr(c)}},Oz:function(a){this.Ca.Oz(a)},cH:function(){},ol:function(a){this.Ya=Promise.resolve(a);if(this.v){var c=this;this.Ya.then(function(a){c.v.ol(a)})}},ME:function(){return this.Ya}};$.extend(e.W.prototype,b.utils.eventHandler);Object.defineProperty(e.W.prototype,"zoom",{get:function(){return this.Ih()},set:function(a){this.N.bi(a)}});b.o=b.o||{}})(window);window.o.W.prototype.version="3.2.1.66389";
(function(b){var d=b.Annotations||{};b.Annotations=d;d.O=d.O||{};d.O.getUsableInputWidth=function(b){return b};d.O.El=function(b){this.fa=b;this.init()};d.O.El.prototype={init:function(){this.kb={};this.Lw=[];this.fw=!1;this.Nn=this.xB=!0},UQ:function(b){this.Lw=b},yb:function(b){if(!b)return null;b=b.split(".");var c=this.kb[b[0]];if(c)for(var a=1;a<b.length&&(c=c.Jx(b[a]),c);++a);return c?c:null},gs:function(b,c){if(c){var a=this.ht(b.name);a.set(b);b=a;b.widgets.forEach(function(a){a.WG(b)});b.off("change")}else a=
b.name.split("."),1===a.length?this.kb[b.name]=b:this.ht(a.slice(0,-1).join(".")).rC(new d.O.ea(b.name,b));b.set({fieldManager:this});this.fa&&b.uf(this.fa.u);b.on("change",_.bind(this.yx,this));return b},$o:function(b,c){if(!this.fw&&this.Nn){this.fw=!0;var a=this.Lw;if(!c||this.xB)c=0,this.xB=!1;for(var d=c;d<a.length;++d){var g=a[d],l=this.yb(g);l?l.trigger("calculate",[b]):console.warn("Non-existent field referenced in calculation order",g,l)}this.fw=!1}},yx:function(b,c){this.$o(c,0);this.fa.trigger("fieldChanged",
[c,c.value])},ht:function(e){if(!e)return null;e=e.split(".");var c=this.kb[e[0]];c||(c=new b.Annotations.O.ea(e[0],{fieldManager:this}),c.on("change",_.bind(this.yx,this)),this.kb[e[0]]=c);for(var a=1;a<e.length;++a){var d=e[a],g=c.Jx(d);g?c=g:(g=new b.Annotations.O.ea(c.name+"."+d,{fieldManager:this}),c.rC(g),c=g,c.on("change",_.bind(this.yx,this)))}this.fa&&c.uf(this.fa.u);return c},Cq:function(b){this.pp(function(c){c.fA(b)})},pp:function(b){var c=this;Object.keys(this.kb).forEach(function(a){b(c.kb[a])})},
Sc:function(){this.pp(function(b){b.off()});this.init()}}})(window);
(function(b){b.Annotations||(b.Annotations={});var d=b.Annotations;d.O=d.O||{};d.O.ea=function(e,c){if(c instanceof d.O.ea)return c;b.Actions.ah.call(this,c);this.nc=e;this.Ze=[];this.Lf=[];this.ik=!1;this.Fg=null;this.cm=new d.pg;this.Zb=new d.wi({mask:["ReadOnly","Required","NoExport"]});this.cf=-1;this.$b||(this.$b=new d.O.ea.Nb(this));this.initialize(c);this.on("calculate",_.bind(this.$o,this));this.on("commit",_.bind(this.Xw,this))};d.O.ea.prototype={initialize:function(b){_.isObject(b)&&(b.type&&
this.eH(b.type),_.isArray(b.children)&&$.extend(this.Ze,b.children),b.widgets&&$.extend(this.Lf,b.widgets),b.fieldManager&&(this.Fg=b.fieldManager),b.font&&this.cm.set(b.font),_.isUndefined(b.maxLen)||(this.cf=Number(b.maxLen)),this.$b.set(b))},set:function(b){this.initialize(b);_.isObject(b)&&_.isObject(b.actions)&&this.ds(b.actions)},VD:function(b){this.Lf.forEach(b)},eH:function(b){"Tx"===b?this.$b=new d.O.ea.Fv(this,this.$b):"Ch"===b?this.$b=new d.O.ea.iv(this,this.$b):"Btn"===b?this.$b=new d.O.ea.gv(this,
this.$b):"Sig"===b?this.$b=new d.O.ea.Dv(this,this.$b):console.warn("Unrecognised field type: "+b);this.as=b},wf:function(b){this.Lf.forEach(function(c){c.wf(b)})},fE:function(){return this.Ze},TO:function(){return 0===this.Ze.length},MK:function(e,c){if(-1===this.Lf.indexOf(e))if(_.isUndefined(c))this.Lf.push(e);else{this.Lf[c]=e;for(var a=0;a<this.Lf.length;++a)this.Lf[a]||(this.Lf[a]=new b.Annotations.WidgetAnnotation(this,{}))}},Wf:function(b){this.$b.Wf(b)},Ab:function(b,c){this.$b.Ab(b,c)},
Ua:function(){return this.$b.Ua()},wp:function(){return this.$b.wp()},$d:function(b){this.$b.$d(b)},hs:function(b,c){this.$b.hs(b,c)},Jg:function(){return this.$b.Jg()},Iu:function(b){this.$b.Iu(b)},rp:function(){return this.$b.rp()},Xx:function(){var b=this.nc.split(".");return b[b.length-1]},uN:function(){var b,c=this.nc.split(".");1<c.length&&(b=c.slice(0,c.length-1).join("."));return b},fA:function(b,c){var a=this.Xx();(c=(c?c+".":"")+a)||(c="");if(this.TO()){if(b.cq){var d=!0;b.Rs&&(b.Rs(this)||
(d=!1));d&&b.cq(c,a,this)}}else{var g;b.Rs?(g=[],this.Ze.forEach(function(a){b.Rs(a)&&g.push(a)})):g=this.Ze;0<g.length&&(b.du&&b.du(c,a,this),g.forEach(function(a){a.fA(b,c)}),b.Wy&&b.Wy(c,a,this))}},Jx:function(b){for(var c=this.Ze,a=c.length,d=0;d<a;++d){var g=c[d];if(g.Xx()===b)return g}if(b.match(/^\d+$/))return this.Lf[parseInt(b,10)]},removeChild:function(b){b=this.Ze.indexOf(b);-1!==b&&this.Ze.splice(b,1)},rC:function(b){var c=this.Jx(b.Xx());c&&this.removeChild(c);this.Ze.push(b)},FG:function(){this.Ab(this.rp())},
$o:function(e,c){var a=new b.Annotations.O.tb.Events.ea.create("Calculate",this,{value:this.value,source:c,rc:!0}),d=this.Ua();this.xe("C",a);var g=this.wV;this.cf=-1;var l=a.value;a.rc&&l!==d&&this.Ab(l);this.cf=g},uu:function(){this.VD(function(b){b.refresh()})},Xw:function(e,c,a){e=b.Annotations.O.tb.Events.ea.create("Keystroke",this,{value:c,change:"",willCommit:!0,selStart:-1,selEnd:-1});this.xe("K",e);e.rc&&(c=b.Annotations.O.tb.Events.Om(e),e=new b.Annotations.O.tb.Events.ea.create("Validate",
this,{value:c}),this.xe("V",e),e.rc&&this.Ab(e.value,a))},ae:function(b){this.$b.ae(b)}};$.extend(d.O.ea.prototype,Object.create(b.utils.eventHandler));Object.defineProperties(d.O.ea.prototype,{name:{get:function(){return this.nc}},value:{get:function(){return this.Ua()},set:function(b){this.Ab(b)}},widgets:{get:function(){return this.Lf}},children:{get:function(){return this.Ze}},options:{get:function(){return this.Jg()},set:function(b){this.$d(b)}},exportValue:{get:function(){return this.wp()}},
actions:{get:function(){return this.Ek()}},defaultValue:{get:function(){return this.rp()},set:function(b){this.Iu(b)}},flags:{get:function(){return this.$b.Zb}},IsModified:{set:function(b){b!==this.ik&&this.Ze.forEach(function(c){c.IsModified=b});this.ik=b},get:function(){return this.ik||this.Ze.reduce(function(b,c){return b||c.IsModified},!1)}},font:{get:function(){return this.cm}},maxLen:{get:function(){return this.cf},set:function(b){this.cf=Number(b);0<this.cf&&this.Ab(this.Ua())}},type:{get:function(){return this.as}},
userName:{get:function(){return this.xK},set:function(b){this.xK=b}}});$.extend(d.O.ea.prototype,b.Actions.ah.prototype);d.O.ea.Nb=function(b){this.Ea=b;this._value=this.$v="";this.Zb=new d.wi({mask:["ReadOnly","Required","NoExport"]})};d.O.ea.Nb.prototype={Ab:function(e,c){var a=this.Ea,d=typeof e;"number"===d?e=b.Annotations.ba.toFixed(e,6):e&&"string"!==d&&(e=e.toString());d=this._value!==e;this.ae(e);d&&(e=this._value,this.Nz(e,c),a.IsModified=!0,a.trigger("change",[a]))},Nz:function(b){this.Ea.VD(function(c){c.Ab(b)})},
ae:function(b){this._value=b},Wf:function(b){this.ae(b)},set:function(b){_.isObject(b)&&(_.isNull(b.value)||_.isUndefined(b.value)||(this._value=b.value),_.isNull(b.defaultValue)||_.isUndefined(b.defaultValue)||(this.$v=b.defaultValue),b.flags&&(_.isArray(b.flags)?this.Zb.set(b.flags,!0):_.isObject(b.flags)&&this.Zb.set(b.flags.toArray(),!0)))},Ua:function(){return this._value},rp:function(){return this.$v},Iu:function(b){this.$v=b},hs:function(){},Jg:function(){return null},$d:function(){},wp:function(){return this._value}};
Object.defineProperties(d.O.ea.Nb.prototype,{value:{get:function(){return this.Ua()},set:function(b){this.Ab(b)}},defaultValue:{get:function(){return this.rp()},set:function(b){this.Iu(b)}}});d.O.ea.Fv=function(b,c){if(c instanceof d.O.ea.Fv)return c;d.O.ea.Nb.call(this,b);this.Zb.np("Multiline Password FileSelect DoNotSpellCheck DoNotScroll Comb RichText".split(" "));this.set(c)};d.O.ea.Fv.prototype=$.extend(Object.create(d.O.ea.Nb.prototype),{ae:function(b){var c=this.Ea.maxLen;0<c&&!_.isNull(b)&&
(b=String(b),b.length>c&&(b=b.slice(0,c)));d.O.ea.Nb.prototype.ae.call(this,b)}});d.O.ea.iv=function(b,c){if(c instanceof d.O.ea.iv)return c;d.O.ea.Nb.call(this,b);this.Zb.np("Combo Edit Sort MultiSelect DoNotSpellCheck CommitOnSelChange".split(" "));this.df=[];this.set(c)};d.O.ea.iv.prototype=$.extend(Object.create(d.O.ea.Nb.prototype),{set:function(b){_.isObject(b)&&b.options&&this.$d(b.options);d.O.ea.Nb.prototype.set.call(this,b)},lN:function(b){for(var c=0;c<this.df.length;++c){var a=this.df[c];
if(a.value===b)return a}return null},ae:function(b){this.Zb.get("Edit")||!_.isNull(this.lN(b))?d.O.ea.Nb.prototype.ae.call(this,b):(b=this.df[0])?d.O.ea.Nb.prototype.ae.call(this,b.value):d.O.ea.Nb.prototype.ae.call(this,null)},Jg:function(){return this.df},hs:function(b,c){for(var a=this.df,d=0;d<a.length;++d)if(a[d].value===a.value)return;this.df.splice(c,0,b);this.Zb.get("Combo")||this.Ab(b.value)},$d:function(b){this.df=b.map(function(c){var a=c.value;c=c.displayValue;return{value:a,displayValue:_.isUndefined(c)?
a:c}})}});d.O.ea.gv=function(b,c){if(c instanceof d.O.ea.gv)return c;d.O.ea.Nb.call(this,b);this.Zb.np(["NoToggleToOff","Radio","PushButton","RadiosInUnison"]);this.df=null;this.set(c);""===this._value&&(this._value="Off")};d.O.ea.gv.prototype=$.extend(Object.create(d.O.ea.Nb.prototype),{set:function(b){d.O.ea.Nb.prototype.set.call(this,b);_.isObject(b)&&b.options&&this.$d(b.options)},Jg:function(){return this.df},Wf:function(b){(""===this._value||"Off"!==b||this.Ea.widgets.every(function(c){return!c.appearance}))&&
d.O.ea.Nb.prototype.Wf.call(this,b)},ae:function(b){"Off"!==b?""===b?d.O.ea.Nb.prototype.ae.call(this,"Off"):d.O.ea.Nb.prototype.ae.call(this,b):this.Zb.get("NoToggleToOff")&&this.Zb.get("Radio")||d.O.ea.Nb.prototype.ae.call(this,b)},wp:function(){return this.df?this.df[Number(this.Ua())]:d.O.ea.Nb.prototype.wp.call(this)},$d:function(b){this.df=b.slice()},Nz:function(b,c){d.O.ea.Nb.prototype.Nz.call(this,b,c)}});d.O.ea.Dv=function(b,c){if(c instanceof d.O.ea.Dv)return c;d.O.ea.Nb.call(this,b);this.set(c)};
d.O.ea.Dv.prototype=$.extend(Object.create(d.O.ea.Nb.prototype),{})})(window);
(function(b){function d(a){return _.isArray(a)?a.map(d).join(" "):_.isNumber(a)?a.toString():_.escape(String(a))}function e(a,c,b,e){b!==e&&a.writeAttributeString(c,d(b))}function c(a,c,b){var f=b.nq||[];b=b.rn||{};for(var g=0;g<f.length;++g){var h=f[g],l=c[h];_.isUndefined(c)?console.warn("Required attribute: "+h+" is undefined"):a.writeAttributeString(h,d(l))}for(var k in b)b.hasOwnProperty(k)&&e(a,k,c[k],b[k])}function a(a,b,g,h){h=h||"actions";var l=Object.keys(b);if(0<l.length){a.writeStartElement(h);
for(h=0;h<l.length;++h)a.writeStartElement("action"),a.writeAttributeString("trigger",_.escape(l[h])),b[l[h]].forEach(function(b){var h=b.name;switch(h){case "JavaScript":a.writeStartElement("javascript");a.writeString(d(b.javascript));a.writeEndElement();break;case "ResetForm":a.writeStartElement("reset-form");c(a,b,{nq:["exclude"]});b.fields&&f(a,b.fields);a.writeEndElement();break;case "SubmitForm":a.writeStartElement("submit-form");c(a,b,{nq:["url","format"],rn:{method:"POST",exclude:!1}});h=
b.flags.toArray();0<h.length&&a.writeAttributeString("flags",d(h));b=b.fields;0<b.length&&f(a,b);a.writeEndElement();break;case "GoTo":a.writeStartElement("goto");a.writeStartElement("dest");b=b.dest;c(a,b,{nq:["fit","page"],rn:{zoom:void 0}});var l=g(b.page).inverse(),h=b.top||0,k=b.left||0,q=b.bottom||0,n=b.right||0,k=l.aa({x:k,y:h}),l=l.aa({x:n,y:q}),h=_.isUndefined(b.top)?null:k.y,k=_.isUndefined(b.left)?null:k.x,n=_.isUndefined(b.right)?null:l.x,q=_.isUndefined(b.bottom)?null:l.y;e(a,"top",h,
null);e(a,"left",k,null);e(a,"right",n,null);e(a,"bottom",q,null);a.writeEndElement();a.writeEndElement();break;case "URI":a.writeStartElement("uri");c(a,b,{nq:["uri"]});a.writeEndElement();break;case "Hide":a.writeStartElement("hide");c(a,b,{rn:{hide:!0}});f(a,b.fields);a.writeEndElement();break;case "Named":a.writeStartElement("named");a.writeAttributeString("name",_.escape(b.action));a.writeEndElement();break;default:console.warn("Unrecognised action name"+h)}}),a.writeEndElement();a.writeEndElement()}}
function f(a,c,b){b||(b="fields");a.writeStartElement(b);b=c.length;for(var e=0;e<b;++e){var d=a,f=c[e];d.writeStartElement("ffield");d.writeAttributeString("name",_.escape(f));d.writeEndElement()}a.writeEndElement()}function g(a,c,b,d){if(d||!c.nF())a.writeStartElement(b),e(a,"r",c.R,0),e(a,"g",c.G,0),e(a,"b",c.B,0),e(a,"a",c.A,1),a.writeEndElement()}function l(a,b,d){if(b&&(0!==b.size||""!==b.name||"Type1"!==b.type||!b.Pk())){a.writeStartElement("font");c(a,b,{rn:{type:"Type1",name:""}});var f=
b.size,h=d.inverse();d=h.aa({x:0,y:0});h=h.aa({x:f,y:0});f=d.x-h.x;d=d.y-h.y;e(a,"size",Math.sqrt(f*f+d*d),0);d=b.fillColor;d.Pk()||g(a,d,"fill-color",!0);b=b.strokeColor;b.Pk()||g(a,b,"stroke-color",!0);a.writeEndElement()}}function h(a,c,b){a.writeStartElement("aappearance");a.writeAttributeString("name",c);Object.keys(b).forEach(function(c){a.writeStartElement(c);a.writeString(d(b[c]||""));a.writeEndElement()});a.writeEndElement()}b.qg=b.qg||{};var k=b.qg;k.parse=function(a,c,b,e){var d={calculationOrder:[],
widgets:[],fields:{},pages:[],documentActions:{}},f=a.ta();"pdf-info"!==f?(console.warn("pdf-info missing. found: "+f),b(d)):(f=a.K("version"),"1"===f?k.zJ.parse(a,c,b,e):"2"===f?k.AJ.parse(a,c,b,e):(console.warn("PDFInfo version is incorrect: "+f),b(d)))};k.write=function(b,k,p){b.writeStartElement("pdf-info");b.writeAttributeString("xmlns","http://www.pdftron.com/pdfinfo");b.writeAttributeString("version","2");var q=k.calculationOrder;_.isArray(q)&&0<q.length&&f(b,q,"calculation-order");a(b,k.documentActions,
p,"document-actions");q=k.pages;if(0<q.length){b.writeStartElement("pages");for(var u=0;u<q.length;++u){var r=b,v=q[u],w=p;r.writeStartElement("page");r.writeAttributeString("number",d(v.number));a(r,v.actions,w);r.writeEndElement()}b.writeEndElement()}u=k.fields;r=Object.keys(u);for(q=0;q<r.length;++q){var v=b,z=u[r[q]],w=p;v.writeStartElement("ffield");c(v,z,{rn:{},nq:["type","name"]});var D=z.flags.toArray();0<D.length&&v.writeAttributeString("flags",d(D));D=z.maxLen;-1!==D&&v.writeAttributeString("max-len",
d(D));a(v,z.Ek(),w);(D=z.defaultValue)&&v.writeElementString("default-value",d(D));l(v,z.font,w(1));w=v;if((z=z.options)&&0<z.length){w.writeStartElement("options");for(var D=z.length,A=0;A<D;++A){w.writeStartElement("option");var x=z[A].displayValue,y=z[A].value;x===y||_.isUndefined(x)||w.writeAttributeString("display-value",d(x));w.writeAttributeString("value",d(y));w.writeEndElement()}w.writeEndElement()}v.writeEndElement()}k=k.widgets;for(q=0;q<k.length;++q){u=b;r=k[q];v=p;u.writeStartElement("widget");
c(u,r,{rn:{appearance:"",rotation:0,quadding:"Left-justified"}});w=r;w=w.yb().widgets.indexOf(w);w=d(w);"0"!==w&&u.writeAttributeString("index",w);u.writeAttributeString("field",d(r.yb().name));w=r.flags.toArray();0<w.length&&u.writeAttributeString("flags",d(w));D=r.PageNumber;u.writeAttributeString("page",d(D));w=u;z=r.rect;D=v(D);w.writeStartElement("rect");A=D.inverse();D=A.aa({x:z.x1,y:z.y1});z=A.aa({x:z.x2,y:z.y2});A={};A.x1=_.min([D.x,z.x]);A.x2=_.max([D.x,z.x]);A.y1=_.min([D.y,z.y]);A.y2=_.max([D.y,
z.y]);w.writeAttributeString("x1",d(Number(Number(A.x1).toFixed(4))));w.writeAttributeString("x2",d(Number(Number(A.x2).toFixed(4))));w.writeAttributeString("y1",d(Number(Number(A.y1).toFixed(4))));w.writeAttributeString("y2",d(Number(Number(A.y2).toFixed(4))));w.writeEndElement();w=u;!(z=r.border)||z.color.nF()&&1===z.width&&"Solid"===z.style||(w.writeStartElement("border"),e(w,"width",z.width,1),e(w,"style",z.style,"Solid"),z=z.color,z.Pk()||g(w,z,"color",!0),w.writeEndElement());g(u,r.backgroundColor,
"background-color");a(u,r.Ek(),v);w=u;z=r.appearances;D=Object.keys(z);if(0<D.length){w.writeStartElement("appearances");A=D.length;for(x=0;x<A;++x)y=D[x],h(w,y,z[y]);w.writeEndElement()}w=u;z=r;z.eO()&&(w.writeStartElement("extra"),l(w,z.font,v(1)),w.writeEndElement());v=u;r=r.captions;w=r.Rollover;z=r.Down;if(r.Normal||w||z)v.writeStartElement("captions"),e(v,"Normal",r.Normal,""),e(v,"Rollover",r.Rollover,""),e(v,"Down",r.Down,""),v.writeEndElement();u.writeEndElement()}b.writeEndElement()}})(window);
(function(b){function d(a){var c=[];for(a.ma();a.advance();){var b=a.ta();"field"===b?c.push(String(a.K("name"))):console.warn("unrecognised field list element: "+b)}a.wa();return c}function e(a,c){return c?"false"===a?!1:!0:"true"===a?!0:!1}function c(a,c){var b=a.ta();switch(b){case "javascript":return{name:"JavaScript",javascript:a.current.textContent};case "uri":return{name:"URI",uri:a.K("uri")};case "goto":b=null;a.ma();if(a.advance()){var f=a.K("fit"),b={page:a.K("page"),fit:f};if("0"===b.page)console.warn("null page encountered in dest");
else{var g=c(Number(b.page));switch(f){case "Fit":case "FitB":break;case "FitH":case "FitBH":b.top=g.aa({x:0,y:a.K("top")||0}).y;break;case "FitV":case "FitBV":b.left=g.aa({x:a.K("left")||0,y:0}).x;break;case "FitR":f=g.aa({x:a.K("left")||0,y:a.K("top")||0});g=g.aa({x:a.K("right")||0,y:a.K("bottom")||0});g=new Annotations.Rect(f.x,f.y,g.x,g.y);b.top=g.y1;b.left=g.x1;b.bottom=g.y2;b.right=g.x2;break;case "XYZ":f=g.aa({x:a.K("left")||0,y:a.K("top")||0});b.top=f.y;b.left=f.x;b.zoom=a.K("zoom")||0;break;
default:console.warn("unknown dest fit: "+f)}}b={name:"GoTo",dest:b}}else console.OS("missing dest in GoTo action");a.wa();return b;case "submit-form":b={name:"SubmitForm",url:a.K("url"),format:a.K("format"),method:a.K("method")||"POST",exclude:e(a.K("exclude"),!1)};g=a.K("flags");b.flags=g?g.split(" "):[];for(a.ma();a.advance();)switch(g=a.ta(),g){case "fields":b.fields=d(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.wa();return b;case "reset-form":b={name:"ResetForm",exclude:e(a.K("exclude"),
!1)};for(a.ma();a.advance();)switch(g=a.ta(),g){case "fields":b.fields=d(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.wa();return b;case "hide":b={name:"Hide",hide:e(a.K("hide"),!0)};for(a.ma();a.advance();)switch(g=a.ta(),g){case "fields":b.fields=d(a);break;default:console.warn("unrecognised hide child: "+g)}a.wa();return b;case "named":return{name:"Named",action:a.K("name")};default:console.warn("Encountered unexpected action type: "+b)}return null}function a(a,b,e){var d=
{};for(a.ma();a.advance();){var f=a.ta();switch(f){case "action":f=a.K("trigger");if(b?-1!==b.indexOf(f):1){d[f]=[];for(a.ma();a.advance();){var g=c(a,e);_.isNull(g)||d[f].push(g)}a.wa()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.wa();return d}function f(a){return"calculation-order"===a.ta()?d(a):[]}function g(a){return new b.Annotations.Color(a.K("r")||0,a.K("g")||0,a.K("b")||0,a.K("a")||1)}function l(a,c){var b=
a.K("name"),e=a.K("type")||"Type1",d=a.K("size"),f=c.aa({x:0,y:0}),h=c.aa({x:Number(d),y:0}),d=f.x-h.x,f=f.y-h.y,b={name:b,type:e,size:Math.sqrt(d*d+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.ma();a.advance();)switch(e=a.ta(),e){case "stroke-color":b.strokeColor=g(a);break;case "fill-color":b.fillColor=g(a);break;default:console.warn("unrecognised font child: "+e)}a.wa();return b}function h(c,b){var e={border:{style:"Solid",width:1},backgroundColor:[],fieldName:c.K("field"),page:c.K("page"),
index:c.K("index")||0,rotation:c.K("rotation")||0,flags:[]},d=c.K("appearance");d&&(e.appearance=d);(d=c.K("flags"))&&(e.flags=d.split(" "));for(c.ma();c.advance();)switch(d=c.ta(),d){case "rect":var f=c,h=b(Number(e.page)),d=h.aa({x:f.K("x1")||0,y:f.K("y1")||0}),f=h.aa({x:f.K("x2")||0,y:f.K("y2")||0}),d=new Annotations.Rect(d.x,d.y,f.x,f.y);d.normalize();e.rect={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2};break;case "border":d=c;f={style:d.K("style")||"Solid",width:d.K("width")||1,color:[0,0,0]};for(d.ma();d.advance();)switch(h=
d.ta(),h){case "color":f.color=g(d);break;default:console.warn("unrecognised border child: "+h)}d.wa();e.border=f;break;case "background-color":e.backgroundColor=g(c);break;case "actions":e.actions=a(c,"E X D U Fo Bl PO PC PV PI".split(" "),b);break;case "appearances":d=c;f={};for(d.ma();d.advance();)if(h=d.ta(),"appearance"===h){var h=d.K("name"),k=d,m={};for(k.ma();k.advance();){var n=k.ta();switch(n){case "Normal":m.Normal=k.current.textContent;break;default:console.warn("unexpected appearance state: ",
n)}}k.wa();f[h]=m}else console.warn("unexpected appearances child: "+h);d.wa();e.appearances=f;break;case "extra":d=c;f=b;h={};for(d.ma();d.advance();)switch(k=d.ta(),k){case "font":h.font=l(d,f(1));break;default:console.warn("unrecognised extra child: "+k)}d.wa();d=h;d.font&&(e.font=d.font);break;case "captions":f=c;d={};(h=f.K("Normal"))&&(d.Normal=h);(h=f.K("Rollover"))&&(d.Rollover=h);(f=f.K("Down"))&&(d.Down=f);e.captions=d;break;default:console.warn("unrecognised widget child: "+d)}c.wa();return e}
function k(a){var c={value:a.K("value")};(a=a.K("display-value"))&&(c.displayValue=a);return c}function m(c,e){var d=c.K("name"),f={type:c.K("type"),quadding:c.K("quadding")||"Left-justified",maxLen:c.K("max-len")||-1},g=c.K("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.ma();c.advance();)switch(g=c.ta(),g){case "actions":f.actions=a(c,["C","F","K","V"],e);break;case "default-value":g=c;g.ma();g.advance();var h=g.current.textContent;g.wa();f.defaultValue=h;break;case "font":f.font=l(c,e);break;
case "options":g=c;h=[];for(g.ma();g.advance();){var m=g.ta();switch(m){case "option":h.push(k(g));break;default:console.warn("unrecognised options child: "+m)}}g.wa();f.options=h;break;default:console.warn("unknown field child: "+g)}c.wa();return new b.Annotations.O.ea(d,f)}function n(a,c){switch(a.type){case "Tx":return new b.Annotations.Xj(a,c);case "Ch":return a.flags.get("Combo")?new b.Annotations.mg(a,c):new b.Annotations.ni(a,c);case "Btn":return a.flags.get("PushButton")?new b.Annotations.Mj(a,
c):a.flags.get("Radio")?new b.Annotations.Nj(a,c):new b.Annotations.ki(a,c);case "Sig":return new b.Annotations.Sj(a,c);default:console.warn("Unrecognised field type: "+a.type)}return null}function p(c,b){var e={number:c.K("number")};for(c.ma();c.advance();){var d=c.ta();switch(d){case "actions":e.actions=a(c,["O","C"],b);break;default:console.warn("unrecognised page child: "+d)}}c.wa();return e}b.qg=b.qg||{};b.qg.zJ={parse:function(c,e,d,g){var l=[],k={};c.ma();var D=[],A={},x=[];b.busyLoop(function(){var b,
d;if(c.advance()){b=c.ta();switch(b){case "calculation-order":D=f(c);break;case "document-actions":A=a(c,["Init","Open"],e);break;case "pages":b=[];for(c.ma();c.advance();)switch(d=c.ta(),d){case "page":b.push(p(c,e));break;default:console.warn("unrecognised page child: "+d)}c.wa();x=b;break;case "field":b=m(c,e(1));k[b.name]=b;break;case "widget":d=h(c,e);(b=k[d.fieldName])?(b=n(b,d),l.push(b)):console.warn("ignoring widget with no corresponding field data: "+d.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+
b)}return!0}return!1},function(){c.wa();d({calculationOrder:D,widgets:l,fields:k,documentActions:A,pages:x})},g)},NP:m,PP:h,ZF:f}})(window);
(function(b){function d(a){var c=[];for(a.ma();a.advance();){var b=a.ta();"ffield"===b?c.push(String(a.K("name"))):console.warn("unrecognised field list element: "+b)}a.wa();return c}function e(a,c){return c?"false"===a?!1:!0:"true"===a?!0:!1}function c(a,c){var b=a.ta();switch(b){case "javascript":return{name:"JavaScript",javascript:a.current.textContent};case "uri":return{name:"URI",uri:a.K("uri")};case "goto":b=null;a.ma();if(a.advance()){var f=a.K("fit"),b={page:a.K("page"),fit:f};if("0"===b.page)console.warn("null page encountered in dest");
else{var g=c(Number(b.page));switch(f){case "Fit":case "FitB":break;case "FitH":case "FitBH":b.top=g.aa({x:0,y:a.K("top")||0}).y;break;case "FitV":case "FitBV":b.left=g.aa({x:a.K("left")||0,y:0}).x;break;case "FitR":f=g.aa({x:a.K("left")||0,y:a.K("top")||0});g=g.aa({x:a.K("right")||0,y:a.K("bottom")||0});g=new Annotations.Rect(f.x,f.y,g.x,g.y);b.top=g.y1;b.left=g.x1;b.bottom=g.y2;b.right=g.x2;break;case "XYZ":f=g.aa({x:a.K("left")||0,y:a.K("top")||0});b.top=f.y;b.left=f.x;b.zoom=a.K("zoom")||0;break;
default:console.warn("unknown dest fit: "+f)}}b={name:"GoTo",dest:b}}else console.OS("missing dest in GoTo action");a.wa();return b;case "submit-form":b={name:"SubmitForm",url:a.K("url"),format:a.K("format"),method:a.K("method")||"POST",exclude:e(a.K("exclude"),!1)};g=a.K("flags");b.flags=g?g.split(" "):[];for(a.ma();a.advance();)switch(g=a.ta(),g){case "fields":b.fields=d(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.wa();return b;case "reset-form":b={name:"ResetForm",exclude:e(a.K("exclude"),
!1)};for(a.ma();a.advance();)switch(g=a.ta(),g){case "fields":b.fields=d(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.wa();return b;case "hide":b={name:"Hide",hide:e(a.K("hide"),!0)};for(a.ma();a.advance();)switch(g=a.ta(),g){case "fields":b.fields=d(a);break;default:console.warn("unrecognised hide child: "+g)}a.wa();return b;case "named":return{name:"Named",action:a.K("name")};default:console.warn("Encountered unexpected action type: "+b)}return null}function a(a,b,e){var d=
{};for(a.ma();a.advance();){var f=a.ta();switch(f){case "action":f=a.K("trigger");if(b?-1!==b.indexOf(f):1){d[f]=[];for(a.ma();a.advance();){var g=c(a,e);_.isNull(g)||d[f].push(g)}a.wa()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.wa();return d}function f(a){return"calculation-order"===a.ta()?d(a):[]}function g(a){return new b.Annotations.Color(a.K("r")||0,a.K("g")||0,a.K("b")||0,a.K("a")||1)}function l(a,c){var b=
a.K("name"),e=a.K("type")||"Type1",d=a.K("size"),f=c.aa({x:0,y:0}),h=c.aa({x:Number(d),y:0}),d=f.x-h.x,f=f.y-h.y,b={name:b,type:e,size:Math.sqrt(d*d+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.ma();a.advance();)switch(e=a.ta(),e){case "stroke-color":b.strokeColor=g(a);break;case "fill-color":b.fillColor=g(a);break;default:console.warn("unrecognised font child: "+e)}a.wa();return b}function h(c,b){var e={border:{style:"Solid",width:1},backgroundColor:[],fieldName:c.K("field"),page:c.K("page"),
index:c.K("index")||0,rotation:c.K("rotation")||0,quadding:c.K("quadding")||"Left-justified",flags:[]},d=c.K("appearance");d&&(e.appearance=d);(d=c.K("flags"))&&(e.flags=d.split(" "));for(c.ma();c.advance();)switch(d=c.ta(),d){case "rect":var f=c,h=b(Number(e.page)),d=h.aa({x:f.K("x1")||0,y:f.K("y1")||0}),f=h.aa({x:f.K("x2")||0,y:f.K("y2")||0}),d=new Annotations.Rect(d.x,d.y,f.x,f.y);d.normalize();e.rect={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2};break;case "border":d=c;f={style:d.K("style")||"Solid",width:d.K("width")||
1,color:[0,0,0]};for(d.ma();d.advance();)switch(h=d.ta(),h){case "color":f.color=g(d);break;default:console.warn("unrecognised border child: "+h)}d.wa();e.border=f;break;case "background-color":e.backgroundColor=g(c);break;case "actions":e.actions=a(c,"E X D U Fo Bl PO PC PV PI".split(" "),b);break;case "appearances":d=c;f={};for(d.ma();d.advance();)if(h=d.ta(),"aappearance"===h){var h=d.K("name"),k=d,m={};for(k.ma();k.advance();){var n=k.ta();switch(n){case "Normal":m.Normal=k.current.textContent;
break;default:console.warn("unexpected appearance state: ",n)}}k.wa();f[h]=m}else console.warn("unexpected appearances child: "+h);d.wa();e.appearances=f;break;case "extra":d=c;f=b;h={};for(d.ma();d.advance();)switch(k=d.ta(),k){case "font":h.font=l(d,f(1));break;default:console.warn("unrecognised extra child: "+k)}d.wa();d=h;d.font&&(e.font=d.font);break;case "captions":f=c;d={};(h=f.K("Normal"))&&(d.Normal=h);(h=f.K("Rollover"))&&(d.Rollover=h);(f=f.K("Down"))&&(d.Down=f);e.captions=d;break;default:console.warn("unrecognised widget child: "+
d)}c.wa();return e}function k(a){var c={value:a.K("value")};(a=a.K("display-value"))&&(c.displayValue=a);return c}function m(c,e){var d=c.K("name"),f={type:c.K("type"),maxLen:c.K("max-len")||-1},g=c.K("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.ma();c.advance();)switch(g=c.ta(),g){case "actions":f.actions=a(c,["C","F","K","V"],e);break;case "default-value":g=c;g.ma();g.advance();var h=g.current.textContent;g.wa();f.defaultValue=h;break;case "font":f.font=l(c,e);break;case "options":g=c;h=
[];for(g.ma();g.advance();){var m=g.ta();switch(m){case "option":h.push(k(g));break;default:console.warn("unrecognised options child: "+m)}}g.wa();f.options=h;break;default:console.warn("unknown field child: "+g)}c.wa();return new b.Annotations.O.ea(d,f)}function n(a,c){switch(a.type){case "Tx":return new b.Annotations.Xj(a,c);case "Ch":return a.flags.get("Combo")?new b.Annotations.mg(a,c):new b.Annotations.ni(a,c);case "Btn":return a.flags.get("PushButton")?new b.Annotations.Mj(a,c):a.flags.get("Radio")?
new b.Annotations.Nj(a,c):new b.Annotations.ki(a,c);case "Sig":return new b.Annotations.Sj(a,c);default:console.warn("Unrecognised field type: "+a.type)}return null}function p(c,b){var e={number:c.K("number")};for(c.ma();c.advance();){var d=c.ta();switch(d){case "actions":e.actions=a(c,["O","C"],b);break;default:console.warn("unrecognised page child: "+d)}}c.wa();return e}b.qg=b.qg||{};b.qg.AJ={parse:function(c,e,d,g){var l=[],k={};c.ma();var D=[],A={},x=[];b.busyLoop(function(){var b,d;if(c.advance()){b=
c.ta();switch(b){case "calculation-order":D=f(c);break;case "document-actions":A=a(c,["Init","Open"],e);break;case "pages":b=[];for(c.ma();c.advance();)switch(d=c.ta(),d){case "page":b.push(p(c,e));break;default:console.warn("unrecognised page child: "+d)}c.wa();x=b;break;case "ffield":b=m(c,e(1));k[b.name]=b;break;case "widget":d=h(c,e);(b=k[d.fieldName])?(b=n(b,d),l.push(b)):console.warn("ignoring widget with no corresponding field data: "+d.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+
b)}return!0}return!1},function(){c.wa();d({calculationOrder:D,widgets:l,fields:k,documentActions:A,pages:x})},g)},wU:n,NP:m,PP:h,ZF:f}})(window);
(function(b){b.Annotations=b.Annotations||{};b.Annotations.O=b.Annotations.O||{};b.Annotations.O.tb=b.Annotations.O.tb||{};b=b.Annotations.O.tb;b.Events={};var d=b.Events;d.Event=function(c){this.rc=!0;_.isObject(c)&&(_.isString(c.name)&&Object.defineProperty(this,"name",{value:c.name,enumerable:!0}),_.isString(c.type)&&Object.defineProperty(this,"type",{value:c.type,enumerable:!0}))};d.Om=function(c){var a=String(c.value),b=c.change,e=a.slice(0,c.selStart),d=a.slice(c.selEnd);if(_.isObject(c.change)){var h=
c.selStart;c=c.selEnd;h===c&&("backspace"===b.type?e=a.slice(0,h-1):"delete"===b.type&&(d=a.slice(c+1)));b=""}return e+b+d};var e={Validate:function(c){d.Event.call(this,c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Calculate:function(c){d.Event.call(this,c);var a,b;_.isObject(c)&&(a=c.value,b=c.source);Object.defineProperties(this,{value:{value:a,writable:!0,enumerable:!0},source:{value:b,enumerable:!0}})},Format:function(c){d.Event.call(this,
c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Keystroke:function(c){d.Event.call(this,c);var a,b,e,l,h;_.isObject(c)&&(a=c.value,b=c.change,e=c.selStart,l=c.selEnd,h=c.willCommit);a="undefined"!==typeof a?a:"";b="undefined"!==typeof b||_.isString(b)?b:"";l="undefined"!==typeof l?l:a.length;Object.defineProperties(this,{value:{value:a,writable:!0,enumerable:!0},change:{value:b,writable:!0,enumerable:!0},selStart:{value:"undefined"!==typeof e?
e:0,writable:!0,enumerable:!0},selEnd:{value:l,writable:!0,enumerable:!0},willCommit:{value:h||!1,enumerable:!0}})},"Mouse Enter":function(c){d.Event.call(this,c)},"Mouse Leave":function(c){d.Event.call(this,c)},"Mouse Up":function(c){d.Event.call(this,c)},"Mouse Down":function(c){d.Event.call(this,c)},Focus:function(c){d.Event.call(this,c)},Blur:function(c){d.Event.call(this,c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Open:function(c){d.Event.call(this,
c);var a;_.isObject(c)&&(a=c.targetName);Object.defineProperty(this,"targetName",{value:a||"",writable:!0,enumerable:!0})},Close:function(c){d.Event.call(this,c)}};d.create=function(c,a){return e[c]?new e[c](a):null};d.ea={create:function(c,a,b){b=$.extend({name:c,type:"Field",value:a.Ua()},b);return(c=d.create(c,b))?(Object.defineProperties(c,{target:{value:a,writable:!0,enumerable:!0},targetName:{value:a.name,enumerable:!0},modifier:{value:null,enumerable:!0},shift:{value:null,enumerable:!0}}),
c):null}};d.rA={create:function(c,a,b){b=$.extend({name:c,type:"Doc",targetName:""},b);return(c=d.create(c,b))?(Object.defineProperty(c,"target",{value:a,writable:!0,enumerable:!0}),c):null}};d.po={create:function(c,a,b){b=$.extend({name:c,type:"Page"},b);return(c=d.create(c,b))?(Object.defineProperty(c,"target",{value:a,writable:!0,enumerable:!0}),c):null}};d.ed={create:function(c,a){return d.create(c,a)}}})(window);
(function(b){function d(a){this.stringValue=a}function e(a,c,b){c=c||",";b=b||".";var e=a.split(b),d=e[0];"-"===a.charAt(0)&&(d=d.substr(1));for(var f=[];3<d.length;)f.push(d.substr(d.length-3)),d=d.substr(0,d.length-3);0<d.length&&f.push(d);d=f.reverse().join(c);"-"===a.charAt(0)&&(d="-"+d);e[0]=d;return e.join(b)}function c(a,c){var b;if(0===c)return/^-?\d*$/.test(a);if(_.isUndefined(c))return b=/^-?\d*([\.,]\d*)?$/,b.test(a);b=new RegExp("^-?\\d*([\\.,]\\d{0,"+c.toString()+"})?$");return b.test(a)}
function a(a){for(var c=[],b=[],e=-1;-1!==(e=a.indexOf(".",e+1));)c.push(e);for(e=-1;-1!==(e=a.indexOf(",",e+1));)b.push(e);if(c.length&&b.length){if(c[c.length-1]<b[0])return!0}else if(b.length)for(a=a.length-4,c=b.length-1;0<=c;--c)if(b[c]!==a)return!0;return!1}function f(a){return 65<=a&&90>=a||97<=a&&122>=a}function g(a,c){switch(c){case 57:return 48<=a&&57>=a;case 65:return f(a);case 79:return f(a)||48<=a&&57>=a;case 88:return!0;default:return a===c}}function l(b){var e=typeof b;b=_.isNull(b)||
"object"!==e&&"string"!==e?b:String(b).replace(",",a(b)?".":"");e=parseFloat(b);return c(b)&&!isNaN(e)?e:e="Off"===b||_.isUndefined(b)||_.isNull(b)||""===b?0:1}function h(a,c){var b=String(a);if(b.length<c)for(var e=c-b.length,d=0;d<e;++d)b="0"+b;return b}function k(a){_.isString(a)&&(a=a.replace(/\s+/g," "),a=a.replace(/[/.]/g,"-"));return a}function m(a){return a.replace(/(mmmm)|(mmm)|(:mm)|(mm)|(:m)|(m)|(dddd)|(ddd)|(dd)|(d)|(yyyy)|(yy)|(HH)|(H)|(hh)|(h)|(MM)|(M)|(ss)|(s)|(tt)|(t)/g,function(a){return{mmmm:"MMMM",
mmm:"MMM",":mm":":mm",mm:"MM",":m":":m",m:"M",dddd:"dddd",ddd:"ddd",dd:"DD",d:"D",yyyy:"YYYY",yy:"YY",HH:"HH",H:"H",hh:"hh",h:"h",MM:"mm",M:"m",ss:"ss",s:"s",tt:"A",t:"a"}[a]||""})}function n(a,c){if(!a)return null;var b=G.slice(0);c&&(c=m(c),c=k(c));a=k(a);c&&"d"===c.charAt(0).toLowerCase()?(H.unshift(c),b=F(a,H,!0)):(c&&b.unshift(c),b=F(a,b,!0));return b.isValid()?b:null}function p(a,c){return!a||null!==n(a,c)}function q(a,c){if(M[c]){a=k(a);var b;b=c&&"d"===c.charAt(0).toLowerCase()?F(a,H,!0):
F(a,G,!0);if(b.isValid())return b.format(M[c])}return null}function u(a,c){var b=String(a).split(":");if(3<c||0>c||!a)return null;var e=0,d=0,f=0;b[0]&&(e=Number(b[0]));b[1]&&(d=Number(b[1]));b[2]&&(f=Number(b[2]));if(23<e||59<d||59<f||_.isNaN(e)||_.isNaN(d)||_.isNaN(f))return null;var b=1===c||3===c,g;b?(g=12<=e&&24>e?"PM":"AM",e%=12,0===e&&(e=12)):e=h(e,2);d=h(d,2);f=h(f,2);e=e+":"+d+(2>c?"":":"+f);b&&(e+=" "+g);return e}function r(a,c){for(var b=0,e="",d=0;d<c.length&&b<a.length;++d){var f=c.charAt(d);
switch(f){case "9":e+=a.charAt(b);b++;break;default:e+=f}}return e}function v(a,c){this.wK=c;this.Bx=!1;this.ZO=a;a.bS()}function w(a){return function(){console.log("stub: "+a+" called with",arguments)}}function z(a){var c=null;if(_.isArray(a))switch(a[0]){case "T":c=[];break;case "G":c=a.slice(1,2);break;case "RGB":c=a.slice(1,4);break;case "CMYK":c=a.slice(1,5)}return c}function D(a,c){a.widgets.forEach(function(a){a.backgroundColor=c})}function A(a){this.VB={};this.FB=a}function x(){var a=this;
this.UB={Doc:new A(function(){return"id"}),Field:new A(function(a){return a.name})};this.zo=0;this.pr=[];this.mK={Doc:function(a){return B.wA(a)},Color:function(a){return B.Yq(a)},Field:function(a){a.ij&&a.ij()&&(a=a.yb());return new B.jo(a)},Event:function(c){var b={target:a.Xk({Field:"Field",Page:"Doc",Doc:"Doc"}[c.type],c.target)};Object.defineProperties(b,{value:{get:function(){return B.utils.toString(c.value)},set:function(a){c.value=a},enumerable:!0}});for(var e in c)c.hasOwnProperty(e)&&"target"!==
e&&"value"!==e&&function(a){Object.defineProperty(b,a,{set:function(b){c[a]=b},get:function(){return c[a]},enumerable:!0})}(e);return b}}}function y(){x.call(this);this.eK=this.WM();b.dU=this.eK;for(var a in O)O.hasOwnProperty(a)&&(a in b||(b[a]=O[a]))}function E(){x.call(this);if(C){this.Go=$("<iframe />");this.Go.css({display:"none"});this.Go.appendTo("body");this.Ro=this.Go[0].contentWindow;var a=this.Ro.document;a.open();a.write("<script>var event = {};\x3c/script>");a.write("<script>window.__add_action = function(__script){ return function(){(1,eval)(__script); } }\x3c/script>");
a.close();this.ek=!1;for(var c in O)O.hasOwnProperty(c)&&(this.Ro[c]=O[c])}}b.Annotations=b.Annotations||{};b.Annotations.O=b.Annotations.O||{};b.Annotations.O.tb=b.Annotations.O.tb||{};var F=b.moment,B=b.Annotations.O.tb,G="M-D;M-D-YYYY;MM-DD-YY;MM-YY;D-MMM;D-MMM-YY;DD-MMM-YY;YYMM-DD;MMM-YY;MMMM-YY;MMM D, YYYY;MMMM D, YYYY;M-D-YY h:mm A;M-D-YY HH:mm;DD-MMM-YYYY".split(";"),H="D-MMM D-MMM-YY DD-MMM-YY DD-MMM-YYYY DD-MM-YYYY D-M-YYYY".split(" "),J="m/d;m/d/yy;mm/dd/yy;mm/yy;d-mmm;d-mmm-yy;dd-mmm-yy;yymm-dd;mmm-yy;mmmm-yy;mmm d, yyyy;mmmm d, yyyy;m/d/yy h:MM tt;m/d/yy HH:MM;dd-mmm-yyyy".split(";"),
M={"m/d":"M/D","m/d/yy":"M/D/YYYY","mm/dd/yy":"MM/DD/YY","mm/dd/yyyy":"MM/DD/YYYY","mm/yy":"MM/YY","d-mmm":"D-MMM","d-mmm-yy":"D-MMM-YY","dd-mmm-yy":"DD-MMM-YY","yymm-dd":"YYMM-DD","mmm-yy":"MMM-YY","mmmm-yy":"MMMM-YY","mmm d, yyyy":"MMM D, YYYY","mmmm d, yyyy":"MMMM D, YYYY","m/d/yy h:MM tt":"M/D/YY h:mm A","m/d/yy HH:MM":"M/D/YY HH:mm","dd-mmm-yyyy":"DD-MMM-YYYY"};B.utils={isNumber:c,aW:e,HV:l,GV:h,PU:q,rV:p,QU:u,formatNumber:r,toString:function(a){return _.isString(a)?a:_.isNumber(a)?String(a):
""},gW:function(a){var b=a;c(a)&&""!==a&&(b=l(a));return b},YP:function(a,c){var b=F(c),e=m(a);return b.format(e)},ZP:function(a){var c=Array.prototype.slice.call(arguments,1),b=0;return a.replace(/%(,\d+)?([+ 0#]+)?(\d+)?(\.\d+)?([dfsx]+)/g,function(a,d,f,g,h,l){a=0;g=".";var k=",";if(d)switch(d.slice(1)){case "0":k=",";g=".";break;case "1":k="";g=".";break;case "2":k=".";g=",";break;case "3":k="",g=","}if(f)for(d=f.length-2,f=1;f<d;++f);h&&(a=h.slice(1));h=c[b];b++;d=String(h);switch(l){case "f":d=
Number(h).toFixed(a).replace(".",g);d=e(d,k,g);break;case "d":d=Number(h).toFixed();break;case "x":d=Number(h).toString(16)}return d})},$P:function(a,b){for(var e="",d=0,g="",h=a.length,l=0;l<h;++l){var k=b,m=a[l],n="";switch(m){case "?":n="upper"===g?n+k.charAt(d).toUpperCase():"lower"===g?n+k.charAt(d).toLowerCase():n+k.charAt(d);d++;break;case "X":for(;d<k.length;){m=k.charCodeAt(d);if(f(m)||48<=m&&57>=m){n="upper"===g?n+k.charAt(d).toUpperCase():"lower"===g?n+k.charAt(d).toLowerCase():n+k.charAt(d);
d++;break}d++}break;case "A":for(;d<k.length;){if(f(k.charCodeAt(d))){n="upper"===g?n+k.charAt(d).toUpperCase():"lower"===g?n+k.charAt(d).toLowerCase():n+k.charAt(d);d++;break}d++}break;case "9":for(;d<k.length;){if(c(k.charAt(d))){n+=k.charAt(d);d++;break}d++}break;case "*":n="lower"===g?k.slice(d).toLowerCase():"upper"===g?k.slice(d).toUpperCase():k.slice(d);d=k.length-1;break;case "\\":break;case ">":g="upper";break;case "<":g="lower";break;case "=":g="";break;default:n=m}e+=n}return e},nA:function(a,
c){c=c||a;var e=b.Annotations.O.tb.Events.Om(K);if(a&&e){var d=e.length,f=a.length;if(K.willCommit&&d!==f&&0!==f)alert("The value entered does not match the format of the field [ "+c+" ]"),K.rc=!1;else if(d&&f)if(d<=f)for(f=0;f<d;++f){if(!g(e.charCodeAt(f),a.charCodeAt(f))){K.rc=!1;alert("The value entered does not match the format of the field [ "+c+" ]");break}}else alert("The value entered does not match the format of the field [ "+c+" ]"),K.rc=!1}},Jq:function(a){var c=String(K.value);c&&K.willCommit&&
!p(c,a)&&(K.rc=!1,alert("Invalid Date/Time: Input should match format "+a))}};Object.getOwnPropertyNames(String.prototype).forEach(function(a){d.prototype[a]=function(){return this.stringValue[a].apply(this.stringValue,arguments)}});d.prototype.valueOf=function(){this.bF||(this.bF=l(this.stringValue));return this.bF};v.prototype={terminate:function(){this.Bx||(this.Bx=!0,this.wK(),this.ZO.wM())}};var K=null,P=null,O={AFNumber_Format:function(a,b,d,f,g,h){d=(d=P.ec().Jk().yb(K.target.name))?d.Ua():
null;c(d)&&null!==d&&""!==d&&(d=l(d),isNaN(d)||(d=d.toFixed(a),0===b?d=e(d):2===b&&(d=e(d),a=d.indexOf("."),d=d.split(",").join("."),0<=a&&(d=d.substr(0,a)+","+d.substr(a+1))),K.value=h?g+d:d+g,K.rc=!0))},AFPercent_Format:function(a,b){var d=K.value;c(d)&&(d=l(d),d=(100*d).toFixed(a),b&&(d=e(d)),K.value=d+"%",K.rc=!0)},AFDate_KeystrokeEx:B.utils.Jq,AFDate_Keystroke:function(a){a<J.length&&B.utils.Jq(J[a])},AFDate_FormatEx:function(a){a=q(String(K.value),a);_.isNull(a)||(K.value=a,K.rc=!0)},AFDate_Format:function(a){var c=
String(K.value);a<J.length&&(a=q(c,J[a]),_.isNull(a)||(K.value=a,K.rc=!0))},AFRange_Validate:function(a,c,b,e){var d=Number(K.value),d=(!a||d>=c)&&(!b||d<=e);if(!d){var f="Invalid value: must be";a&&(f+=" greater than or equal to "+c);a&&b&&(f+=" and");b&&(f+=" less than or equal to "+e);alert(f+".")}K.rc=d},AFTime_Format:function(a){K.value=u(K.value,a);K.rc=!0},AFTime_FormatEx:function(a){a=q(String(K.value),a);_.isNull(a)||(K.value=a,K.rc=!0)},AFTime_Keystroke:function(a){switch(a){case 0:a="h:MM tt";
break;case 1:a="h:MM tt";break;case 2:a="HH:MM:ss";break;case 3:a="h:MM:ss tt"}B.utils.Jq(a)},AFTime_KeyStrokeEx:B.utils.Jq,AFMakeNumber:function(a){return Number(a)},AFSimple_Calculate:function(a,c){var b={PRD:function(a,c){return a*c},SUM:function(a,c){return a+c},MIN:function(a,c){return c<a?c:a},MAX:function(a,c){return c>a?c:a}}[a];b&&("string"===typeof c&&(c=c.split(",")),K.value=c.map(function(a){a=K.target.doc.getField(a).value;return l(a)}).reduce(b),K.rc=!0)},AFNumber_Keystroke:function(a){K.rc=
c(b.Annotations.O.tb.Events.Om(K),a)},AFPercent_Keystroke:function(a){K.rc=c(b.Annotations.O.tb.Events.Om(K),a+2)},AFMergeChange:function(a){return b.Annotations.O.tb.Events.Om(a)},AFParseDateEx:n,AFSpecial_Format:function(a){if(0===arguments.length)K.rc=!1;else{var c=K.value,b;switch(a){case 0:b="99999";break;case 1:b="99999-9999";break;case 2:b=10<=c.length?"(999) 999-9999":"999-9999";break;case 3:b="999-99-9999"}K.value=r(c,b);K.rc=!0}},AFSpecial_Keystroke:function(a){var c="",b;switch(a){case 0:c=
"99999";b="Zipcode";break;case 1:c="999999999";b="Zipcode + 4";break;case 2:c="9999999999";b="Phone";break;case 3:c="999999999",b="Social Security Number"}B.utils.nA(c,b)},AFSpecial_KeystrokeEx:B.utils.nA,util:{printd:B.utils.YP,printf:B.utils.ZP,printx:B.utils.$P},app:{beep:w("app.beep"),alert:function(a){if(_.isObject(a)){var c=a.nType||0;a=a.cMsg;if(0===c)return window.alert(a),1;a=window.confirm(a);return 1===c?a?1:2:a?4:3}window.alert(a);return 1},response:w("app.response"),setInterval:function(a,
c){var b=P.getDocument().Io;a=b.xm(a);var e=K,d=window.setInterval(function(){b.Cn(a,e,P)},c);return new v(b,function(){window.clearInterval(d)})},clearInterval:function(a){a.terminate()},setTimeOut:function(a,c){var b=P.getDocument().Io,e;a=b.xm(a);var d=K,f=window.setTimeout(function(){b.Cn(a,d,P);e.terminate()},c);return e=new v(b,function(){window.clearTimeout(f)})},clearTimeOut:function(a){a.terminate()},launchURL:w("app.launchURL")},console:{clear:function(){console.clear()},println:function(a){console.log(a)}},
alert:function(a){window.alert(a)},print:function(){$(window).trigger("documentPrint")},ADBE:null,color:{transparent:["T"],black:["G",0],white:["G",1],red:["RGB",1,0,0],green:["RGB",0,1,0],blue:["RGB",0,0,1],cyan:["CMYK",1,0,0,0],magenta:["CMYK",0,1,0,0],yellow:["CMYK",0,0,1,0],dkGray:["G",.25],gray:["G",.5],ltGray:["G",.75]},border:{s:"solid",b:"beveled",d:"dashed",i:"inset",hW:"underline"},style:{ch:"check",cr:"cross",JU:"diamond",ci:"circle",cW:"start",bW:"square"},display:{visible:0,hidden:1,
xP:2,yP:3}};B.jo=function(a){this.la=a};B.jo.prototype={insertItemAt:function(a,c,b){_.isUndefined(c)&&(c=a);_.isUndefined(b)&&(b=0);_.isArray(a)&&(a=a[0]);_.isArray(c)&&(c=c[0]);c={displayValue:a,value:c};var e=this.la.Jg();b=-1===b?e.length-b:b;this.la.hs(c,b);"Ch"!==this.la.type||this.la.flags.get("Combo")||this.la.Ab(a)},getItemAt:function(a,c){c=_.isUndefined(c)?!0:!!c;var b=this.la.Jg(),b=-1===a?b[b.length-1]:b[a];return c?b.value:b.displayValue},deleteItemAt:function(a){var c=this.la.Jg();
if(_.isUndefined(a)){var b=this.la.Ua();c.forEach(function(c,e){c.value===b&&(a=e)});_.isUndefined(a)||(c.splice(a,1),0===a?this.la.Ab(c[c.length-1].value):this.la.Ab(c[a-1].value))}else c.splice(a,1)},clearItems:function(){this.la.$d([]);this.la.Ab(null);this.la.uu()},setItems:function(a){for(var c=[],b=a.length,e=0;e<b;++e){var d=a[e];_.isString(d)?c.push({value:d}):_.isArray(d)&&c.push({displayValue:d[0],value:d[1]?d[1]:d[0]})}this.la.$d(c);this.la.Ab(c[0].value||null);this.la.uu()},setFocus:function(){var a;
if(a="widgets"in this.la?this.la.widgets[0]:this.la)this.la.Hg().ip(a.PageNumber,a.X,a.Y,!0),a.innerElement.trigger("focus")},isBoxChecked:function(a){return(a=this.la.widgets[a])?a.appearance===a.Eh()?1:0:0},checkThisBox:function(a,c){_.isUndefined(c)&&(c=!0);var b=this.la.widgets[a];b&&(c?this.la.Ab(b.Eh()):this.la.Ua()===b.Eh()&&this.la.Ab("Off"),this.la.uu())},buttonSetCaption:function(a){this.la.widgets.forEach(function(c){c.captions.Normal=String(a);c.refresh()})},getArray:function(){var a=
[],c=this.la.Hg().fa.Fg;this.la.fA({Wy:function(){},du:function(){},cq:function(b){a.push(new B.jo(c.yb(b)))}},this.la.uN());return a}};Object.defineProperties(B.jo.prototype,{name:{get:function(){return this.la.name},enumerable:!0},doc:{get:function(){return B.wA(this.la.Hg())},enumerable:!0},value:{get:function(){var a=this.la.Ua();return"number"===typeof a?a:c(a)&&""!==a?"0"===a?0:new d(a):a||""},set:function(a){this.la.Ab(a)},enumerable:!0},valueAsString:{get:function(){var a=this.la.Ua();return a?
a.toString():""}},fillColor:{set:function(a){D(this.la,z(a))},get:function(){return B.Yq(this.la.widgets[0].backgroundColor)},enumerable:!0},textColor:{set:function(a){this.la.font.fillColor=z(a)},get:function(){return B.Yq(this.la.font.fillColor)},enumerable:!0},bgColor:{set:function(a){D(this.la,z(a))},get:function(){return B.Yq(this.la.widgets[0].backgroundColor)},enumerable:!0},numItems:{get:function(){return(this.la.Jg()||[]).length},enumerable:!0},charLimit:{set:function(a){a=Number(a);_.isNaN(a)||
(this.la.maxLen=a)},get:function(){return this.la.maxLen},enumerable:!0},hidden:{set:function(a){this.la.wf(!a)},get:function(){return this.la.widgets[0].hidden},enumerable:!0},display:{set:function(a){a===O.display.visible||a===O.display.xP?this.la.wf(!0):a!==O.display.hidden&&a!==O.display.yP||this.la.wf(!1)},get:function(){return this.la.widgets[0].hidden},enumerable:!0},userName:{set:function(a){this.la.userName=a;this.la.uu()},get:function(){return this.la.userName},enumerable:!0},type:{get:function(){switch(this.la.type){case "Tx":return"text";
case "Btn":return this.la.flags.get("PushButton")?"button":this.la.flags.get("Radio")?"radiobutton":"checkbox";case "Ch":return this.la.flags.get("Combo")?"combobox":"listbox";case "Sig":return"signature"}return null},enumerable:!0},currentValueIndices:{get:function(){for(var a=this.la.Jg(),c=this.la.value,b=0;b<a.length;++b)if(a[b].value===c)return b;return-1},enumerable:!0}});A.prototype={get:function(a){a=this.FB(a);a=this.VB[a];return _.isUndefined(a)?null:a},set:function(a){this.VB[this.FB(a)]=
a}};B.Yq=function(a){return a?0!==a.A?["RGB",a.R/255,a.G/255,a.B/255]:["T"]:["T"]};B.wA=function(a){var c=a.ec().Jk(),e={getField:function(a){return(a=c.yb(a))?new B.jo(a):null},submitForm:function(c,e,d,f){_.isUndefined(e)&&(e=!0);(new b.Actions.Uj({url:c,format:e?"fdf":"xfdf",includeEmpty:!!d,fields:f||[]})).onTriggered(null,null,a)},resetForm:function(c){(new b.Actions.Pj({fields:c})).onTriggered(null,null,a)},calculateNow:function(){c.$o(null)},getNthFieldName:function(a){var b,e=0;c.pp(function(c){e===
a&&(b=c.name);++e});return b}};Object.defineProperties(e,{calculate:{set:function(a){c.Nn=!!a},get:function(){return c.Nn},enumerable:!0},numPages:{get:function(){return a.Hb()},enumerable:!0},pageNum:{get:function(){return a.Mm()-1},set:function(c){a.we(c+1)},enumerable:!0},numFields:{get:function(){var a=0;c.pp(function(){++a});return a},enumerable:!0}});return e};x.prototype={xm:function(){},Cn:function(){},Sc:function(){this.pr.forEach(function(a){a()})},dA:function(a){return a},iA:function(a){return a},
Zu:function(a){return a},UH:function(a){return a},VH:function(a){return a},TH:function(a){return a},SH:function(a){return a},Wn:function(a){var c=null;if(_.isArray(a))c=this.SH(a);else if(_.isNull(a))c=null;else switch(typeof a){case "object":c=this.iA(a);break;case "function":c=this.Zu(a);break;case "number":c=this.UH(a);break;case "string":c=this.VH(a);break;case "boolean":c=this.TH(a);break;case "undefined":c=void 0;break;default:console.warn("unrecognised type: "+typeof a)}return c},wrap:function(a,
c){var b=this.UB[a];if(b){var e=b.get(c);if(!_.isNull(e))return e}e=this.Xk(a,c);e=this.Wn(e);b&&b.set(e);return e},Xk:function(a,c){var b=this.UB[a];if(b){var e=b.get(c);if(!_.isNull(e))return e}if(e=this.mK[a])return e=e(c),b&&b.set(e),e;console.warn(a+" is not a valid normalisable PDFJS type",c);return{}},NS:function(a){0<this.zo?this.pr.push(a):a()},bS:function(){this.zo+=1},wM:function(){--this.zo;if(0===this.zo){var a=this.pr;this.pr=[];a.forEach(function(a){a()})}},WM:function(){return this.iA($.extend({},
O))}};B.pT=O;var L=eval;y.prototype=$.extend(Object.create(x.prototype),{To:function(a){a=this.Xk("Doc",a);for(var c=Object.keys(a),e=0;e<c.length;++e){var d=c[e];Object.defineProperty(b,d,Object.getOwnPropertyDescriptor(a,d))}},xm:function(a){return function(c){K=c;L("with(_PDFTRON_JS_API){"+a+"\n}");K=null}},Cn:function(a,c,e){b.event=c;this.ek||(this.To(e),this.ek=!0);var d=P;P=e;try{a(this.wrap("Event",c),this.wrap("Doc",e))}catch(f){console.warn("PDFJS error encountered: "+f+" "+a.Op)}P=d}});
(function(){x.call(this);this.ph=continuum.uU();this.ek=!1;for(var a=Object.keys(O),c=0;c<a.length;++c)this.ph.global.CA(a[c],this.Wn(O[a[c]]))}).prototype=$.extend(Object.create(x.prototype),{xm:function(a){return continuum.vU(a)},To:function(a){a=this.Xk("Doc",a);for(var c=Object.keys(a),b=0;b<c.length;++b)this.ph.global.CA(c[b],this.Wn(a[c[b]]))},Cn:function(a,c,b){this.ek||(this.To(b),this.ek=!0);c=this.Xk("Event",c);b=this.Wn(c);this.ph.global.CA("event",b);K=c;this.ph.evaluate(a);K=null},dA:function(a){var c=
this;if(_.isObject(a)){if(a.WK)return a.WK.map(function(a){return c.dA(a)});console.warn("object argument: ",a)}return a},Zu:function(a){var c=this;return continuum.$w(function(){var b=Array.prototype.map.call(arguments,function(a){return c.dA(a)});return c.Wn(a.apply(null,b))})},UH:function(a){return this.ph.evaluate(JSON.stringify(a))},VH:function(a){return this.ph.evaluate(JSON.stringify(a))},TH:function(a){return this.ph.evaluate(JSON.stringify(a))},SH:function(a){var c=this.ph.evaluate("new Array()");
console.warn("array:",c);return a},iA:function(a){for(var c=this.ph.evaluate("Object.create(null)"),b=Object.keys(a),e=b.length,d=0;d<e;++d){var f=b[d],g=Object.getOwnPropertyDescriptor(a,f),h={Enumerable:g.enumerable,Writeable:g.writeable};_.isUndefined(g.value)||(h.Value=this.Wn(g.value));_.isUndefined(g.set)||(h.Set=this.Zu(g.set));_.isUndefined(g.get)||(h.Get=this.Zu(g.get));c.lT(f,h)}return c}});var C=!0;b.o.XL=function(){C=!1};E.prototype=$.extend(Object.create(x.prototype),{xm:function(a){if(C)try{var c=
this.Ro.__add_action(a);c.Op=a;return c}catch(b){console.warn("Failed to compile PDFJS script")}},To:function(a){a=this.Xk("Doc",a);for(var c=Object.keys(a),b=0;b<c.length;++b){var e=c[b];Object.defineProperty(this.Ro,e,Object.getOwnPropertyDescriptor(a,e))}},Sc:function(){x.prototype.Sc.call(this);this.Go&&this.Go.remove()},Cn:function(a,c,b){if(C){this.ek||(this.To(b),this.ek=!0);var e=P;P=b;c=this.Xk("Event",c);this.Ro.event=c;b=K;K=c;try{a()}catch(d){console.warn("PDFJS error encountered: ",d,
a&&a.Op)}K=b;P=e}}});B.iT=y;B.EL=function(){return new E}})(window);(function(b){if(b&&b.Worker){var d=b.Worker;b.hi=b.hi||[];b.hi.xH||(b.hi.xH=function(){for(var e=b.hi.length-1;0<=e;e--)b.hi[e].terminate(),delete b.hi[e]});b.Worker.isFake||(b.Worker=function(e){e=new d(e);b.hi.push(e);return e},b.BI=function(b){return b instanceof d},b.Worker.isFake=!0)}})(window);window.addEventListener("unload",function(){window.hi&&window.hi.xH()});
(function(b){b.Annotations=b.Annotations||{};var d=b.Annotations,e=d.eb||{};d.Annotation=function(){this.Subject="Annotation";this.YA=1;this.Lv=this.Ov=this.Qv=this.Pv=0;this.QA=void 0;this.NoRotate=this.NoZoom=this.zT=this.yT=!1;this.Printable=!0;this.yi=new d.Color(0,0,0);this.fB=void 0;this.Zv=new Date;this.EB=e.cO();this.ew=!0;this.bm=this.IB=this.ik=!1;this.KB=this.tw=!0;this.Ur=[];this.ef=this.tg=null};d.Annotation.prototype={elementName:"annotation",selectionModel:d.Zq,SE:!1,EE:function(){return null},
draw:function(){},render:function(){},Uu:function(){},ij:function(){return!1},iF:function(){return!1},Tk:function(){return!this.Hidden&&!this.NoView&&!this.Mh()},BR:function(c){var a=new d.Rect(c.x1,c.y1,c.x2,c.y2);0>a.xa()&&(c=a.x1,a.x1=a.x2,a.x2=c);0>a.va()&&(c=a.y1,a.y1=a.y2,a.y2=c);this.X=a.x1;this.Y=a.y1;this.Width=a.xa();this.Height=a.va()},uj:function(c){var a=this.me();c=new d.Rect(c.x1,c.y1,c.x2,c.y2);0>c.xa()&&(c.x1=a.x1,c.x2=a.x2);0>c.va()&&(c.y1=a.y1,c.y2=a.y2);this.X=c.x1;this.Y=c.y1;
this.Width=c.xa();this.Height=c.va()},adjustRect:function(){},resize:function(c){this.uj(c)},an:function(){return this.X},QR:function(c){this.X=parseFloat(c)},bn:function(){return this.Y},RR:function(c){this.Y=parseFloat(c)},xa:function(){return this.Width},hH:function(c){this.Width=parseFloat(c)},va:function(){return this.Height},sq:function(c){this.Height=parseFloat(c)},me:function(){return new d.Rect(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},uc:function(){return this.PageNumber},
Ib:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},ZG:function(c){this.PageNumber=parseInt(c,10)},Rm:function(){return this.an()},IE:function(){return this.Rm()+this.Width},Ym:function(){return this.bn()},bE:function(){return this.Ym()+this.Height},PM:function(){return this.Custom},VQ:function(c){this.Custom=c},Gk:function(){return this.VP},In:function(c){this.VP=c;this.rb()},Dw:function(c){this.Ur.push(c)},RL:function(c){c=this.Ur.indexOf(c);-1<c&&this.Ur.splice(c,
1)},mt:function(){return this.Ur},Mh:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))},AQ:function(){return this.tw},rb:function(){this.isImporting||(this.Zv=new Date);this.ew||(this.ik=!0)},VM:function(){var c=[];this.Invisible&&c.push("invisible");this.Hidden&&c.push("hidden");this.Printable&&c.push("print");this.NoZoom&&c.push("nozoom");this.NoRotate&&c.push("norotate");this.NoView&&c.push("noview");this.ReadOnly&&c.push("readonly");this.Locked&&c.push("locked");this.ToggleNoView&&
c.push("togglenoview");this.LockedContents&&c.push("lockedcontents");return 0<c.length?c.join(","):null},eR:function(c){this.hK=c},cN:function(){return this.hK},serialize:function(c,a){var b=d.ba,e=this.me();this.fu&&this.fu.isEqual(e)?e=this.gu:(e.qM(),this.gu&&(delete this.gu,delete this.fu),e=b.Bz(e,a));var e={page:this.Ib(),rect:e},l=b.bg(this.Color);null!==l&&(e.color=l);(l=this.VM())&&(e.flags=l);!this.iO&&this.Id&&(e.name=this.Id);this.Author&&(e.title=this.Author);this.Subject&&(e.subject=
this.Subject);(l=this.Rotation)&&0!==l&&(e.rotation=l);if(l=this.DateModified){var h;this.$y&&(l.getTime()===this.SF?h=this.$y:(delete this.$y,delete this.SF));h||(h=b.aA(l));e.date=h}for(var k in e)c.setAttribute(k,e[k]);k=this.Gk();k===this.QF?(this.TF&&(h=document.createElementNS("","contents-richtext"),b=document.createElementNS("",b.rQ),c.ND=this.TF,h.appendChild(b),c.appendChild(h)),this.bz&&(h=document.createElementNS("","contents"),h.textContent=this.bz,c.appendChild(h))):(delete this.QF,
delete this.bz,h=document.createElementNS("","contents"),h.textContent=k,c.appendChild(h));return c},vh:function(c){return(c=c.nodeName)&&this.elementName?c.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(c,a){var b=d.ba,e=c.getAttribute("page"),e=parseInt(e,10);this.PageNumber=e+1;this.gu=e=c.getAttribute("rect")||"0,0,100,100";e=b.kx(e,a);e.normalize();this.uj(e);e=c.getAttribute("name");this.iO=!e;this.Id=e;this.Author=c.getAttribute("title");this.Subject=c.getAttribute("subject");
e=(c.getAttribute("flags")||"").split(",");this.Invisible=-1!==e.indexOf("invisible");this.Hidden=-1!==e.indexOf("hidden");this.Printable=-1!==e.indexOf("print");this.NoZoom=-1!==e.indexOf("nozoom");this.NoRotate=-1!==e.indexOf("norotate");this.NoView=-1!==e.indexOf("noview");this.ReadOnly=-1!==e.indexOf("readonly");this.Locked=-1!==e.indexOf("locked");this.ToggleNoView=-1!==e.indexOf("togglenoview");this.LockedContents=-1!==e.indexOf("lockedcontents");e=b.Ti(c.getAttribute("color"));this.Color=null!==
e?e:new d.Color(0,0,0,0);(e=c.getAttribute("rotation"))&&(this.Rotation=e);(e=c.getAttribute("date"))?(this.$y=e,b=b.jx(e),this.SF=b.getTime(),this.DateModified=b):this.DateModified=null;var b=c.getElementsByTagName("contents-richtext"),e="",l=c.getElementsByTagName("contents"),h;if(0<l.length)this.bz=e=l[0].textContent;else if(0<b.length)if(h=b[0].getElementsByTagName("body"),0<h.length)if(l=h[0].getElementsByTagName("span"),0<l.length)for(h=0;h<l.length;++h)e+=l[h].textContent;else e=h[0].textContent;
else e=b[0].textContent;0<b.length&&(this.TF=b[0].FP);this.QF=e;this.In(e)},zc:function(c,a){var b=c.getAttribute(a);_.isUndefined(b)||_.isNull(b)||(this[a]=b)},ic:function(c,a,b){var e=this[a];_.isUndefined(e)||_.isNull(e)||e===b||c.setAttribute(a,e)},xj:function(){return!1},Pu:function(){this.gu&&!this.fu&&(this.fu=this.me())}};d.Annotation.prototype=$.extend(Object.create(b.utils.eventHandler),d.Annotation.prototype);Object.defineProperties(d.Annotation.prototype,{X:{get:function(){return this.Pv},
set:function(c){this.Pv=parseFloat(c);this.rb()}},Y:{get:function(){return this.Qv},set:function(c){this.Qv=parseFloat(c);this.rb()}},Width:{get:function(){return this.Ov},set:function(c){this.Ov=parseFloat(c);this.rb()}},Height:{get:function(){return this.Lv},set:function(c){this.Lv=parseFloat(c);this.rb()}},NoMove:{get:function(){return this.WA},set:function(c){this.WA=!0===c||"true"===c}},NoResize:{get:function(){return this.XA},set:function(c){this.XA=!0===c||"true"===c}},PageNumber:{get:function(){return this.YA},
set:function(c){this.YA=parseInt(c,10)}},DateModified:{get:function(){return this.Zv},set:function(c){this.Zv=e.jE(c)}},Id:{get:function(){return this.EB},set:function(c){this.EB=c}},Author:{get:function(){return this.fB},set:function(c){this.fB=c}},IsAdded:{get:function(){return this.ew},set:function(c){this.ew=c}},IsModified:{get:function(){return this.ik},set:function(c){this.ik=c}},IsDeleted:{get:function(){return this.IB},set:function(c){this.IB=c}},Filtered:{get:function(){return this.bm},set:function(c){this.bm=
c}},Custom:{get:function(){return this.QA},set:function(c){this.QA=c}},Listable:{get:function(){return this.KB},set:function(c){this.KB=!!c}},Color:{get:function(){return this.yi},set:function(c){c instanceof d.Color&&(this.yi=c,this.rb())}}})})(window);
(function(b){var d=b.Annotations||{};d.ao=function(b){this.Ao=new d.Color;this.pk=this.fk=this.qm=0;this.Ad=null;this.set(b)};d.ao.prototype={set:function(b){b instanceof d.ao?(this.Ao=new d.Color(b.Ao),this.qm=b.qm,this.fk=b.fk,this.pk=b.pk,this.Ad=b.Ad):_.isArray(b)?3===b.length||4===b.length?(_.isUndefined(b[0])||(this.fk=Number(b[0])),_.isUndefined(b[1])||(this.pk=Number(b[1])),_.isUndefined(b[2])||(this.qm=Number(b[2])),4===b.length&&_.isArray(b[3])&&console.warn("dashed borders are currently unsupported")):
console.warn("Invalid border specification ",b," should be 3 or 4 elements long"):_.isObject(b)&&(_.isArray(b.border)&&this.set(b.border),_.isUndefined(b.color)||(this.Ao=new d.Color(b.color)),_.isUndefined(b.width)||(this.qm=Number(b.width)),_.isUndefined(b.cornerRadius)?_.isArray(b.cornerRadius)&&(this.fk=b.cornerRadius[0]||0,this.pk=b.cornerRadius[1]||0):this.pk=this.fk=Number(b.cornerRadius),_.isString(b.style)&&(this.Ad=b.style))},serialize:function(b){var c=d.ba;this.OJ&&b.setAttribute("width",
this.OJ);this.Ad&&b.setAttribute("style",this.Ad);var a=this.color;b.setAttribute("BC",[a.R/255,a.G/255,a.B/255].map(c.toFixed).join(","))},deserialize:function(b){var c=d.ba,a={};c.getAttribute(b,"width")?a.width=parseInt(c.getAttribute(b,"width"),10):a.width=1;c.getAttribute(b,"style")&&(a.style=c.getAttribute(b,"style"),"beveled"===a.style&&(a.style="bevelled"));c.getAttribute(b,"BC")&&(a.color=c.getAttribute(b,"BC").split(",").map(Number));this.set(a)},$z:function(){var b=_.isNull(this.Ad)?"solid":
this.Ad,c=this.qm,a=this.fk.toFixed(6)+"px "+this.pk.toFixed(6)+"px",d={};"underline"===b?(d["border-bottom-style"]="solid",d["border-top-style"]="hidden",d["border-left-style"]="hidden",d["border-right-style"]="hidden"):(b={solid:"solid",bevelled:"outset",inset:"inset"}[b],_.isUndefined(b)&&(b="solid"),d["border-style"]=b);d["border-color"]=this.Ao.toString();d["border-width"]=c;d["border-top-left-radius"]=a;d["border-top-right-radius"]=a;d["border-bottom-left-radius"]=a;d["border-bottom-right-radius"]=
a;return d}};Object.defineProperties(d.ao.prototype,{color:{get:function(){return this.Ao},set:function(b){this.set({color:b})}},width:{get:function(){return this.qm},set:function(b){this.set({width:b})}},style:{get:function(){return this.Ad},set:function(b){this.set({style:b})}},cornerRadius:{get:function(){return[this.fk,this.pk]},set:function(b){this.set({cornerRadius:b})}}})})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.pg=function(c){this.ck=this.nc="";this._size=0;this.wr=new d.Color([0,0,0]);this.nk=new d.Color([0,0,0]);this.as="Type1";this.Ai=0;this.TB=4;this.RB=12;this.set(c)};d.pg.prototype={set:function(c){_.isObject(c)?(c.name&&(this.nc=String(c.name),this.ck=d.ba.hq(this.nc),this.Yv=d.ba.bG(this.nc),this.mB=d.ba.aG(this.nc)),c.size&&(this._size=Number(c.size)),c.fillColor&&(this.wr=new d.Color(c.fillColor)),c.strokeColor&&(this.nk=new d.Color(c.strokeColor)),
c.type&&(this.as=c.type)):_.isString(c)&&(this.nc=c,this.ck=d.ba.hq(this.nc),this.Yv=d.ba.bG(this.nc),this.mB=d.ba.aG(this.nc))},xM:function(c,a,b){if(0===this._size){var d=a.ut(1);if(0===c.replace(/\s/g,"").length)return this.Ai=Math.min(d/2,this.RB);var l=20;b?(l=d*e.Ij,a.element?(a=a.element[0].cloneNode(!0),d=document.getElementsByTagName("body")[0],d.appendChild(a),l=e.QD(c,a.children[0],l)/e.Ij,d.removeChild(a)):l/=2):(a=.95*a.jy(1),d*=.95,c=e.measureText(c,l,this.ck?this.ck:void 0,this.Yv),
l*=Math.min(a/c.width,d/c.height));return this.Ai=Math.max(this.TB,Math.min(l,this.RB))}},deserialize:function(c,a){var b=d.ba;if(b.getAttribute(c,"FontName")){var e=b.getAttribute(c,"FontName");this.nc=e;this.ck=d.ba.hq(e)}if(b.getAttribute(c,"FontSize")){var e=parseFloat(b.getAttribute(c,"FontSize")),b=a.aa({x:0,y:0}),l=a.aa({x:e,y:0}),e=b.x-l.x,b=b.y-l.y;this._size=Math.sqrt(e*e+b*b)}},Pk:function(){return this.wr.Pk()&&this.nk.Pk()},$z:function(c){var a={};""!==this.ck&&(a["font-family"]=this.ck,
a["font-weight"]=this.Yv,a["font-style"]=this.mB);a["font-size"]=0===this._size&&0!==this.Ai?String(this.Ai*c)+"px":String(this._size*c)+"px";a.color=this.wr.toString();3>parseFloat(a["font-size"])&&(a["font-size"]="3px");return a}};Object.defineProperties(d.pg.prototype,{name:{get:function(){return this.nc},set:function(c){this.set({name:c})}},size:{get:function(){return this._size},set:function(c){this.set({size:c})}},type:{get:function(){return this.as}},strokeColor:{get:function(){return this.nk},
set:function(c){this.set({strokeColor:c})}},fillColor:{get:function(){return this.wr},set:function(c){this.set({fillColor:c})}},calculatedSize:{get:function(){return 0===this._size?this.Ai:this._size}}})})(window);
(function(b){var d=b.Annotations||{};d.HTMLAnnotation=function(e){d.Annotation.call(this);b.Actions.ah.call(this,e);this.nk=new d.Color(0,0,0,1);this.qr=new d.Color;this.rr=new d.ao;this.Br=!1;this.uw=0;this.he=this.Hf=null;this.on("contentRemoved",function(){this.he=this.Hf=null;this.Tv=!1});this.$r=!0;_.isObject(e)&&(_.isUndefined(e.border)||this.rr.set(e.border),_.isUndefined(e.backgroundColor)||(this.qr=new d.Color(e.backgroundColor)),_.isUndefined(e.color)||(this.nk=new d.Color(e.color)),_.isUndefined(e.rect)||
(this.rect=new d.Rect(e.rect)));var c=this.Fp(),a=this;Object.keys(c).forEach(function(b){var e=c[b];$(a).on(e.internal_name,function(c){a.xe(b,e.getEvent(a,c))})})};d.HTMLAnnotation.prototype={Ui:"",jy:function(b){return(this.xa()-(this.$r?2*this.border.width:0))*b},ut:function(b){return(this.va()-(this.$r?2*this.border.width:0))*b},pH:function(b){this.$r=!!b},serialize:function(){this.Hidden=this.hidden;d.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(){d.Annotation.prototype.deserialize.apply(this,
arguments);this.Hidden&&(this.hidden=!0,this.Hidden=!1)},Fp:function(){return{}},sh:function(){},Oe:function(e){var c=this.uw,a=b.utils.getRotationOffsets(c,this.xa(),this.va()),d=a.dx*e,a=a.dy*e;return $.extend({left:this.X*e,top:this.Y*e,width:this.jy(e),height:this.ut(e),position:"absolute",padding:"0",margin:"0","background-color":this.qr.toString(),"z-index":"35",display:this.Br?"none":"",transform:"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","transform-origin":"top left","-webkit-transform":"translate("+
d+"px,"+a+"px) rotate("+-c+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","-moz-transform-origin":"top left","-webkit-appearance":"none"},this.$r?this.rr.$z(e):{})},sc:function(b){if(!b)throw Error("no zoom?");return{position:"absolute","font-size":"inherit","font-family":"inherit","font-weight":"inherit","font-style":"inherit",color:"inherit",
width:this.jy(b),height:this.ut(b),border:0,padding:0,margin:0,"background-color":"transparent","vertical-align":"top"}},Yo:function(b,c){for(var a in c){var d=c[a];"number"===typeof d&&(d+="px");b.style[a]=d}},wf:function(b){this.Br=!b;this.Hf&&(this.Hf[0].style.display=this.Br?"none":"")},createInnerElement:function(){console.warn("missing inner element");return null},tE:function(){return this.he},nE:function(){return this.Hf},render:function(b,c,a,d){if(!this.Hf){var g=document.createElement("div");
g.className=this.Ui;this.Hf=$(g)}var g=d?$(this.Hf[0].cloneNode()):this.Hf,l=this.Oe(a,c),h=JSON.stringify(l);h!==g.Iy&&(g.css(l),g.Iy=h);if(this.he=this.he||this.createInnerElement()){var k=d?$(this.he[0].cloneNode(!0)):this.he;k!==this.he&&(this.refresh&&this.refresh(),k[0].value=this.he[0].value,this.he[0].checked&&(k[0].checked=!0));document.activeElement===k[0]&&k.trigger("focusout");a=this.sc(a);h=JSON.stringify(a);h!==k.Iy&&(this.Yo(k[0],a),k.Iy=h);this.Tv||(this.sh(c),this.Tv=!0)}if(this.Hf[0].parentNode!==
b[0])for(b[0].appendChild(g[0]),b=0;b<this.he.length;++b)c=0===b?k[0]:d?this.he[b].cloneNode(!0):this.he[b],g[0].appendChild(c)},Uu:function(){this.Hf&&(this.Hf.remove(),this.Tv=!1)}};d.HTMLAnnotation.prototype=$.extend(Object.create(d.Annotation.prototype),d.HTMLAnnotation.prototype,b.Actions.ah.prototype);Object.defineProperties(d.HTMLAnnotation.prototype,{rect:{get:function(){return this.me()},set:function(b){this.uj(b)}},element:{get:function(){return this.nE()}},innerElement:{get:function(){return this.tE()}},
hidden:{get:function(){return this.Br},set:function(b){this.wf(!b)}},StrokeColor:{get:function(){return this.nk},set:function(b){this.nk=new d.Color(b)}},border:{get:function(){return this.rr},set:function(b){this.rr.set(b)}},backgroundColor:{get:function(){return this.qr},set:function(b){this.qr=new d.Color(b)}},actions:{get:function(){return this.Ek()}},rotation:{get:function(){return this.uw},set:function(b){this.uw=Number(b)}}})})(window);
(function(b){var d=b.Annotations||{};d.ed=function(b){d.HTMLAnnotation.call(this,b);this.Listable=!1};d.ed.prototype=Object.create(d.HTMLAnnotation.prototype);d.ed.prototype.elementName="link";d.ed.prototype.createInnerElement=function(){var b=document.createElement("span");b.className="link";b.setAttribute("tabindex",0);return $(b)};d.ed.prototype.sh=function(){d.HTMLAnnotation.prototype.sh.apply(this,arguments);var b=this;this.innerElement.on("tap",function(){b.trigger("mouseup")})};d.ed.prototype.iF=
function(){return!0};d.ed.prototype.Fp=function(){var e=b.Annotations.O.tb.Events;return $.extend(d.HTMLAnnotation.prototype.Fp.call(this),{U:{triggers:"tap",internal_name:"mouseup",getEvent:function(){return e.ed.create("Mouse Up")}}})};d.ed.prototype.Oe=function(b,c){var a=d.HTMLAnnotation.prototype.Oe.apply(this,arguments),f={};if(this.StrokeThickness&&this.StrokeColor){var g=this.StrokeStyle,l="border";"underline"===g&&(l="border-bottom");"solid"!==g&&"dashed"!==g&&"inset"!==g&&(g="solid");var h=
c.u.tc(this.Ib());f[l]=d.eb.ps(h,this.StrokeThickness)*b+"px "+g+" "+this.StrokeColor.toHexString()}return $.extend(a,f)};d.ed.prototype.deserialize=function(b,c,a){d.HTMLAnnotation.prototype.deserialize.call(this,b,c,a);var f=d.ba.Ti(b.getAttribute("color"));f&&(this.StrokeColor=f);f=b.getAttribute("width");"undefined"!==typeof f&&null!==f&&(this.StrokeThickness=parseFloat(f));f=b.getAttribute("style");"undefined"!==typeof f&&null!==f&&(this.StrokeStyle=f);this.oC(b,c,a)};d.ed.prototype.serialize=
function(b,c){d.HTMLAnnotation.prototype.serialize.call(this,b,c);this.StrokeColor&&b.setAttribute("color",this.StrokeColor.toHexString());"undefined"!==typeof this.StrokeThickness&&null!==this.StrokeThickness&&b.setAttribute("width",this.StrokeThickness);this.StrokeStyle&&b.setAttribute("style",this.StrokeStyle);this.HQ(b,c);return b}})(window);
(function(b){var d=b.Annotations||{};d.Lj=function(){d.Annotation.call(this);this._isOpen=!1;this.Id=null;this.NoRotate=this.NoZoom=this.Printable=!0;this.DateModified=null};d.Lj.prototype={elementName:"popup",isOpen:function(){return this._isOpen},YG:function(b){this._isOpen=b},serialize:function(b){b=d.Annotation.prototype.serialize.apply(this,arguments);this.isOpen()&&b.setAttribute("open","yes");return b},deserialize:function(b){this.Printable=!1;d.Annotation.prototype.deserialize.apply(this,
arguments);var c=b.getAttribute("open");this.YG(c&&"yes"===c)}};d.Lj.prototype=$.extend(new d.Annotation,d.Lj.prototype)})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.WidgetAnnotation=function(c,a){d.HTMLAnnotation.call(this,a);if(!c)throw Error("Please set the field properly in the widget constructor");this._value=null;this.Ea=c;this.cm=null;c.MK(this,a?a.index:void 0);this.IsAdded=!1;this.kT=new Date;this.ZB="Left-justified";this.Listable=!1;this.dB="";this.Sv={};this.gB={Normal:"",Rollover:"",Down:""};this.ur=!1;this.Zb=new d.wi({mask:"Invisible Hidden NoPrint NoZoom NoRotate NoView ReadOnly Locked ToggleNoView LockedContents".split(" ")});
this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"];this.set(a);var b=this;this.on("commit",_.bind(this.Xw,this));this.on("change",function(a,c){b.TG();b.cg(c);b.trigger("commit")});this.on("blur",function(){b.fieldFlags.get("ReadOnly")||b.Ab(b.Ea.value);b.refresh()});this.on("focus",function(){b.fieldFlags.get("ReadOnly")||b.cg(b.Ea.value);b.refresh()})};d.WidgetAnnotation.prototype={elementName:"widget",tl:null,vh:function(c){if(!d.Annotation.prototype.vh.call(this,c)||!this.tl)return!1;c=
d.ba.getAttribute(c,"FT");return this.tl===c},Eh:function(){for(var c="",a=Object.keys(this.appearances),b=0;b<a.length;++b){var e=a[b];if("Off"!==e){c=e;break}}return c},Wf:function(c){this.cg(c)},TG:function(){this.ur=!0},set:function(c){if(_.isObject(c)){_.isUndefined(c.value)||(this.value=String(c.value));_.isUndefined(c.flags)||(this.Zb.set(c.flags),this.Zb.get("Hidden")&&this.wf(!1),this.Zb.get("NoView")&&this.wf(!1));if(!_.isUndefined(c.captions)){var a=c.captions,b=this.gB;Object.keys(a).forEach(function(c){b[c]=
a[c]})}_.isUndefined(c.page)||(this.PageNumber=c.page);_.isUndefined(c.quadding)||(this.quadding=c.quadding);_.isUndefined(c.appearances)||(this.Sv=c.appearances);_.isUndefined(c.appearance)||(this.appearance=c.appearance);_.isUndefined(c.rotation)||(this.rotation=c.rotation);_.isUndefined(c.font)||(this.font=c.font)}},Oe:function(c){var a=d.HTMLAnnotation.prototype.Oe.apply(this,arguments),a=$.extend(a,this.font.$z(c));this.fieldFlags.get("Required")&&(a.border=1.5*c+"px solid red");return a},sc:function(){var c=
d.HTMLAnnotation.prototype.sc.apply(this,arguments);return $.extend(c,{"text-align":{"Left-justified":"left",Centered:"center","Right-justified":"right"}[this.quadding]})},Ik:function(){var c=d.WidgetAnnotation.getCustomStyles;return c&&c(this)},xC:function(){function c(a){a.scale&&1!==a.scale&&a.preventDefault();a.stopPropagation()}var a=this.he[0];a.addEventListener("touchstart",c,{jq:!1});a.addEventListener("touchmove",c,{jq:!1});a.addEventListener("touchend",c,{jq:!1});a.addEventListener("mousedown",
c,{jq:!1});a.addEventListener("mousemove",c,{jq:!1});a.addEventListener("mouseup",c,{jq:!1})},ij:function(){return!0},Ua:function(){return this._value},Ab:function(c){c=b.Annotations.O.tb.Events.ea.create("Format",this.Ea,{value:c});this.Ea.xe("F",c);this.cg(c.value)},wf:function(c){this.Zb.set("Hidden",!c);d.HTMLAnnotation.prototype.wf.call(this,c)},render:function(c,a,b,g){if(!g){e.Ij=b;var l=!1;this.innerElement&&this.element||(l=!0)}d.HTMLAnnotation.prototype.render.apply(this,arguments);l&&!g&&
(this.element.attr("id",this.Ea.name),this.refresh())},cg:function(c){this._value=c;this.refresh()},refresh:function(){var c=this.fieldFlags.get("Multiline");this.font.xM(this._value?String(this._value):"",this,c);if(c=this.element){c[0].setAttribute("id",this.Ea.name);var a=this.Oe(e.Ij);this.Yo(c[0],a);if(c=this.innerElement)this.Ea&&this.Ea.userName&&c[0].setAttribute("title",this.Ea.userName),a=this.sc(e.Ij),this.Yo(c[0],a)}},Hh:function(){return null},deserialize:function(c,a,b){d.HTMLAnnotation.prototype.deserialize.call(this,
c,a);var e=d.ba;this.Ea.eH(e.getAttribute(c,"FT"));e.getAttribute(c,"creationdate")?this.DateCreated=e.jx(e.getAttribute(c,"creationdate")):this.DateCreated=null;this.border.deserialize(c);this.fieldFlags.deserialize(c);this.font.deserialize(c,a);var l=e.Lm(c,"V","value");this.Wf(l);this.Ea.Wf(l);this.defaultValue=e.Lm(c,"DV","defaultvalue");l=e.Lm(c,"defaultappearance","defaultappearance");l=e.$F(l);e.getAttribute(c,"color")?this.StrokeColor=e.getAttribute(c,"color").split(","):l.color&&(this.StrokeColor=
l.color);e.getAttribute(c,"BG")&&(this.backgroundColor=e.getAttribute(c,"BG").split(","));this.rotation=e=(e=e.getAttribute(c,"rotation"))?parseInt(e,10):0;if(90===e||270===e)e=this.Width,this.Width=this.Height,this.Height=e;this.oC(c,a,b)},serialize:function(){},yb:function(){return this.Ea},WG:function(c){this.Ea=c;this.cg(this.Ea.value)},uf:function(c){d.HTMLAnnotation.prototype.uf.call(this,c);this.Ea&&this.Ea.uf(c)},DK:function(c,a){this.Ea.rk(c,a)},rk:function(c,a){-1!==["K","V","F","C"].indexOf(c)?
this.DK(c,a):d.HTMLAnnotation.prototype.rk.call(this,c,a)},Xw:function(){this.Ea.trigger("commit",this.Ua(),this)},Fp:function(){var c=b.Annotations.O.tb.Events,a=this;return $.extend(d.HTMLAnnotation.prototype.Fp.call(this),{E:{triggers:"mouseenter",internal_name:"mouseenter",getEvent:function(){return c.ea.create("Mouse Enter",a.yb())}},X:{triggers:"mouseleave",internal_name:"mouseleave",getEvent:function(){return c.ea.create("Mouse Leave",a.yb())}},D:{triggers:"mousedown",internal_name:"mousedown",
getEvent:function(){return c.ea.create("Mouse Down",a.yb())}},U:{triggers:b.utils.mouseUpEventBug?"touchend":"mouseup",internal_name:"mouseup",getEvent:function(){return c.ea.create("Mouse Up",a.yb())}},Bl:{triggers:"focusout",internal_name:"blur",getEvent:function(){var b=a.yb();return c.ea.create("Blur",b,{value:b.value})}},Fo:{triggers:"focusin",internal_name:"focus",getEvent:function(){return c.ea.create("Focus",a.yb())}}})},eO:function(){return!!this.cm},sh:function(){d.HTMLAnnotation.prototype.sh.apply(this,
arguments);var c=this,a=this.innerElement;a&&(a.on("focusout",function(){c.ur&&(c.ur=!1,c.trigger("commit"));c.trigger("blur")}),a.on("focusin",function(){c.trigger("focus")}),a.on("mouseenter",function(){c.trigger("mouseenter")}),a.on("mouseleave",function(){c.trigger("mouseleave")}),a.on("mousedown",function(){c.trigger("mousedown")}),a.on(c.MH?"click":b.utils.mouseUpEventBug?"touchend":"mouseup",function(){c.trigger("mouseup")}))}};d.WidgetAnnotation.prototype=$.extend(Object.create(d.HTMLAnnotation.prototype),
d.WidgetAnnotation.prototype);Object.defineProperties(d.WidgetAnnotation.prototype,{fieldName:{get:function(){return this.Ea.name}},value:{get:function(){return this.Ua()},set:function(c){this.Ab(c)}},defaultValue:{get:function(){return this.Ea.defaultValue},set:function(c){this.Ea.defaultValue=c}},fieldFlags:{get:function(){return this.Ea.flags}},flags:{get:function(){return this.Zb}},font:{get:function(){return this.cm||this.Ea.font},set:function(c){this.cm=new b.Annotations.pg(c)}},fieldActions:{get:function(){return this.Ea.actions}},
appearance:{get:function(){return this.dB},set:function(c){this.Sv[c]?this.dB=c:console.log("Unknown appearance: "+c)}},quadding:{get:function(){return this.ZB},set:function(c){this.ZB=c}},appearances:{get:function(){return this.Sv}},captions:{get:function(){return this.gB}}})})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.kc=function(c,a){d.WidgetAnnotation.call(this,c,a)};d.kc.prototype={tl:"Btn",ts:null,vh:function(c){if(d.WidgetAnnotation.prototype.vh.call(this,c)){var a=new d.wi({mask:["PushButton","Radio"]}),b="C";a.deserialize(c);a.get("PushButton")?b="P":a.get("Radio")&&(b="R");return b===this.ts}return!1}};d.kc.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),d.kc.prototype);d.Mj=function(c,a){d.kc.call(this,c,a)};d.Mj.prototype={ts:"P",Ui:"pButton",
sc:function(){return $.extend(d.kc.prototype.sc.apply(this,arguments),{"background-color":"transparent"},this.Ik())},deserialize:function(c,a,b){var e=d.ba;d.kc.prototype.deserialize.call(this,c,a,b);(c=e.getAttribute(c,"ButtonLabel"))&&(this.captions.Normal=c)},Hh:function(){return null},createInnerElement:function(){var c=document.createElement("button");c.setAttribute("tabindex",0);$(c).append(this.captions.Normal);this.fieldFlags.get("ReadOnly")&&(c.disabled=!0);return $(c)}};d.Mj.prototype=$.extend(!0,
Object.create(d.kc.prototype),d.Mj.prototype);d.ki=function(c,a){d.kc.call(this,c,a);this.pH(!1);var b=this;this.MH=!0;this.on("click",function(){"Off"===this.Ua()?b.trigger("change",b.Eh()):b.trigger("change","Off")})};d.ki.prototype={ts:"C",Ui:"checkBox",refresh:function(){d.WidgetAnnotation.prototype.refresh.call(this);var c=this.innerElement;c&&(c.prop("checked",this.Ua()===this.Eh()),c.css(this.sc(e.Ij)))},cg:function(c){c===this.Eh()?(this.appearance=c,d.kc.prototype.cg.call(this,c)):(this.appearance=
"Off",d.kc.prototype.cg.call(this,"Off"))},sc:function(){var c=d.kc.prototype.sc.apply(this,arguments);c.left=Math.round(c.left);c.top=Math.round(c.top);return $.extend(c,{border:"none",margin:0},this.Ik())},Hh:function(){var c=this.innerElement;if(c)return c.prop("checked")?this.Eh():"Off"},createInnerElement:function(){var c=document.createElement("input");c.type="checkbox";c.setAttribute("tabindex",0);this.fieldFlags.get("ReadOnly")&&(c.disabled=!0);var a=this,c=$(c);c.on("click",function(){a.trigger("click")});
return c},deserialize:function(c,a,b){var e=d.ba.getAttribute(c,"N");e&&(this.appearances.Off={},this.appearances[e]={});d.kc.prototype.deserialize.call(this,c,a,b)}};d.ki.prototype=$.extend(!0,Object.create(d.kc.prototype),d.ki.prototype);Object.defineProperties(d.ki.prototype,{buttonName:{set:function(c){this.PJ=c},get:function(){return this.PJ}}});d.Nj=function(c,a){d.kc.call(this,c,a);this.pH(!1);var b=this;this.MH=!0;this.on("click",function(){"Off"===this.Ua()?b.trigger("change",b.Eh()):b.trigger("change",
"Off")})};d.Nj.prototype={ts:"R",Ui:"radioButton",Hh:function(){return this.Eh()},refresh:function(){var c=this.innerElement;c&&(c.prop("checked",this.Ea.Ua()===this.Hh()),c.css(this.sc(e.Ij)))},sc:function(){var c=d.kc.prototype.sc.apply(this,arguments);c.left=Math.round(c.left);c.top=Math.round(c.top);return $.extend(c,{border:"none",margin:0},this.Ik())},cg:function(c){"Off"!==c&&-1!==Object.keys(this.appearances).indexOf(c)?(this.appearance=c,d.kc.prototype.cg.call(this,c)):(this.appearance="Off",
d.kc.prototype.cg.call(this,"Off"))},createInnerElement:function(){var c=document.createElement("input");c.type="radio";c.setAttribute("tabindex",0);this.fieldFlags.get("ReadOnly")&&(c.disabled=!0);var a=this;$(c).on("click",function(){a.trigger("click")});return $(c)},deserialize:function(c,a,b){var e=d.ba.getAttribute(c,"N");e&&(this.appearances.Off={},this.appearances[e]={});d.kc.prototype.deserialize.call(this,c,a,b)}};d.Nj.prototype=$.extend(!0,Object.create(d.kc.prototype),d.Nj.prototype)})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{},c,a;d.ra=function(){d.Annotation.call(this);this.Ef=new d.Color(0,0,0,0);this._opacity=this.zi=1;this.nB=new Date;this.Tr=null};d.ra.prototype={Yc:function(a,c){null!==this.Opacity&&(a.globalAlpha=this.Opacity);null!==this.FillColor&&(a.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(a.strokeStyle=this.StrokeColor.toString());a.lineWidth=0===this.StrokeThickness?.001:this.Xi(c)},UR:function(){var b=this.X+this.xa()+2*this.StrokeThickness+
100,e=this.Y+this.va()+2*this.StrokeThickness+100;c=c||document.createElement("canvas").getContext("2d");c.canvas.width=b;c.canvas.height=e;a=a||document.createElement("canvas").getContext("2d");a.canvas.width=b;a.canvas.height=e},iM:function(b,e){this.UR();this.Yc(c,e);c.globalAlpha=1;this.Ch(c);c.stroke();this.Yc(a,e);a.globalAlpha=1;this.Ch(a);a.fill();c.globalCompositeOperation="source-out";c.drawImage(a.canvas,0,0);this.Yc(b,e);b.globalCompositeOperation="source-over";b.drawImage(c.canvas,0,
0);this.Ch(b);b.stroke()},rx:function(a,b){a.beginPath();1!==this.Opacity&&null!==this.Opacity?this.iM(a,b):(this.Yc(a,b),this.Ch(a),a.fill(),a.stroke())},Ch:function(){},EE:function(){return this.Tr},aH:function(a){this.Tr=a},Xi:function(a){return d.eb.ps(a,this.StrokeThickness)},serialize:function(a,b){var c=d.Annotation.prototype.serialize.apply(this,arguments),e=d.ba,k={},m=e.bg(this.FillColor);null!==m&&(k["interior-color"]=m);_.isUndefined(this.StrokeThickness)||_.isNull(this.StrokeThickness)||
(m=this.StrokeThickness,1!==m&&(k.width=m));_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||1===this.Opacity||(k.opacity=this.Opacity);(m=this.fringe)&&!m.oF()&&(k.fringe=d.ba.Az(this.fringe,b));if(m=this.DateCreated){var n;this.Zy&&(m.getTime()===this.RF?n=this.Zy:(delete this.Zy,delete this.RF));n||(n=e.aA(m));k.creationdate=n}this.ic(c,"style","solid");this.ic(c,"dashes","3");this.ic(c,"IT");this.ic(c,"inreplyto");this.ic(c,"replyType");for(var p in k)c.setAttribute(p,k[p]);!this.Tr||this instanceof
d.Ma||(e=document.createElementNS("","popup"),e=this.Tr.serialize(e,b),c.appendChild(e));return c},deserialize:function(a,c,b){d.Annotation.prototype.deserialize.apply(this,arguments);var e=d.ba,k=a.getAttribute("opacity");this.Opacity="undefined"!==typeof k&&null!==k?parseFloat(k):1;k=a.getAttribute("width");if(null!==this.StrokeThickness||"undefined"!==typeof k&&null!==k)this.zi=parseFloat(k||"1");this.zc(a,"style");this.zc(a,"dashes");this.zc(a,"IT");this.zc(a,"inreplyto");this.zc(a,"replyType");
this.az=k=a.getAttribute("fringe");"undefined"!==typeof k&&null!==k&&(this.fringe=e.oD(k,c));k=e.Ti(a.getAttribute("interior-color"));null!==k?this.FillColor=k:null!==this.FillColor&&(this.FillColor=new d.Color(0,0,0,0));(k=a.getAttribute("creationdate"))?(this.Zy=k,e=e.jx(k),this.RF=e.getTime(),this.DateCreated=e):this.DateCreated=null;e=a.getElementsByTagName("popup");0<e.length&&(k=new d.Lj,k.deserialize(e[0],c,b),this.aH(k))},selectionModel:d.na,SE:!0};d.ra.prototype=$.extend(!0,new d.Annotation,
d.ra.prototype);Object.defineProperties(d.ra.prototype,{FillColor:{get:function(){return this.Ef},set:function(a){a instanceof d.Color&&(this.Ef=a,this.rb())}},StrokeColor:{get:function(){return this.yi},set:function(a){a instanceof d.Color&&(this.yi=a,this.rb())}},StrokeThickness:{get:function(){return this.zi},set:function(a){this.zi=parseFloat(a);this.rb();this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(a){this._opacity=parseFloat(a);this.rb()}},DateCreated:{get:function(){return this.nB},
set:function(a){this.nB=e.jE(a)}}})})(window);
(function(b){var d=b.Annotations||{};d.mg=function(e,c){var a=this;a.on("change",function(c,e){var d=b.Annotations.O.tb.Events.ea.create("Keystroke",a.Ea,{value:e,change:"",willCommit:!1,selStart:-1,selEnd:-1});a.Ea.xe("K",d)});d.WidgetAnnotation.call(this,e,c)};d.mg.FORCE_SELECT=!1;d.mg.prototype={tl:"Ch",Ui:"choice",sh:function(){d.WidgetAnnotation.prototype.sh.apply(this,arguments);this.xC()},vh:function(b){if(d.WidgetAnnotation.prototype.vh.call(this,b)){var c=new d.wi({mask:["Combo"]});c.deserialize(b);
if(c.get("Combo"))return!0}return!1},deserialize:function(b,c,a){d.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);c=d.ba;c.getAttribute(b,"Opt")&&(b=c.getAttribute(b,"Opt"),this.Ea.options=b.split(",").map(function(a){return{value:a,displayValue:a}}),this.yb().Wf(this.Ua()),this.Wf(this.yb().Ua()))},Oe:function(){return $.extend(d.WidgetAnnotation.prototype.Oe.apply(this,arguments),{"overflow-y":"visible","overflow-x":"hide","z-index":"36"})},sc:function(b){return $.extend(d.WidgetAnnotation.prototype.sc.apply(this,
arguments),{resize:"none","min-height":"",height:this.ut(b)},this.Ik())},refresh:function(){d.WidgetAnnotation.prototype.refresh.apply(this,arguments);var b=this.innerElement,c=this.Ua();b&&b.val(c)},Hh:function(){var b=this.innerElement;if(b)return b.val()},createInnerElement:function(){function e(){c(50,l.length);h.off("mousedown",null,e);h.off("touchend",null,e)}function c(a,b){for(var c=document.createDocumentFragment(),e=a;e<b;++e){var d=l[e],g=document.createElement("OPTION");g.text=_.isUndefined(d.displayValue)?
d.value:d.displayValue;g.value=d.value;c.appendChild(g)}f.appendChild(c)}var a,f,g=this;!g.fieldFlags.get("Edit")||b.utils.isSafari||9===b.utils.ie||d.mg.FORCE_SELECT?f=a=document.createElement("select"):(a=document.createElement("input"),a.setAttribute("list",g.fieldName+"_list"),$(a).on("focus",function(){this.value=""}),f=document.createElement("datalist"),f.id=g.fieldName+"_list");g.fieldFlags.get("ReadOnly")&&(a.disabled=!0);var l=g.options,h=f===a?$(a):$([a,f]);50<l.length?(c(0,50),h.on("mousedown",
e),h.on("touchend",e)):c(0,l.length);h.on("change",function(){g.trigger("change",[g.Hh()])});return h}};d.mg.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),d.mg.prototype);Object.defineProperties(d.mg.prototype,{options:{get:function(){return this.Ea.options}}})})(window);
(function(b){var d=b.Annotations||{};d.ni=function(b,c){d.WidgetAnnotation.call(this,b,c)};d.ni.prototype={tl:"Ch",Ui:"list",refresh:function(){d.WidgetAnnotation.prototype.refresh.apply(this,arguments);var b=this.innerElement;b&&(b[0].value=this.Ua())},vh:function(b){if(d.WidgetAnnotation.prototype.vh.call(this,b)){var c=new d.wi({mask:"Combo"});c.deserialize(b);if(!c.get("Combo"))return!0}return!1},deserialize:function(b,c,a){d.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);c=d.ba;c.getAttribute(b,
"Opt")&&(b=c.getAttribute(b,"Opt"),this.Ea.options=b.split(",").map(function(a){return{value:a,displayValue:a}}),this.yb().Wf(this.Ua()),this.Wf(this.yb().Ua()))},Oe:function(){return $.extend(d.WidgetAnnotation.prototype.Oe.apply(this,arguments),{"overflow-y":"auto","overflow-x":"hidden"})},Hh:function(){var b=this.innerElement;return b?b.val():null},sc:function(){return $.extend(d.WidgetAnnotation.prototype.sc.apply(this,arguments),{"overflow-y":"scroll","overflow-x":"hidden"},this.Ik())},createInnerElement:function(){var b=
document.createElement("select");b.name=this.fieldName.replace(/\.|\s/g,"_");b.setAttribute("size",this.options.length);this.options.forEach(function(a){var c=_.isUndefined(a.displayValue)?a.value:a.displayValue,d=document.createElement("option");d.value=a.value;d.innerHTML=c;b.appendChild(d)});this.fieldFlags.get("ReadOnly")&&(b.disabled=!0);this.fieldFlags.get("MultiSelect")&&(b.multiple=!0);var c=this;$(b).on("change",function(){c.trigger("change",[c.Hh()])});return $(b)}};d.ni.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),
d.ni.prototype);Object.defineProperties(d.ni.prototype,{options:{get:function(){return this.Ea.options}}})})(window);
(function(b){var d=b.Annotations||{};d.Sj=function(b,c){d.WidgetAnnotation.call(this,b,c)};d.Sj.prototype={tl:"Sig",Ui:"signature",deserialize:function(b,c,a){d.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);b=b.getElementsByTagName("imagedata");0<b.length&&(this.appearances._DEFAULT={Normal:b[0].textContent},this.appearance="_DEFAULT")},sc:function(){var e=d.WidgetAnnotation.prototype.sc.apply(this,arguments),c=e.width,a=e.height,f=this.rotation;if(90===f||270===f)var g=c,c=a,a=g;var l=
b.utils.getRotationOffsets((360-f)%360,c,a),g=l.dx,l=l.dy;return $.extend(e,{transform:"translate("+g+"px,"+l+"px) rotate("+f+"deg)","transform-origin":"top left","-webkit-transform":"translate("+g+"px,"+l+"px) rotate("+f+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+g+"px,"+l+"px) rotate("+f+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+g+"px,"+l+"px) rotate("+f+"deg)","-moz-transform-origin":"top left",width:c,height:a},this.Ik())},createInnerElement:function(){var b=
new Image,c=this.appearances[this.appearance];c&&(b.src=c.Normal||"");return $(b)}};d.Sj.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),d.Sj.prototype)})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.Xj=function(b,a){d.WidgetAnnotation.call(this,b,a);this.fieldFlags.np(["Multiline","DoNotScroll","Password"]);this.ur=!1;this.cf=this.Ea.maxLen};d.Xj.prototype={tl:"Tx",Ui:"text",sh:function(){d.WidgetAnnotation.prototype.sh.apply(this,arguments);this.xC()},refresh:function(b){d.WidgetAnnotation.prototype.refresh.call(this);var a=this.innerElement;if(a)if(this.fieldFlags.get("ReadOnly"))a[0].innerHTML=this.value;else{var e,g;b&&(e=this.innerElement[0].selectionStart,
g=this.innerElement[0].selectionEnd);this.innerElement[0].value=this.value||"";b&&this.innerElement[0].setSelectionRange(e,g)}},Oe:function(){return d.WidgetAnnotation.prototype.Oe.apply(this,arguments)},sc:function(){var b=d.WidgetAnnotation.prototype.sc.apply(this,arguments),a={"word-wrap":"break-word",resize:"none","background-color":"transparent","overflow-y":this.fieldFlags.get("Multiline")?"auto":"hidden","overflow-x":"hidden"};if(this.fieldFlags.get("Comb")){var f=d.WidgetAnnotation.prototype.Oe.apply(this,
arguments),f=e.LN("1",f["font-size"]+" "+f["font-family"]),g=b.width/this.cf;a["margin-left"]=.2*g+"px";a["letter-spacing"]=g-f+"px"}return $.extend(b,a,this.Ik())},Yo:function(b,a){d.WidgetAnnotation.prototype.Yo.apply(this,arguments);if(this.Cy()&&a["font-size"]&&b.value){var e=b.style.overflowY;b.style.overflowY="hidden";b.offsetHeight;b.style.overflowY=e}},Cy:function(){return 0===this.font.size},LO:function(){return this.Cy()&&this.font.Ai===this.font.TB},Hh:function(){var b=this.innerElement;
if(b)return this.fieldFlags.get("ReadOnly")?b.text():b.val()},aN:function(b,a){if(b!==a){for(var e=0;b.charAt(e)===a.charAt(e);)e++;for(var d=0;b.charAt(b.length-1-d)===a.charAt(a.length-1-d)&&d+e<b.length&&d+e<a.length;)d++;var l,h=0;b.length!==e+d&&(h=b.length-d-e,l="");a.length!==e+d&&(l=a.slice(e,a.length-d));return{result:l,start:e,end:e+h}}},createInnerElement:function(){function c(){setTimeout(function(){g.refresh(!0)},0)}function a(a){return g.Cy()&&(!g.LO()||a)}function d(a,b){a.preventDefault();
b.value=g.Ua();b.style.overflowY="hidden";b.offsetHeight;b.style.overflowY="auto"}var g=this,l=this.fieldFlags,h=l.get("Multiline"),k=l.get("ReadOnly"),m=l.get("DoNotScroll"),n;k?(n=document.createElement("div"),n.className="text"):(h?n=document.createElement("textarea"):(n=document.createElement("input"),n.type="text"),0<this.cf&&n.setAttribute("maxlength",this.cf));e.kM(n,function(l){var k=0,u=0,r=l.change,v=g.Ua()||"";if(!l.hF){u=g.aN(v,r);if(!u)return;l.change=u.result;k=u.start;u=u.end}r=b.Annotations.O.tb.Events;
k=r.ea.create("Keystroke",g.yb(),{value:l.hF?"":v,change:l.change,selStart:k,selEnd:u,willCommit:!1});g.Ea.xe("K",k);k.rc?(k=r.Om(k),v=null!==g._value&&k.length<g._value.length,u=!0,m?h?a(v)?c():n.scrollHeight-1>=Math.ceil($(n).innerHeight())&&(u=!1):v?(u=!0,a(v)&&c()):a(v)?c():u=e.measureText(k||" ",n.parentNode.style.fontSize,n.parentNode.style.fontFamily,n.parentNode.style.fontWeight).width<$(n).width():a(v)&&c(),0<g.cf&&(u=u&&k.length<=g.cf),u?(g._value=k,document.activeElement===n?g.TG():g.trigger("commit")):
d(l,n)):d(l,n)},!h);return $(n)}};d.Xj.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),d.Xj.prototype)})(window);
(function(b){var d=b.Annotations||{};d.wi=function(b){this.rh={};this.jm=null;this.Po=0;_.isObject(b)&&_.isArray(b.mask)&&this.np(b.mask)};d.wi.prototype={li:{ReadOnly:1,Required:2,NoExport:4,Multiline:4096,Password:8192,NoToggleToOff:16384,Radio:32768,PushButton:65536,Combo:131072,Edit:262144,DoNotScroll:8388608,RadiosInUnison:33554432},clear:function(){this.rh={}},np:function(b){_.isNull(this.jm)&&(this.jm={});for(var c=b.length,a=0;a<c;++a){var d=b[a];this.jm[d]=this.li[d]||0}},OL:function(b){var c=
[],a=this.jm||this.li;Object.keys(a).forEach(function(d){0!==(b&a[d])&&(b&=~a[d],c.push(d))});return{result:c,vS:b}},get:function(b){return!!this.rh[b]},qS:function(){var b=0,c;for(c in this.rh)this.rh.hasOwnProperty(c)&&!0===this.rh[c]&&(b|=this.li[c]);return b|this.Po},toArray:function(){var b=this;return Object.keys(this.rh).filter(function(c){return b.rh[c]})},deserialize:function(b){b=d.ba.getAttribute(b,"Ff");this.set(parseInt(b,10))},serialize:function(b){b.setAttribute("Ff",String(this.qS()))},
set:function(b,c){if(_.isArray(b))for(var a=b.length,d=0;d<a;++d)this.set(b[d]);else _.isNumber(b)?(a=this.OL(b),this.Po|=a.vS,this.set(a.result)):_.isString(b)&&(a=!0,_.isUndefined(c)||(a=!!c),this.jm?_.isUndefined(this.jm[b])?this.Po|=this.li[b]||0:this.rh[b]=a:this.rh[b]=a)}}})(window);
(function(b){var d=b.Annotations||{};d.eo=function(){d.ra.call(this);this["_xsi:type"]="Caret";this.Subject=i18n.t("annotations.types.caret");this.StrokeThickness=0;this.Ef=null};d.eo.prototype={elementName:"caret",draw:function(e,c){this.Yc(e,c);var a=this.Width,f=this.Height,g=Number(this.Rotation);if(90===g||270===g)g=a,a=f,f=g;e.translate(this.X,this.Y);e.rotate(-this.Rotation*Math.PI/180);g=b.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);e.translate(-g.dx,-g.dy);e.translate(-this.X,
-this.Y);e.beginPath();e.fillStyle=this.StrokeColor.toString();a=new d.Rect(this.X,this.Y,this.X+a,this.Y+f);g=(a.x1+a.x2)/2;f=a.y1+3*f/4;e.moveTo(g,a.y1);e.quadraticCurveTo(g,f,a.x1,a.y2);e.lineTo(a.x2,a.y2);e.quadraticCurveTo(g,f,g,a.y1);e.closePath();e.fill();e.stroke()},selectionModel:d.na,deserialize:function(b){d.ra.prototype.deserialize.apply(this,arguments);var c=Number(this.Rotation);if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c;this.StrokeThickness=0;this.zc(b,"symbol")},
serialize:function(b){var c=Number(this.Rotation),a;if(90===c||270===c)a=this.Width,this.Width=this.Height,this.Height=a;d.ra.prototype.serialize.apply(this,arguments);if(90===c||270===c)a=this.Width,this.Width=this.Height,this.Height=a;this.ic(b,"symbol");b.removeAttribute("width");return b}};d.eo.prototype=$.extend(new d.ra,d.eo.prototype)})(window);
(function(b){var d=b.Annotations||{};d.Al=function(){d.ra.call(this);this["_xsi:type"]="Ellipse";this.Subject=i18n.t("annotations.types.ellipse");var b=this.getRectPadding();this.fringe=new d.Rect(b,b,b,b)};d.Al.prototype={elementName:"circle",draw:function(b,c){this.rx(b,c)},Ch:function(b){var c=this.X+this.fringe.x1,a=this.Y+this.fringe.y1,d=this.xa()-this.fringe.x1-this.fringe.x2,g=this.va()-this.fringe.y1-this.fringe.y2,l=Math.min(d,g);b.lineWidth>=l&&(b.lineWidth=l-1);b.lineWidth*=2;l=d/g;isNaN(l)||
Infinity===l||(b.save(),b.translate(c+(1-l)*d/2,a),b.scale(l,1),b.beginPath(),b.arc(.5*d,.5*g,Math.max(.5*g,0),0,2*Math.PI,!1),b.closePath(),b.restore(),b.clip())},getRectPadding:function(){return 0},selectionModel:d.na};d.Al.prototype=$.extend(new d.ra,d.Al.prototype)})(window);
(function(b){var d=b.Annotations||{};d.FreeHandAnnotation=function(){d.ra.call(this);this.Fa=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Wa={x:0,y:0};this.vb={x:0,y:0};this.Fr=!1;this["_xsi:type"]="Free Hand";this.Subject=i18n.t("annotations.types.freeHand");this.ug=this.Ef=null};d.FreeHandAnnotation.opacityCap=.7;d.FreeHandAnnotation.Pc={InkHighlight:"InkHighlight"};d.FreeHandAnnotation.prototype={elementName:"ink",shouldSimplifyPath:!1,ac:function(b,c,
a){"undefined"===typeof a&&(a=0);if(a===this.Fa.length)this.Fa.push([]);else if(a>this.Fa.length){console.warn("FreeHandAnnotation addPathPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,b);this.RightMost=Math.max(this.RightMost,b);this.TopMost=Math.min(this.TopMost,c);this.BottomMost=Math.max(this.BottomMost,c);var f=this.getRectPadding();this.Pv=this.LeftMost-f;this.Qv=this.TopMost-f;this.Ov=this.RightMost-this.LeftMost+2*f;this.Lv=this.BottomMost-this.TopMost+2*f;this.Fa[a].push(new d.Point(b,
c))},vf:function(b,c,a,d){"undefined"===typeof d&&(d=0);var g;this.Fa.length>d?(g=this.Fa[d],g.length>b?(g[b].x=c,g[b].y=a,this.adjustRect()):g.length===b&&this.ac(c,a,d)):this.Fa.length===d?this.ac(c,a,d):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},Fh:function(b,c){"undefined"===typeof c&&(c=0);return this.Fa&&this.Fa.length>c&&this.Fa[c].length>b?this.Fa[c][b]:null},vn:function(b){"undefined"===typeof b&&(b=0);var c=null;this.Fa.length>b&&(c=this.Fa[b].pop(),this.adjustRect());
return c},getPath:function(b){"undefined"===typeof b&&(b=0);return this.Fa.length>b?this.Fa[b]:null},setPath:function(b,c){"undefined"===typeof c&&(c=0);this.Fa.length<c?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.Fa.length>c?this.Fa[c]=b:this.Fa.length===c&&this.Fa.push(b);this.adjustRect()},jM:function(){this.Fa=[]},finish:function(){this.Fr||(this.rb(),this.Fr=!0)},resize:function(b){var c=b.x1,a=b.y1,d=b.xa(),g=b.va();b=a-this.Y;if(!(0===c-this.X&&0===b&&d===this.Width&&
g===this.Height||1>d||1>g)){var l=b=1;"undefined"!==typeof d&&"undefined"!==typeof g&&(b=g/this.Height,l=d/this.Width,this.Width=d,this.Height=g);for(d=0;d<this.Fa.length;d++)for(g=0;g<this.Fa[d].length;g++)this.Fa[d][g].x=(this.Fa[d][g].x-this.X)*l+c,this.Fa[d][g].y=(this.Fa[d][g].y-this.Y)*b+a;this.X=c;this.Y=a}},draw:function(b,c){this.Yc(b,c);this.ug===d.FreeHandAnnotation.Pc.InkHighlight&&b.globalAlpha>d.FreeHandAnnotation.opacityCap&&(b.globalAlpha=d.FreeHandAnnotation.opacityCap);b.beginPath();
for(var a=this.Kk(),f=0;f<a.length;f++)this.Ch(b,a[f]);b.lineCap="round";b.lineJoin="round";b.stroke()},Kk:function(){return this.Fa},YR:function(b,c){if(this.shouldSimplifyPath)for(var a=0;a<this.Fa.length;a++){var d=window.simplify(this.getPath(a),b,c);this.setPath(d,a)}},Ch:function(b,c){var a="undefined"===typeof c?0:c.length;if(3<=a){b.moveTo(c[0].x,c[0].y);for(a=1;a<c.length-2;a++)b.quadraticCurveTo(c[a].x,c[a].y,(c[a].x+c[a+1].x)/2,(c[a].y+c[a+1].y)/2);a+1<c.length&&b.quadraticCurveTo(c[a].x,
c[a].y,c[a+1].x,c[a+1].y)}else 2===a&&(b.moveTo(c[0].x,c[0].y),b.lineTo(c[1].x,c[1].y))},rotate:function(e,c){this.Fa.forEach(function(a){for(var d=0;d<a.length;++d)a[d]=b.Qd.Math.EQ(a[d],e,c)});this.adjustRect()},adjustRect:function(){if(0!==this.Fa.length){this.Wa={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.vb={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var b,c;for(b=0;b<this.Fa.length;b++)for(c=0;c<this.Fa[b].length;c++)if(null!==this.Fa[b][c]){var a=this.Fa[b][c].x,d=this.Fa[b][c].y;a>this.vb.x&&
(this.vb.x=a);d>this.vb.y&&(this.vb.y=d);a<this.Wa.x&&(this.Wa.x=a);d<this.Wa.y&&(this.Wa.y=d)}b=this.getRectPadding();this.X=this.Wa.x-b;this.Y=this.Wa.y-b;this.Width=Math.max(0,this.vb.x-this.Wa.x)+2*b;this.Height=Math.max(0,this.vb.y-this.Wa.y)+2*b;this.Pu()}},getRectPadding:function(){return this.StrokeThickness},serialize:function(b,c){for(var a=d.ra.prototype.serialize.apply(this,arguments),f=document.createElementNS("","inklist"),g=this.Kk(),l=0;l<g.length;l++)if(!(1>g[l].length)){var h=d.ba.Hn(g[l],
c),k=document.createElementNS("","gesture");k.textContent=h;f.appendChild(k)}a.appendChild(f);this.ug&&(a.setAttribute("IT",this.ug),this.ug===d.FreeHandAnnotation.Pc.InkHighlight&&0!==this.Opacity&&this.Opacity>d.FreeHandAnnotation.opacityCap&&a.setAttribute("opacity",d.FreeHandAnnotation.opacityCap));return a},deserialize:function(b,c){d.ra.prototype.deserialize.apply(this,arguments);var a=this;a.Fa=[];b.querySelectorAll("inklist gesture").forEach(function(b){b=d.ba.xk(b.textContent,c);b=a.shouldSimplifyPath?
window.simplify(b,.5):b;a.Fa.push(b)});this.adjustRect();this.ug=b.getAttribute("IT");this.Ef=null},selectionModel:d.na};d.FreeHandAnnotation.prototype=$.extend(new d.ra,d.FreeHandAnnotation.prototype);Object.defineProperties(d.FreeHandAnnotation.prototype,{Intent:{get:function(){return this.ug},set:function(b){this.ug=b;this.rb()}}})})(window);
(function(b){var d=b.Annotations||{};d.Od=function(){d.ra.call(this);this.ka=[];this.Wa={x:0,y:0};this.vb={x:0,y:0}};d.Od.prototype={ac:function(b,c){var a=this.getRectPadding();this.ka.push(new d.Point(b,c));1===this.ka.length?(this.Wa={x:b,y:c},this.vb={x:b,y:c},this.X=b-a,this.Y=c-a):(b>this.vb.x&&(this.Width=b-this.Wa.x+2*a,this.vb.x=b),c>this.vb.y&&(this.Height=c-this.Wa.y+2*a,this.vb.y=c),b<this.Wa.x&&(this.Width=this.vb.x-b+2*a,this.X=b-a,this.Wa.x=b),c<this.Wa.y&&(this.Height=this.vb.y-c+
2*a,this.Y=c-a,this.Wa.y=c))},vf:function(b,c,a){this.ka&&this.ka.length>b?(this.ka[b].x=c,this.ka[b].y=a,this.adjustRect()):this.ka&&this.ka.length===b&&this.ac(c,a)},Fh:function(b){return this.ka&&this.ka.length>b?this.ka[b]:null},vn:function(){var b=this.ka.pop();this.adjustRect();return b},getPath:function(){return this.ka},setPath:function(b){this.ka=b;this.adjustRect()},getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.ka.length){this.Wa={x:Number.MAX_VALUE,
y:Number.MAX_VALUE};this.vb={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var b=0;b<this.ka.length;b++)if(null!==this.ka[b]){var c=this.ka[b].x,a=this.ka[b].y;c>this.vb.x&&(this.vb.x=c);a>this.vb.y&&(this.vb.y=a);c<this.Wa.x&&(this.Wa.x=c);a<this.Wa.y&&(this.Wa.y=a)}b=this.getRectPadding();this.X=this.Wa.x-b;this.Y=this.Wa.y-b;this.Width=Math.max(0,this.vb.x-this.Wa.x)+2*b;this.Height=Math.max(0,this.vb.y-this.Wa.y)+2*b;this.Pu()}},selectionModel:d.Ll};d.Od.prototype=$.extend(new d.ra,d.Od.prototype)})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.Ma=function(b){d.Od.call(this);this.ka=[];this.Wa={x:0,y:0};this.vb={x:0,y:0};this.Ye=null;this["_xsi:type"]="FreeText";this.StrokeThickness=1;this.Jn(b);this.Jt="left";this.cB=new d.Color(255,0,0);this.SA="Verdana";this.TA="9pt";this.bB="left";this.$A=0;this.Wl=2;this.Subject=b!==d.Ma.Pc.FreeTextCallout?i18n.t("annotations.types.freetext"):i18n.t("annotations.types.callout")};d.Ma.EXPORT_CALCULATED_FONT_SIZE=!0;d.Ma.Pc={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",
FreeTextTypeWriter:"FreeTextTypeWriter"};d.Ma.prototype={elementName:"freetext",cj:function(){return this.intent},Jn:function(b){this.intent=b||d.Ma.Pc.FreeText;b!==d.Ma.Pc.FreeTextCallout?this.selectionModel=d.ko:(this.vj("OpenArrow"),this.selectionModel=d.Oq)},vj:function(b){this.Hi=b},dj:function(){return this.Hi},ac:function(b,a){5>this.ka.length&&d.Od.prototype.ac.call(this,b,a)},adjustRect:function(){this.cj()===d.Ma.Pc.FreeTextCallout&&d.Od.prototype.adjustRect.apply(this,arguments)},resize:function(b){if(this.cj()===
d.Ma.Pc.FreeTextCallout){var a=b.y1-this.Y,e=b.xa()/this.Width,g=b.va()/this.Height;if(0!==b.x1-this.X||0!==a||1!==e||1!==g){var l=this;this.ka.forEach(function(a){a.x=(a.x-l.X)*e+b.x1;a.y=(a.y-l.Y)*g+b.y1});this.adjustRect()}}else this.uj(b),a=this.getRectPadding(),this.Ln(new d.Rect(a,a,a,a))},getRectPadding:function(){return this.cj()===d.Ma.Pc.FreeTextCallout?this.StrokeThickness/2:0},Ln:function(b){var a=0;this.cj()===d.Ma.Pc.FreeTextCallout&&(a+=this.Wl+1);this.ka[a]=new d.Point(this.X+b.x1,
this.Y+b.y2);this.ka[a+1]=new d.Point(this.X+this.Width-b.x2,this.Y+this.Height-b.y1)},Sx:function(){var b=this.ka.slice(-2),a=b[0],b=b[1];return new d.Rect(a.x-this.X,this.Y+this.Height-b.y,this.X+this.Width-b.x,a.y-this.Y)},Px:function(){return this.FontSize.slice(-2)||"px"},Ox:function(){var b=parseFloat(this.FontSize),a=this.Px(b);0===b&&this.OA&&d.Ma.EXPORT_CALCULATED_FONT_SIZE&&(b=this.OA,a="px");"px"===a&&(b*=.75);return b},US:function(b,a,d,e,l,h,k){for(var m,n=e,p=b.measureText(".").width||
1,p=2*Math.ceil(l/p),q=a.split("\n"),u=0;u<q.length;u++){for(var r=q[u].split(" "),v="",w=0;w<r.length;w++){a=r[w];m=b.measureText(a);if(m.width>l){for(var z=1,D=p,A;z<=D;)if(A=Math.floor((D+z)/2),m=b.measureText(a.slice(0,A),b),m.width<l)z=A+1;else if(m.width>l)D=A-1;else break;a=a.slice(0,Math.max(1,D))}r[w]!==a&&(r.splice(w+1,0,r[w].substr(a.length)),r[w]=a);a=v+r[w];m=b.measureText(a);if(m.width>l&&0<w){b.fillText(v,d,e);v=r[w]+" ";if(e-n>=h)return;e+=k}else v=a+" "}b.fillText(v.slice(0,-1),d,
e);if(e-n>=h)break;e+=k}},AO:function(){this.Ye=document.createElement("textarea");this.Ye.className="freetext";this.Ye.style.visibility="hidden";this.Ye.style.position="absolute";this.Ye.style.top="-9001px";document.getElementsByTagName("body")[0].appendChild(this.Ye)},rE:function(b){return{SP:b+5+.55*(b-9),css:1+5/b}},draw:function(b,a){this.Ye||this.AO();var f,g=!1;this.Yc(b,a);if(this.cj()===d.Ma.Pc.FreeTextCallout){b.lineJoin="miter";g=this.Xi(a);0===g&&(g=b.lineWidth=1);for(var l=Math.min(this.Wl+
1,this.ka.length),h=0;h<l;h++)f=this.ka[h],0===h?(b.beginPath(),b.moveTo(f.x,f.y)):b.lineTo(f.x,f.y);1<this.ka.length&&e.nx(b,this.ka[0],this.ka[1],g);g=this.ka.length===this.Wl+3}else g=2===this.ka.length;if(g){g=this.ka.slice(-2);f=g[0];var k=g[1],g=f.x,l=f.y,h=k.x-f.x,m=k.y-f.y;b.save();0<this.StrokeThickness&&(b.beginPath(),b.lineWidth*=2,b.rect(g,l,h,m),b.clip(),b.stroke());b.beginPath();b.rect(g+b.lineWidth/2,l+b.lineWidth/2,h-b.lineWidth,m-b.lineWidth);b.closePath();b.fill();b.restore();f=
this.Gk();if("undefined"!==typeof f){b.textBaseline="top";b.fillStyle=this.TextColor.toString();var n=b.lineWidth,k=0+n;b.save();b.beginPath();b.rect(g+n,l+n,Math.max(h-2*n,0),Math.max(m-2*n));b.clip();b.textAlign=this.TextAlign;if(this.Rotation){b.translate(g,l);b.rotate(-(Math.PI/180*this.Rotation));b.translate(-g,-l);if(90===this.Rotation||270===this.Rotation)n=h,h=m,m=n;90===this.Rotation?b.translate(-h,0):270===this.Rotation?b.translate(0,-m):180===this.Rotation&&b.translate(-h,-m)}var n=h-2*
k,m=Math.round(m-2*k),p=d.eb.ps(a,parseFloat(this.FontSize)),q=this.Px();"pt"===q&&(p*=.75);if(0===p){this.Ye.style.width=n+"px";this.Ye.style.height=m+"px";this.Ye.style.fontFamily=this.Font;f=f.replace(/\s+$/g,"");this.Ye.value=f;var u=this,p=e.QD(f,this.Ye,m,function(a){return u.rE(a).css}),q="px";this.OA=p}var r=this.rE(p).SP,v=g+k;"center"===this.TextAlign?v=g+h/2:"right"===this.TextAlign&&(v=g+h-k);b.font=p+q+" "+this.Font;this.US(b,f,v,l+k,n,m,r);b.restore()}}},serialize:function(b,a){var e=
d.ra.prototype.serialize.apply(this,arguments),g=this.getPath(),l={},h=d.ba.bg(this.FillColor);null!==h?l.color=h:e.removeAttribute("color");e.removeAttribute("interior-color");var h=this.Ox(),k,m=this.Sx();this.Yy&&this.Yy.isEqual(m)?k=this.az:(this.az&&(delete this.az,delete this.Yy),m.oF()||(k=d.ba.Az(m,a)));k&&e.setAttribute("fringe",k);this.originalTextAlignCalculated!==this.TextAlign||this.originalTextColorCalculated!==d.ba.bg(this.TextColor)||this.originalStrokeColorCalculated!==d.ba.bg(this.StrokeColor)||
this.originalFontSizeCalculated!==this.FontSize||this.originalFontCalculated!==this.Font?(m=this.StrokeColor.pS()+" "+d.ba.OQ(this.Font,h),k=d.ba.NQ(this)):(m=this.originalDefaultAppearance,k=this.originalDefaultStyle);var n=document.createElementNS("","defaultappearance");n.textContent=m;e.appendChild(n);m=document.createElementNS("","defaultstyle");m.textContent=k;e.appendChild(m);this.Jt&&"left"!==this.Jt&&(l.justification=this.Jt);k=d.ba.bg(this.TextColor);null!==k&&e.setAttribute("TextColor",
k);e.setAttribute("FontSize",h);h=this.cj();h===d.Ma.Pc.FreeTextCallout&&(g=d.ba.Hn(g.slice(0,-2),a,",",","),l.callout=g,l.head=this.dj(),e.setAttribute("IT",h));for(var p in l)b.setAttribute(p,l[p]);return e},deserialize:function(b,a){this.TextColor=new d.Color(0,0,0);var e=d.ba;d.ra.prototype.deserialize.apply(this,arguments);null!==e.Ti(b.getAttribute("color"))?this.FillColor=this.StrokeColor:this.FillColor=new d.Color(0,0,0,0);var g=e.Lm(b,"defaultappearance","defaultappearance"),l=e.Lm(b,"defaultstyle",
"defaultstyle"),h=e.$F(g);h.color&&(this.StrokeColor=e.Ti(h.color));h.font&&(this.Font=h.font.name,this.FontSize=h.font.size);h=e.MP(l);h.font&&(this.Font=h.font.name,this.FontSize=h.font.size);h.textAlign&&(this.TextAlign=h.textAlign);h.color&&(this.TextColor=e.Ti(h.color));this.originalStrokeColorCalculated=e.bg(this.StrokeColor);this.originalTextAlignCalculated=this.TextAlign;this.originalTextColorCalculated=h.color?h.color:e.bg(this.TextColor);this.originalFontSizeCalculated=this.FontSize;this.originalFontCalculated=
this.Font;this.originalDefaultStyle=b;this.originalDefaultAppearance=g;this.originalDefaultStyle=l;if((g=b.getAttribute("IT")||b.getAttribute("it"))&&g===d.Ma.Pc.FreeTextCallout){if(this.Jn(d.Ma.Pc.FreeTextCallout),this.vj(b.getAttribute("head")||"OpenArrow"),l=b.getAttribute("callout"))for(g=e.xk(l,a),3>g.length&&(l=e.xk(l,a,",",","),4>l.length&&(g=l,this.Wl=g.length-1)),l=this.getPath(),h=0;h<g.length;h++)l[h]=new d.Point(parseFloat(g[h].x),parseFloat(g[h].y))}else this.Jn(d.Ma.Pc.FreeText);this.fringe?
this.Ln(this.fringe):this.Ln(new d.Rect(0,0,0,0));if(g=b.getAttribute("justification"))this.Jt=g;e=e.Ti(b.getAttribute("TextColor"));null!==e&&(this.TextColor=e);e=b.getAttribute("FontSize");_.isUndefined(e)||_.isNull(e)||(this.FontSize=e+"pt");(e=b.getAttribute("rotation"))&&(this.Rotation=parseInt(e,10));this.adjustRect();this.Yy=this.Sx()},selectionModel:d.ko};d.Ma.prototype=$.extend(new d.Od,d.Ma.prototype);Object.defineProperties(d.Ma.prototype,{CalloutLineCount:{get:function(){return this.Wl},
set:function(b){this.Wl=b;this.rb()}},TextColor:{get:function(){return this.cB},set:function(b){this.cB=b;this.rb()}},FontSize:{get:function(){return this.TA},set:function(b){this.TA=b;this.rb()}},Font:{get:function(){return this.SA},set:function(b){this.SA=b;this.rb()}},TextAlign:{get:function(){return this.bB},set:function(b){this.bB=b;this.rb()}},Rotation:{get:function(){return this.$A},set:function(b){this.$A=b;this.rb()}}})})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.ee=function(){d.ra.call(this);this["_xsi:type"]="Line";this.Subject=i18n.t("annotations.types.line");this.Hi=this.am=this.End=this.Start=this.Ef=null};d.ee.prototype={elementName:"line",resize:function(b){var a=b.x1;b=b.y1;var e=a-this.X,d=b-this.Y;if(0!==e||0!==d)this.Start.x+=e,this.Start.y+=d,this.End.x+=e,this.End.y+=d,this.X=a,this.Y=b},adjustRect:function(){if(!_.isNull(this.Start)||!_.isNull(this.End)){var b=this.getRectPadding();this.X=Math.min(this.Start.x,
this.End.x)-b;this.Y=Math.min(this.Start.y,this.End.y)-b;this.Width=Math.abs(this.Start.x-this.End.x)+2*b;this.Height=Math.abs(this.Start.y-this.End.y)+2*b;this.Pu()}},getRectPadding:function(){return this.StrokeThickness},Lz:function(b,a){this.Start=new d.Point(b,a)},JN:function(){return this.Start},setEndPoint:function(b,a){this.End=new d.Point(b,a)},SM:function(){return this.End},vj:function(b){this.Hi=b},dj:function(){return this.Hi||"None"},rq:function(b){this.am=b},vp:function(){return this.am||
"None"},draw:function(b,a){this.Yc(b,a);if(this.Start&&this.End){b.beginPath();b.moveTo(this.Start.x,this.Start.y);b.lineTo(this.End.x,this.End.y);var d=!1;_.isNull(this.Hi)||"None"===this.Hi||(e.nx(b,this.Start,this.End,this.Xi(a)),d=!0);_.isNull(this.am)||"None"===this.am||(e.nx(b,this.End,this.Start,this.Xi(a)),d=!0);d||b.stroke()}else b.beginPath(),b.moveTo(0,0),b.lineTo(this.xa(),this.va()),b.stroke()},serialize:function(b,a){b=d.ra.prototype.serialize.apply(this,arguments);var e=new d.Point(this.End.x,
this.End.y),g=d.ba;b.setAttribute("start",g.Gu(new d.Point(this.Start.x,this.Start.y),a));b.setAttribute("end",g.Gu(e,a));"None"!==this.dj()&&b.setAttribute("head",this.dj());"None"!==this.vp()&&b.setAttribute("tail",this.vp());this.ic(b,"leaderLength");this.ic(b,"leaderExtend");this.ic(b,"leader-offset");this.ic(b,"caption");this.ic(b,"caption-style");this.ic(b,"caption-offset-h");this.ic(b,"caption-offset-v");return b},deserialize:function(b,a){d.ra.prototype.deserialize.apply(this,arguments);var e=
d.ba,g=e.pD(b.getAttribute("start"),a);null!==g?this.Lz(g.x,g.y):this.Lz(this.X,this.Y);e=e.pD(b.getAttribute("end"),a);null!==e?this.setEndPoint(e.x,e.y):this.setEndPoint(this.X+this.Width,this.Y+this.Height);this.vj(b.getAttribute("head")||"None");this.rq(b.getAttribute("tail")||"None");this.zc(b,"leaderLength");this.zc(b,"leaderExtend");this.zc(b,"leader-offset");this.zc(b,"caption");this.zc(b,"caption-style");this.zc(b,"caption-offset-h");this.zc(b,"caption-offset-v");this.adjustRect()},selectionModel:d.mo};
d.ee.prototype=$.extend(new d.ra,d.ee.prototype)})(window);
(function(b){var d=b.Annotations||{};d.ri=function(){d.ra.call(this);this.ka=[];this.Fr=!1;this.Ad="solid";this.gk=2;this["_xsi:type"]="Polygon";this.Subject=i18n.t("annotations.types.polygon");this.Wa={x:0,y:0};this.vb={x:0,y:0}};d.ri.prototype={elementName:"polygon",resize:function(b){var c=b.x1;b=b.y1;var a=c-this.X,d=b-this.Y;if(0!==a||0!==d){for(var g=0;g<this.ka.length;g++)this.ka[g].x+=a,this.ka[g].y+=d;this.X=c;this.Y=b}},finish:function(){b.Qd.Math.gG(this.ka)&&(this.ka[this.ka.length]={x:this.ka[0].x,
y:this.ka[0].y});this.adjustRect()},draw:function(b,c){this.rx(b,c)},Ch:function(b){if("cloudy"===this.Style)d.eb.xD(this,b,this.getPath());else for(var c=0;c<this.ka.length;c++){var a=this.ka[c];0===c?(b.beginPath(),b.moveTo(a.x,a.y)):b.lineTo(a.x,a.y)}1<this.ka.length&&(b.closePath(),b.lineJoin="round")},Jn:function(b){this.Intent=b},cj:function(){return this.Intent},serialize:function(b,c){var a=d.ra.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(a.setAttribute("style",this.Style),
a.setAttribute("intensity",this.Intensity));var f=this.getPath();if(f&&0<f.length){var g=document.createElementNS("","vertices");g.textContent=d.ba.Hn(f,c);a.appendChild(g)}return a},deserialize:function(b,c){d.ra.prototype.deserialize.apply(this,arguments);var a=b.getElementsByTagName("vertices");0<a.length&&(this.ka=d.ba.xk(a[0].textContent,c));this.Ad=b.getAttribute("style");this.gk=b.getAttribute("intensity");this.ug=b.getAttribute("IT");this.adjustRect()},selectionModel:d.xv};d.ri.prototype=
$.extend(new d.Od,d.ri.prototype);Object.defineProperties(d.ri.prototype,{Intensity:{get:function(){return this.gk},set:function(b){this.gk=b;this.rb()}},Style:{get:function(){return this.Ad},set:function(b){this.Ad=b;this.rb()}},Intent:{get:function(){return this.ug},set:function(b){this.ug=b;this.rb()}}})})(window);
(function(b){var d=b.Annotations||{};d.Ml=function(){d.ra.call(this);this.ka=[];this.Fr=!1;this["_xsi:type"]="Polyline";this.Subject=i18n.t("annotations.types.polyline");this.Wa={x:0,y:0};this.vb={x:0,y:0};this.Ef=null};d.Ml.prototype={elementName:"polyline",resize:function(b){var c=b.x1;b=b.y1;var a=c-this.X,d=b-this.Y;if(0!==a||0!==d){for(var g=0;g<this.ka.length;g++)this.ka[g].x+=a,this.ka[g].y+=d;this.X=c;this.Y=b}},finish:function(){this.adjustRect()},draw:function(b,c){this.Yc(b,c);for(var a=
0;a<this.ka.length;a++){var d=this.ka[a];0===a?(b.beginPath(),b.moveTo(d.x,d.y)):b.lineTo(d.x,d.y)}1<this.ka.length&&(b.lineJoin="round",b.stroke())},vj:function(b){this.Hi=b},dj:function(){return this.Hi||"None"},rq:function(b){this.am=b},vp:function(){return this.am||"None"},serialize:function(b,c){var a=d.ra.prototype.serialize.apply(this,arguments),f=this.getPath();if(f&&0<f.length){var g=document.createElementNS("","vertices");g.textContent=d.ba.Hn(f,c);a.appendChild(g)}a.setAttribute("head",
this.dj());a.setAttribute("tail",this.vp());return a},deserialize:function(b,c){d.ra.prototype.deserialize.apply(this,arguments);var a=b.getElementsByTagName("vertices");0<a.length&&(this.ka=d.ba.xk(a[0].textContent,c));this.vj(b.getAttribute("head")||"None");this.rq(b.getAttribute("tail")||"None");this.adjustRect()},selectionModel:d.Ll};d.Ml.prototype=$.extend(new d.Od,d.Ml.prototype)})(window);
(function(b){var d=b.Annotations||{};d.Oj=function(){d.ra.call(this);this["_xsi:type"]="Rectangle";this.Subject=i18n.t("annotations.types.rectangle");var b=this.getRectPadding();this.fringe=new d.Rect(b,b,b,b);this.gk=2;this.Ad="solid"};d.Oj.prototype={elementName:"square",draw:function(b,c){this.rx(b,c)},Ch:function(b){var c=this.me();c.x1+=this.fringe.x1;c.y1+=this.fringe.y1;c.x2-=this.fringe.x2;c.y2-=this.fringe.y2;"cloudy"===this.Style?(d.eb.xD(this,b,[new d.Point(c.x1,c.y1),new d.Point(c.x2,
c.y1),new d.Point(c.x2,c.y2),new d.Point(c.x1,c.y2),new d.Point(c.x1,c.y1)]),b.closePath(),b.lineJoin="round"):(b.lineWidth*=2,b.beginPath(),b.moveTo(c.x1,c.y1),b.lineTo(c.x2,c.y1),b.lineTo(c.x2,c.y2),b.lineTo(c.x1,c.y2),b.closePath(),b.clip())},getRectPadding:function(){return 0},serialize:function(){var b=d.ra.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(b.setAttribute("style",this.Style),b.setAttribute("intensity",this.Intensity));return b},deserialize:function(b){d.ra.prototype.deserialize.apply(this,
arguments);this.Ad=b.getAttribute("style");this.gk=b.getAttribute("intensity")}};d.Oj.prototype=$.extend(new d.ra,d.Oj.prototype);Object.defineProperties(d.Oj.prototype,{Intensity:{get:function(){return this.gk},set:function(b){this.gk=b;this.rb()}},Style:{get:function(){return this.Ad},set:function(b){this.Ad=b;this.rb()}}})})(window);
(function(b){var d=b.Annotations||{};d.Tj=function(){d.ra.call(this);this["_xsi:type"]="Stamp";this.Subject=i18n.t("annotations.types.stamp");this.Icon="Draft";this.zi=this.yi=this.Ef=null;this.QL="bold italic "+this.yH+"px Verdana"};d.Tj.prototype={elementName:"stamp",padding:20,yH:30,cx:10,draw:function(d,c){this.Yc(d,c);d.translate(this.X,this.Y);d.rotate(-this.Rotation*Math.PI/180);var a=b.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);d.translate(-a.dx,-a.dy);if(this.image){var a=
this.Width,f=this.Height;if(this.Rotation&&(90===Number(this.Rotation)||270===Number(this.Rotation)))var g=a,a=f,f=g;d.drawImage(this.image,0,0,a,f)}else if("SHAccepted"===this.Icon)d.lineWidth=.2*Math.min(this.Width,this.Height),d.strokeStyle="#426922",d.beginPath(),d.moveTo(.05*this.Width,.5*this.Height),d.lineTo(.4*this.Width,.85*this.Height),d.lineTo(.95*this.Width,.05*this.Height),d.stroke();else if("SBRejected"===this.Icon)d.lineWidth=.2*Math.min(this.Width,this.Height),d.strokeStyle="#8F110F",
d.beginPath(),d.moveTo(.05*this.Width,.05*this.Height),d.lineTo(.95*this.Width,.95*this.Height),d.moveTo(.95*this.Width,.05*this.Height),d.lineTo(.05*this.Width,.95*this.Height),d.stroke();else{a=this.NM();d.fillStyle=a.fill;d.strokeStyle=a.Rt;d.lineWidth=1;f=this.cx;if(this.xa()<=2*this.cx||this.va()<=2*this.cx)f=Math.min(this.xa()/2,this.va()/2);this.gM(d,0,0,this.xa(),this.va(),f);d.font=this.QL;d.fillStyle=a.Rt;a=this.tH.toUpperCase();f=d.measureText(a).width+2*this.padding;d.save();f=this.xa()/
f;g=this.va()/(1.5*this.yH);d.scale(f,g);d.textBaseline="middle";d.textAlign="center";d.fillText(a,this.xa()/(2*f),this.va()/(2*g));d.restore()}},RN:function(){var b=this.Icon;if(this.Mc[b])return this.Mc[b];if(0===b.indexOf("SB")||0===b.indexOf("SH")){var c=this.Mc[b.substring(2)];if(c)return c}return b},NM:function(){var b=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),c={Rt:"rgba(145, 15, 5, "+b+")",fill:"rgba(242, 230, 227, "+.7*b+")"},a={Rt:"rgba(65, 106, 28, "+b+")",fill:"rgba(215, 226, 207, "+
.7*b+")"},b={Rt:"rgba(24, 37, 100, "+b+")",fill:"rgba(224, 235, 246, "+.7*b+")"};switch(this.tH){case this.Mc.Approved:case this.Mc.Completed:case this.Mc.Final:return a;case this.Mc.Asis:case this.Mc.Confidential:case this.Mc.Departmental:case this.Mc.Draft:case this.Mc.Experimental:case this.Mc.ForComment:case this.Mc.ForPublicRelease:case this.Mc.NotForPublicRelease:case this.Mc.Sold:case this.Mc.TopSecret:return b;case this.Mc.Expired:case this.Mc.NotApproved:case this.Mc.Void:return c;default:return b}},
Mc:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",TopSecret:"Top Secret",Void:"Void"},gM:function(b,c,a,d,g,l){b.beginPath();b.moveTo(c+l,a);
b.lineTo(c+d-l,a);b.quadraticCurveTo(c+d,a,c+d,a+l);b.lineTo(c+d,a+g-l);b.quadraticCurveTo(c+d,a+g,c+d-l,a+g);b.lineTo(c+l,a+g);b.quadraticCurveTo(c,a+g,c,a+g-l);b.lineTo(c,a+l);b.quadraticCurveTo(c,a,c+l,a);b.closePath();b.fill();b.stroke()},serialize:function(){var b=d.ra.prototype.serialize.apply(this,arguments);this.PF&&this.Icon===this.PF||b.setAttribute("icon",this.Icon);if(this.image){var c=document.createElementNS("","imagedata");c.textContent=this.image.src.split("%0A").join("");b.appendChild(c)}return b},
deserialize:function(b){d.ra.prototype.deserialize.apply(this,arguments);var c=b.getAttribute("icon");c?this.Icon=c:this.Subject&&(this.Icon=this.Subject);c||(this.PF=this.Icon);c=b.getElementsByTagName("imagedata");0<c.length&&(this.ImageData=c[0].textContent)}};d.Tj.prototype=$.extend(new d.ra,d.Tj.prototype,b.utils.eventHandler);Object.defineProperties(d.Tj.prototype,{Icon:{get:function(){return this.MJ},set:function(b){this.MJ=b;this.tH=this.RN();this.rb()}},ImageData:{get:function(){return this.image.src},
set:function(b){this.image||(this.image=new Image);if(this.image.src!==b){this.tw=!1;this.image.src=b;var c=this;this.image.onload=function(){c.tw=!0;c.trigger("resourcesLoaded")};this.rb()}}}})})(window);
(function(b){var d=b.Annotations||{};d.gh=function(){d.ra.call(this);this["_xsi:type"]="Sticky";this.Subject=i18n.t("annotations.types.stickyNote");this.Height=this.Width=20;this.NoRotate=this.NoZoom=this.NoResize=!0;this.Ef=this.zi=null;this.yi=new d.Color(255,255,0);this.Icon="Comment";this.UA=null};d.gh.prototype={SIZE:31,elementName:"text",draw:function(d,c,a){if(!this.Mh()){var f=this.SIZE,g=this.SIZE;c=f<g?f:g;var l=.75*c,h=.48*c,k=.29*c,m=.19*c,n=c-m;d.strokeStyle="rgb(0, 0, 0)";d.fillStyle=
this.StrokeColor.toString();d.globalAlpha=0===this.Opacity?0:this.Opacity||1;a=a||0;d.rotate(-a*Math.PI/180);a=b.utils.getRotationOffsets((360-a)%360,f,g);d.translate(-a.dx,-a.dy);d.beginPath();d.moveTo(7,2);d.lineTo(c-5-2,2);d.quadraticCurveTo(c-2,2,c-2,7);d.lineTo(c-2,l-5);d.quadraticCurveTo(c-2,l,c-5-2,l);d.lineTo(h,l);d.lineTo(k,c-2);d.lineTo(k,l);d.lineTo(7,l);d.quadraticCurveTo(2,l,2,l-5);d.lineTo(2,7);d.quadraticCurveTo(2,2,7,2);d.fill();d.moveTo(m,.25*c);d.lineTo(n,.25*c);d.moveTo(m,.41*c);
d.lineTo(n,.41*c);d.moveTo(m,.57*c);d.lineTo(.68*c,.57*c);d.stroke()}},serialize:function(){var b=d.ra.prototype.serialize.apply(this,arguments),c={};this.Icon&&(c.icon=this.Icon);null!==this.InReplyTo&&(c.inreplyto=this.InReplyTo);for(var a in c)b.setAttribute(a,c[a]);this.ic(b,"state");this.ic(b,"statemodel");return b},deserialize:function(b){d.ra.prototype.deserialize.apply(this,arguments);this.Ef=null;this.Icon=b.getAttribute("icon");var c=b.getAttribute("inreplyto");c&&(this.InReplyTo=c);this.zc(b,
"state");this.zc(b,"statemodel");this.NoRotate=this.NoZoom=!0;this.Height=this.Width=20;this.Pu()},selectionModel:d.fr};d.gh.prototype=$.extend(!0,new d.ra,d.gh.prototype);Object.defineProperties(d.gh.prototype,{InReplyTo:{get:function(){return this.UA},set:function(b){this.UA=b;this.rb()}}})})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.Eb=function(){d.ra.call(this);this.Ef=null;this.yi=new d.Color(255,0,0);this.zi=null;this.WA=!0;this.XA=!1;this.gb=[];this.Gf=!1;this.SurroundingTexts=this.TextIndices=null;this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};d.Eb.prototype={Kz:function(b){if(!b||"undefined"===typeof b.length||0===b.length)throw Error("Argument quads requires an array of at least one element");this.gb=b;for(var a=Infinity,d=Infinity,e=0,l=0,h=0;h<this.gb.length;h++)b=
this.gb[h],a=Math.min(a,b.x1,b.x2,b.x3,b.x4),d=Math.min(d,b.y1,b.y2,b.y3,b.y4),e=Math.max(e,b.x1,b.x2,b.x3,b.x4),l=Math.max(l,b.y1,b.y2,b.y3,b.y4);this.X=a;this.Y=d;this.Width=e-a;this.Height=l-d},Ne:function(){return this.gb},serialize:function(c,a){var e=d.ra.prototype.serialize.apply(this,arguments),g,l=[];for(g=0;g<this.Quads.length;g++){var h=this.Quads[g];l.push(new d.Point(h.x4,h.y4));l.push(new d.Point(h.x3,h.y3));l.push(new d.Point(h.x1,h.y1));l.push(new d.Point(h.x2,h.y2))}0<this.Quads.length&&
(g=d.ba.Hn(l,a,",",","),e.setAttribute("coords",g));this.ic(c,"inreplyto");this.ic(c,"replyType");l={};this.TextIndices?l.selidxs=d.ba.QQ(this.TextIndices):b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.serialize: no idxs to serialize.");if(this.SurroundingTexts)for(h=d.ba.PQ(this.SurroundingTexts),g=0;g<h.length;g++)l["surrtxts_"+g+"_0"]=h[g][0],l["surrtxts_"+g+"_1"]=h[g][1];else b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.serialize: no surrtxts to serialize.");
for(var k in l)e.setAttribute(k,l[k]);return e},deserialize:function(c,a,f){d.ra.prototype.deserialize.apply(this,arguments);this.gb=[];this.zc(c,"inreplyto");this.zc(c,"replyType");for(var g=c.getAttribute("coords"),g=d.ba.xk(g,a,",",","),l=0;l+3<g.length;l+=4){if(b.Qd.Math.cP(g[l],g[l+3],g[l+1],g[l+2])){var h=g[l+2];g[l+2]=g[l+3];g[l+3]=h}this.gb.push(new d.ab(g[l+3].x,g[l+3].y,g[l+2].x,g[l+2].y,g[l+1].x,g[l+1].y,g[l].x,g[l].y))}f?d.eb.UL(this,c,f):(this instanceof d.Eb&&b.utils.warn("annot_extra_selectors",
"Annotations.TextMarkupAnnotation.deserialize: no annotManager provided; could not attempt to deserialize extra selector data."),this.Gf=!1);var k=function(a){var c=!1,e;if(this.ef&&this.gb.length===this.ef.length)for(c=!0,l=0;l<this.gb.length;l++)for(e=0;8>e;e++)if(5<=Math.abs(this.gb[l].Hx()[e]-this.ef[l][e])){c=!1;l=this.gb.length;break}var f=!1;if(this.tg&&this.gb.length===this.tg.length)for(f=!0,l=0;l<this.gb.length;l++)for(e=0;8>e;e++)if(5<=Math.abs(this.gb[l].Hx()[e]-this.tg[l][e])){f=!1;l=
this.gb.length;break}c||b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: absolute position selector DOES NOT agree with surrtxt selector.");f||b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: absolute position selector DOES NOT agree with index-based selector.");e=null!==this.tg&&(0<this.tg.length||0===this.gb.length&&0===this.tg.length);var g=null!==this.ef&&(0<this.ef.length||0===this.gb.length&&0===this.ef.length),h=[],k=Array(8);
if(e&&g)if(c||f)b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(l=0;l<this.ef.length;l++){for(e=0;8>e;e++)k[e]=Math.round(this.ef[l][e]);h.push(new d.ab(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.gb=h}else if(e)if(f)b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(l=0;l<this.tg.length;l++){for(e=0;8>e;e++)k[e]=Math.round(this.tg[l][e]);h.push(new d.ab(k[0],
k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.gb=h}else if(g)if(c)b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(l=0;l<this.ef.length;l++){for(e=0;8>e;e++)k[e]=Math.round(this.ef[l][e]);h.push(new d.ab(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.gb=h}else b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");f=c=9007199254740991;for(l=k=h=0;l<this.gb.length;l++)e=
this.gb[l].Hx(),e[0]<c&&(c=e[0]),e[7]<f&&(f=e[7]),e[2]>h&&(h=e[2]),e[3]>k&&(k=e[3]);this.BR(new d.Rect(c,f,h,k));a.Xb(this);this.trigger("extraSelectorsUsedForAdjustments");this.Bo=!0}.bind(this);if(e.Ss&&this.Gf&&f)if(this.$B)k(f);else this.one("quadsCalculatedFromExtraSelectors",function(){k(f)});else b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: NOT taking extra selectors path.")},xj:function(){return!0},selectionModel:d.Wj};d.Eb.prototype=$.extend(new d.ra,
d.Eb.prototype);Object.defineProperties(d.Eb.prototype,{Quads:{get:function(){return this.gb},set:function(b){this.Kz(b)}}})})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.ih=function(){d.Eb.call(this);this.yi=new d.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=i18n.t("annotations.types.highlight");this.Opacity=1};d.ih.opacityCap=.3;d.ih.prototype={elementName:"highlight",draw:function(b,a){var f=function(){this.Yc(b,a);if(_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||this.Opacity>d.ih.opacityCap)b.globalAlpha=d.ih.opacityCap;b.fillStyle=this.StrokeColor.toString();for(var e,f=0;f<this.Quads.length;f++)e=
this.Quads[f],b.beginPath(),b.moveTo(e.x1,e.y1),b.lineTo(e.x2,e.y2),b.lineTo(e.x3,e.y3),b.lineTo(e.x4,e.y4),b.closePath(),b.fill()}.bind(this);if(e.Ss&&this.Gf)if(this.Bo)f();else this.one("extraSelectorsUsedForAdjustments",function(){f()});else f()}};d.ih.prototype=$.extend(new d.Eb,d.ih.prototype)})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.Sl=function(){d.Eb.call(this);this["_xsi:type"]="Squiggly";this.Subject=i18n.t("annotations.types.squiggly")};d.Sl.prototype={elementName:"squiggly",draw:function(b,a){var d=function(){var d,e,f,k,m,n,p;this.Yc(b,a);for(var q=0;q<this.gb.length;q++){e=this.gb[q];d=Math.sqrt((e.x1-e.x2)*(e.x1-e.x2)+(e.y1-e.y2)*(e.y1-e.y2));var u=5/3,r=d/10;b.save();b.translate(e.x1,e.y1-1.25);b.rotate(Math.atan2(e.y2-e.y1,e.x2-e.x1));e=Math.abs(e.y1-e.y4);b.beginPath();
b.rect(0,-e,d,e+1.25+1);b.clip();b.beginPath();for(var v=0;v<2*r;v+=2)p=5*v,m=5*v+u/2,n=u,f=5*(v+1)-u/2,k=u,d=5*(v+1),e=0,b.moveTo(p,0),b.bezierCurveTo(m,n,f,k,d,e),m=5*(v+1)+u/2,n=-u,f=5*(v+2)-u/2,k=-u,d=5*(v+2),e=0,b.bezierCurveTo(m,n,f,k,d,e);b.stroke();b.restore()}}.bind(this);if(e.Ss&&this.Gf)if(this.Bo)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};d.Sl.prototype=$.extend(new d.Eb,d.Sl.prototype)})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.Tl=function(){d.Eb.call(this);this["_xsi:type"]="Strikeout";this.Subject=i18n.t("annotations.types.strikeout")};d.Tl.prototype={elementName:"strikeout",draw:function(b,a){var d=function(){this.Yc(b,a);for(var d,e=0;e<this.gb.length;e++){d=this.gb[e];var f=(d.x1+d.x4)/2,k=(d.y1+d.y4)/2,m=(d.x2+d.x3)/2;d=(d.y2+d.y3)/2;b.beginPath();b.moveTo(f,k);b.lineTo(m,d);b.stroke()}}.bind(this);if(e.Ss&&this.Gf)if(this.Bo)d();else this.one("extraSelectorsUsedForAdjustments",
function(){d()});else d()}};d.Tl.prototype=$.extend(new d.Eb,d.Tl.prototype)})(window);
(function(b){var d=b.Annotations||{},e=d.eb||{};d.Ul=function(){d.Eb.call(this);this["_xsi:type"]="Underline";this.Subject=i18n.t("annotations.types.underline")};d.Ul.prototype={elementName:"underline",draw:function(b,a){var d=function(){this.Yc(b,a);for(var d,e=0;e<this.gb.length;e++)d=this.gb[e],b.beginPath(),b.moveTo(d.x1,d.y1),b.lineTo(d.x2,d.y2),b.closePath(),b.stroke()}.bind(this);if(e.Ss&&this.Gf)if(this.Bo)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};d.Ul.prototype=
$.extend(new d.Eb,d.Ul.prototype)})(window);
(function(b){var d=b.Annotations||{};d.gr=function(){d.Eb.call(this);this["_xsi:type"]="Redact";this.Subject=i18n.t("annotations.types.redact");this.Opacity=1};d.gr.prototype={elementName:"redact",draw:function(){},serialize:function(){var b=d.Eb.prototype.serialize.apply(this,arguments);this.ic(b,"overlay-text");this.ic(b,"overlay-text-repeat");this.ic(b,"justification");this.ic(b,"defaultappearance");return b},deserialize:function(b){d.Eb.prototype.deserialize.apply(this,arguments);this.zc(b,"overlay-text");
this.zc(b,"overlay-text-repeat");this.zc(b,"justification");this.defaultappearance=d.ba.Lm(b,"defaultappearance","defaultappearance")}};d.gr.prototype=$.extend(new d.Eb,d.gr.prototype)})(window);
(function(b){function d(){}function e(a){this.size=a;this.Cd=Array(this.size);for(a=0;a<this.size;a++)this.Cd[a]={Eg:b.o.La.bk(1,1,1),cz:b.o.La.bk(1,1,1),Nw:null,Zk:[],At:!1}}function c(a){var b=a.width;a.width=1;a.width=b}var a={ir:"ViewportCanvas",wv:"PageCanvas"};e.prototype={ct:function(a,b,c){b=c&&1<b?0===a?0:Math.floor((a+1)/b):Math.floor(a/b);c=null;for(var d=0;d<this.size;d++){if(this.Cd[d].Nw===b)return-1===this.Cd[d].Zk.indexOf(a)&&this.Cd[d].Zk.push(a),this.Cd[d].At=!0,this.Cd[d];this.Cd[d].At||
(c=this.Cd[d])}return c?(c.Nw=b,c.Zk.push(a),c.At=!0,c):null},wn:function(a){for(var b=0;b<this.size;b++){var c=this.Cd[b].Zk,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.OC(this.Cd[b]);break}}},kq:function(){for(var a=0;a<this.size;a++)this.OC(this.Cd[a])},OC:function(a){a.Nw=null;a.At=!1;$(a.Eg).removeAttr("style").removeClass();$(a.cz).removeAttr("style").removeClass();c(a.Eg);a.Eg.getContext("2d").clearRect(0,0,a.Eg.width,a.Eg.height);a.Zk=[]},hS:function(a,b,c){a=this.ct(a,
c,this.Ft);_.isNull(b)&&(b=a.cz);a.cz=a.Eg;a.Eg=b}};d.prototype={zj:!1,RG:function(){},init:function(){var a=b.innerWidth,c=b.innerHeight;this.Cd=new e(3);this.qs=new e(3);this.Ug=this.bk(a,c,1);this.gq=1},Nu:function(a,b){this.gq=a;this.Ft=b},Tw:function(){this.Ug.getAttribute("style");this.Ug.removeAttribute("style")},Eu:function(a,b){this.Cd.hS(a,b,this.gq)},wn:function(a){this.Cd.wn(a);this.qs.wn(a)},kq:function(){this.Cd.kq();this.qs.kq()},No:function(a,c,d){var e=$(a);c=Math.floor(c);d=Math.floor(d);
var f=""===a.style.height||1<Math.abs(parseInt(a.style.height,10)-d);if(""===a.style.width||1<Math.abs(parseInt(a.style.width,10)-c)||f){var f=b.utils.getCanvasMultiplier(),g=Math.floor(d*f);a.setAttribute("width",Math.floor(c*f));a.setAttribute("height",g);e.css("width",c);e.css("height",d)}},bk:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.No(d,a,b);return"undefined"===typeof d.getContext("2d")?null:d},WJ:function(a,b,c,d){var e=1,f=null,g=a;if(1>=
a*c||1>=b*c)f=this.bk(1,1,1);if(4E6>a*b)return this.bk(a,b,c);var u=a/b;64E6<a*b&&(b=Math.sqrt(64E6/u),e=u*b/a,a=u*b);u=null;for("undefined"===typeof d&&(d=.25);null===f;){var u=this.bk(Math.ceil(a*e),Math.ceil(b*e),c,u),r=u.getContext("2d");r.fillStyle="white";r.fillRect(u.width-1,u.height-1,1,1);r=!(1>window.devicePixelRatio)&&(u.width<parseFloat(u.style.width)||u.height<parseFloat(u.style.height));if(null!==u&&0<this.aK(u)&&!r)f=u;else if(e-=d,0>=e)return console.error("No canvas could be created"),
null}1>e&&(a="scale("+g/parseFloat(f.style.width)+")",$(f).css({transform:a,"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(f).css("position","absolute");f.getContext("2d").clearRect(f.width-1,f.height-1,1,1);return f},aK:function(a){return a.getContext("2d").getImageData(a.width-1,a.height-1,1,1).data[3]},
Rw:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},qE:function(a,c,d,e,f,g){if(a!==this.Ug)throw Error("Canvas drawing error");var q=this.Cd.ct(c,this.gq,this.Ft);a=q.Eg;this.No(a,parseFloat(this.Ug.style.width),parseFloat(this.Ug.style.height));q=q.Zk.sort(function(a,b){return a-b});c<=q[0]&&(a.width=a.width);c=b.utils.getCanvasMultiplier();d=b.ud(d,e,g,f,!0,c);e=a.getContext("2d");e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,
d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,g.width,g.height);e.restore();e.drawImage(this.Ug,0,0);this.Tw();return a},Mn:function(a,c,d,e,f,p,q){if(q)return g.Mn.apply(g,arguments);this.No(this.Ug,b.innerWidth,b.innerHeight);var u=b.utils.getCanvasMultiplier(),u=b.ud(c,d,a,e,!0,u),r=this.Ug.getContext("2d");r.restore();r.save();r.transform(u.m_a,u.m_b,u.m_c,u.m_d,u.m_h,u.m_v);b.utils.canvasClipBug||(r.beginPath(),r.rect(0,0,a.width,a.height),r.clip());return{canvas:this.Ug,ctx:r,t:u}},Xo:function(a,
b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20"});d.addClass("hacc canvas"+b);return c.parentNode},gK:function(a,b,c){a=this.qs.ct(a,this.gq,this.Ft).Eg;this.No(a,b,c);return a},$i:function(a,c,d,e,f,g,q){a=$("#pageContainer"+a).parent().find(".auxiliary")[0];if(_.isUndefined(a))return null;g=a.getContext("2d");g.restore();g.save();var u=b.utils.getCanvasMultiplier();if(1===q||3===q)c={width:c.height,height:c.width};d=b.ud(d,(e+q||0)%4,c,f,!0,
u);g.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);b.utils.canvasClipBug||(g.beginPath(),g.rect(0,0,c.width,c.height),g.clip());return a},os:function(a,d,e,f){var g=document.getElementById("pageContainer"+a);if(!g)return null;g=$(g).parent();if(0<g.find(".auxiliary").length)d=this.qs.ct(a,this.gq,this.Ft),f=d.Zk.sort(function(a,b){return a-b}),a<=f[0]&&c(d.Eg);else{var p=b.innerWidth,q=this.gK(a,p,b.innerHeight);a=$(q);a.addClass("auxiliary");a.css({"z-index":"30",position:"absolute",display:""});
g.append(q);a=q.getContext("2d");e*=parseFloat(q.style.width)/p;p=b.utils.getCanvasMultiplier();d=b.ud(e,f,d,null,!0,p);a.transform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);return g[0]}},NE:function(a){return $("#pageContainer"+a).parent()},oy:function(a){return $("#pageWidgetContainer"+a)}};var f=new d,g=new d;$.extend(g,{zj:!0,RG:function(a){this.zj=1<a},init:function(){},Nu:function(){},Tw:function(){},Eu:function(){},wn:function(){},kq:function(){},Rw:function(a){if(!a)throw Error("Canvas not defined");
var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},qE:function(a){return a},Mn:function(a,c,d,e,f,g){var q=!1;if(d===b.o.Qa.Le||d===b.o.Qa.Nf)q=!0;(e=!_.isUndefined(g))?(f=(q?g.y2-g.y1:g.x2-g.x1)*c,q=(q?g.x2-g.x1:g.y2-g.y1)*c):(f=q?a.height*c:a.width*c,q=q?a.width*c:a.height*c);var u,q=this.bk(f,q,c);u=parseFloat(q.style.width);var r=b.utils.getCanvasMultiplier();a=b.ud(u/f*c,d,e?g:a,{x:0,y:0},!0,r);c=q.getContext("2d");b.Cx||(q.style.backgroundColor=
"white");c.transform(a.m_a,a.m_b,a.m_c,a.m_d,a.m_h,a.m_v);return{canvas:q,ctx:c,t:a}},Xo:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;$(c).find(".canvas"+b).remove();var d=a.VV,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},BB:function(a){return{width:a.x2-a.x1,height:a.y2-a.y1}},cC:function(a,c){var d=!1;if(c===b.o.Qa.Le||c===b.o.Qa.Nf)d=!0;return{width:d?
a.height:a.width,height:d?a.width:a.height}},$i:function(a,c,d,e,f,g,q){a=$("#pageContainer"+a).find(".auxiliary");if(0<a.length){if(g){var u=a[0].getContext("2d");u.restore();u.save();var r=b.utils.getCanvasMultiplier(),v=this.cC(this.BB(g),e),w=Math.round(v.width*d),v=Math.round(v.height*d),z=parseFloat(a.css("width")),D=parseFloat(a.css("height"));a.css({left:f.x,top:f.y});(1<Math.abs(z-w)||1<Math.abs(D-v))&&a.attr({width:w*r,height:v*r}).css({width:w,height:v});if(g&&q){f=c.width;w=c.height;if(1===
q||3===q)f=c.height,w=c.width;c=b.ud(1,q,{width:f,height:w},null,!1).inverse();g=b.utils.normalizeRect(c.aa({x:g.x1,y:g.y1}),c.aa({x:g.x2,y:g.y2}))}d=b.ud(d,(e+(q||0))%4,g,null,!0,r);u.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v)}return a[0]}return null},os:function(a,c,d,e,f){a=document.getElementById("pageContainer"+a);if(!a)return null;a=$(a);if(!(0<a.find(".auxiliary").length)){var g;f?(g=this.BB(f),f=g.width,g=g.height):(f=c.width,g=c.height);g=this.cC({width:f,height:g},e);f=g.width*d;
g=this.WJ(f,g.height*d,d,.2);var q=$(g);q.addClass("auxiliary");q.css({"z-index":"30",position:"absolute"});a.prepend(g);a=g.getContext("2d");a.clearRect(0,0,g.width,g.height);c=b.ud(parseFloat(g.style.width)/f*d,e,c);a.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v)}},NE:function(a){return $("#pageContainer"+a)},oy:function(a){return $("#pageWidgetContainer"+a)}});b.o.uJ=function(c){if(c===a.ir)b.o.La=f;else if(c===a.wv)b.o.La=g;else throw Error("Invalid Canvas Manager type");b.o.cD=c;b.o.La.init()};
b.o.zl=a;b.o.cD=a.wv;b.o.La=g;b.o.La.init()})(window);
(function(b){function d(a,d,g,l){for(var h=d.password||d.p,k=d.type.toUpperCase(),m=e.length,n,p=0;p<m;p++)e[p].done&&(n=e[p]);!n&&4>m&&(n={done:!1,worker:new Worker(b.o.ej()+"DecryptWorker.js"),callback:l},e[m]=n,n.worker.addEventListener("message",function(a){if(a.data.error)throw d.error&&d.error(a.data.error),Error(a.data.error);n.callback(a.data);0<c.length?(a=c[0],c.shift(),n.done=!1,n.callback=a.callback,n.worker.postMessage({data:a.data,password:a.password,partName:a.al,type:k})):(n.callback=
null,n.done=!0)}));n?(n.done=!1,n.callback=l,n.worker.postMessage({data:a,password:h,partName:g,type:k})):c.push({data:a,password:h,al:g,type:k,callback:l})}var e=[],c=[];b.o=b.o||{};b.o.bh=b.o.bh||{};b.o.bh.decrypt=function(a,c,e,l){a=b.aj(a);d(a,c,e,l)};b.o.bh.kD=function(a,c,d){a=b.aj(a);var e=c.password||c.p;switch(c.type.toUpperCase()){case "AES":a=b.jD(a,e,d);break;default:a=b.jD(a,e,d)}if(a.error)throw c.error&&c.error(a.error),Error(a.error);return a}})(window);
(function(b){b.jD=function(b,e,c){for(var a=[],f=0;16>f;++f){a[f]=f;f<e.length&&(a[f]|=e.charCodeAt(f));var g=c.length+f-16;0<=g&&(a[f]|=c.charCodeAt(g))}e=[];for(c=0;16>c;++c)e.push(b.charCodeAt(c));b=b.slice(16);a=forge.aes.startDecrypting(a,e);a.update(forge.util.createBuffer(b));return a.finish()?a.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(b){var d,e,c,a={};b.o.ZV=function(a){a.indexOf("/")!==a.length-1&&(a+="/");c=a};b.o.yE=function(){return c||b.o.ej()+"office/"};b.o.Kx=function(){return a.Jw};b.o.iG=function(c,g,l){_.isUndefined(l)&&(l={});d&&c===b.o.Kx()||(l.workerId="office_pnacl_module",l.pnaclWorkerPath=window.o.yE()+(b.Qu?"WebOfficeWorkerSubzero.nmf":"WebOfficeWorker.nmf"),l.emsWorkerPath=window.o.yE()+"OfficeWorker.js",l.hA=a,e=b.o.kG(c,g,l))};b.o.wQ=function(a){e=Promise.resolve(a);d=null};b.o.fF=function(){};b.o.aF=
function(a,c,l){e||b.o.iG(a,c);if(!d){var h;d=Promise.all([b.o.uE(l),e]).then(function(a){var c=a[0],d=a[1];if(null===c)throw a=Error("A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com."),a.userMessage="A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com.",a;return new Promise(function(a,e){b.o.XK(function(){e(new b.Yj("The worker has encountered an error",b.utils.ie?"error.EmsWorkerErrorIE":
"error.EmsWorkerError"))});h=new b.o.QI(d,b.o.zN(),{l:c});h.gA.then(function(){a(h)},function(a){e(a)})})})}return d}})("undefined"===typeof window?this:window);
(function(b){b.GetPageMatrix=b.ud;b.CoreControls=function(){};b.CoreControls.setWorkerPath=b.o.PR;b.CoreControls.getWorkerPath=b.o.ej;b.CoreControls.setPDFWorkerPath=b.o.pR;b.CoreControls.getPDFWorkerPath=b.o.jt;b.CoreControls.setPDFResourcePath=b.o.oR;b.CoreControls.getPDFResourcePath=b.o.AE;b.CoreControls.setPDFAsmPath=b.o.nR;b.CoreControls.getPDFAsmPath=b.o.mN;b.CoreControls.setResourcesPath=b.o.DR;b.CoreControls.getResourcesPath=b.o.Gh;b.CoreControls.setAdvancedImageScaling=b.o.SQ;b.CoreControls.setProgressiveTime=
b.o.zR;b.CoreControls.preloadPDFWorker=b.o.jG;b.CoreControls.initPDFWorkerTransports=b.o.Bt;b.CoreControls.getDefaultBackendType=b.o.Lx;b.CoreControls.getDefaultPdfBackendType=b.o.Lx;b.CoreControls.getCurrentPDFBackendType=b.o.iE;b.CoreControls.getCurrentOfficeBackendType=b.o.Kx;b.CoreControls.resetWorker=b.o.xQ;b.CoreControls.resetOfficeWorker=b.o.wQ;b.CoreControls.isDemoMode=b.o.fF;b.CoreControls.setEmscriptenHeapSize=b.o.XQ;b.CoreControls.setCustomFontURL=b.o.Hu;b.CoreControls.disableEmbeddedJavaScript=
b.o.XL;b.CoreControls.enableSubzero=b.o.lM;b.CoreControls.isSubzeroEnabled=b.o.mF;b.CoreControls.preloadOfficeWorker=b.o.iG;b.CoreControls.initOfficeWorkerTransports=b.o.aF;b.CoreControls.BlackBoxAnnotationManager=b.o.$n;b.CoreControls.BlackBoxAnnotationManager.prototype.initiateCollaboration=b.o.$n.prototype.DO;b.CoreControls.BlackBoxAnnotationManager.prototype.disableCollaboration=b.o.$n.prototype.sD;b.CoreControls.BlackBoxAnnotationManager.prototype.preloadAnnotations=b.o.$n.prototype.XP;b.CoreControls.BlackBoxAnnotationManager.prototype.getBlackboxUsername=
b.o.$n.prototype.HM;b.XODText=XODText;b.XODText.ResultCode=XODText.Yb;b.XODText.ResultCode.e_done=XODText.Yb.zk;b.XODText.ResultCode.e_page=XODText.Yb.Ns;b.XODText.ResultCode.e_found=XODText.Yb.kp;b.XODText.Quad=XODText.ab;b.XODText.Quad.prototype.getPoints=XODText.ab.prototype.Lg;b.XODText.Quad.prototype.getNormalizedPoints=XODText.ab.prototype.kN;b.XODText.Matrix2D=XODText.Da;b.XODText.Matrix2D.prototype.initMatrix=XODText.Da.prototype.hn;b.XODText.Matrix2D.prototype.initCoordinates=XODText.Da.prototype.Oa;
b.XODText.Matrix2D.prototype.mult=XODText.Da.prototype.aa;b.XODText.Point2D=XODText.vd;b.CoreControls.Encryption=b.o.bh;b.CoreControls.Encryption.decrypt=b.o.bh.decrypt;b.CoreControls.Encryption.decryptSynchronous=b.o.bh.kD;b.CoreControls.PartRetrievers=function(){};b.CoreControls.PartRetrievers.PartRetriever=b.o.V.Ve;b.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=b.o.V.Ve.prototype.YQ;b.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=b.o.V.Ve.prototype.ml;
b.CoreControls.PartRetrievers.PartRetriever.prototype.setWithCredentials=b.o.V.Ve.prototype.Pz;b.CoreControls.PartRetrievers.CacheHinting=b.o.V.ji;b.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=b.o.V.ji.Xq;b.CoreControls.PartRetrievers.CacheHinting.CACHE=b.o.V.ji.pA;b.CoreControls.PartRetrievers.CacheHinting.NO_HINT=b.o.V.ji.HI;b.CoreControls.PartRetrievers.LocalPartRetriever=b.o.V.DI;b.CoreControls.PartRetrievers.HttpPartRetriever=b.o.V.Hj;b.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=
b.o.V.Ve.prototype.hl;b.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=b.o.V.Ve.prototype.request;b.CoreControls.PartRetrievers.ExternalHttpPartRetriever=b.o.V.pv;b.CoreControls.PartRetrievers.ExternalPdfPartRetriever=b.o.V.Tq;b.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.setCustomHeaders=b.o.V.Tq.prototype.ml;b.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.getFileData=b.o.V.Tq.prototype.getFileData;b.CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever=
b.o.V.bI;b.CoreControls.PartRetrievers.LocalPdfPartRetriever=b.o.V.EI;b.CoreControls.PartRetrievers.StreamingPartRetriever=b.o.V.IA;b.CoreControls.PartRetrievers.RangeStreamingPartRetriever=b.o.V.eJ;b.CoreControls.PartRetrievers.BlackBoxPartRetriever=b.o.V.Mq;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.setCustomHeaders=b.o.V.Mq.prototype.ml;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.getFileData=b.o.V.Mq.prototype.getFileData;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.setWithCredentials=
b.o.V.Mq.prototype.Pz;b.CoreControls.PartRetrievers.WebDBPartRetriever=b.o.V.xo;b.CoreControls.PartRetrievers.AndroidContentPartRetriever=b.o.V.aI;b.CoreControls.PartRetrievers.AzurePartRetriever=b.o.V.eI;b.CoreControls.PartRetrievers.IOSPartRetriever=b.o.V.lo;b.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=b.o.V.lo.hz;b.CoreControls.PartRetrievers.IOSPartRetriever.partFail=b.o.V.lo.gz;b.CoreControls.PartRetrievers.WinRTPartRetriever=b.o.V.yo;b.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=
b.o.V.yo.hz;b.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=b.o.V.yo.gz;b.CoreControls.CanvasMode=b.o.zl;b.CoreControls.CanvasMode.ViewportCanvas=b.o.zl.ir;b.CoreControls.CanvasMode.PageCanvas=b.o.zl.wv;b.CoreControls.SetCanvasMode=b.o.uJ;b.CoreControls.Bookmark=b.o.Se;b.CoreControls.Bookmark.prototype.getName=b.o.Se.prototype.getName;b.CoreControls.Bookmark.prototype.getVPos=b.o.Se.prototype.UN;b.CoreControls.Bookmark.prototype.getHPos=b.o.Se.prototype.YM;b.CoreControls.Bookmark.prototype.getPageNumber=
b.o.Se.prototype.uc;b.CoreControls.Bookmark.prototype.getURL=b.o.Se.prototype.TN;b.CoreControls.Bookmark.prototype.getParent=b.o.Se.prototype.getParent;b.CoreControls.Bookmark.prototype.getChildren=b.o.Se.prototype.fE;b.CoreControls.Bookmark.prototype.isValid=b.o.Se.prototype.isValid;b.CoreControls.Document=b.o.Document;b.CoreControls.Document.prototype.getMetadata=b.o.Document.prototype.getMetadata;b.CoreControls.Document.prototype.getBookmarks=b.o.Document.prototype.Fk;b.CoreControls.Document.prototype.getLayers=
b.o.Document.prototype.WU;b.CoreControls.Document.prototype.getLinks=b.o.Document.prototype.Sm;b.CoreControls.Document.prototype.loadThumbnailAsync=b.o.Document.prototype.lj;b.CoreControls.Document.prototype.includesThumbnails=b.o.Document.prototype.gj;b.CoreControls.Document.prototype.loadPageText=b.o.Document.prototype.Ny;b.CoreControls.Document.prototype.refreshTextData=b.o.Document.prototype.kQ;b.CoreControls.Document.prototype.getTextPosition=b.o.Document.prototype.fy;b.CoreControls.Document.prototype.extractXFDF=
b.o.Document.prototype.Dk;b.CoreControls.Document.prototype.loadCanvasAsync=b.o.Document.prototype.Pg;b.CoreControls.Document.prototype.pauseLoadCanvas=b.o.Document.prototype.nu;b.CoreControls.Document.prototype.resumeLoadCanvas=b.o.Document.prototype.Du;b.CoreControls.Document.prototype.cancelLoadCanvas=b.o.Document.prototype.wh;b.CoreControls.Document.prototype.cancelLoadThumbnail=b.o.Document.prototype.Oi;b.CoreControls.Document.prototype.unloadCanvasResources=b.o.Document.prototype.Rn;b.CoreControls.Document.prototype.getPageInfo=
b.o.Document.prototype.Vc;b.CoreControls.Document.prototype.getPageMatrix=b.o.Document.prototype.tc;b.CoreControls.Document.prototype.getPageCount=b.o.Document.prototype.Hb;b.CoreControls.Document.prototype.getPDFCoordinates=b.o.Document.prototype.it;b.CoreControls.Document.prototype.getXODCoordinates=b.o.Document.prototype.wt;b.CoreControls.Document.prototype.getViewerCoordinates=b.o.Document.prototype.ky;b.CoreControls.Document.prototype.loadAsync=b.o.Document.prototype.$f;b.CoreControls.Document.prototype.unloadResources=
b.o.Document.prototype.pd;b.CoreControls.Document.prototype.initOfflineDB=b.o.Document.prototype.Nk;b.CoreControls.Document.prototype.storeOffline=b.o.Document.prototype.Pn;b.CoreControls.Document.prototype.isDownloaded=b.o.Document.prototype.hj;b.CoreControls.Document.prototype.getOfflineModeEnabled=b.o.Document.prototype.Um;b.CoreControls.Document.prototype.setOfflineModeEnabled=b.o.Document.prototype.Kn;b.CoreControls.Document.prototype.cancelOfflineModeDownload=b.o.Document.prototype.um;b.CoreControls.Document.prototype.getPrintablePDF=
b.o.Document.prototype.Wm;b.CoreControls.Document.prototype.getDownloadLink=b.o.Document.prototype.tp;b.CoreControls.Document.prototype.getFileData=b.o.Document.prototype.getFileData;b.CoreControls.Document.prototype.onJSCompletion=b.o.Document.prototype.BP;b.CoreControls.Document.prototype.insertPages=b.o.Document.prototype.jn;b.CoreControls.Document.prototype.getPDFDoc=b.o.Document.prototype.Vm;b.CoreControls.Document.prototype.getLayersArray=b.o.Document.prototype.Qm;b.CoreControls.Document.prototype.setLayersArray=
b.o.Document.prototype.Ju;b.CoreControls.Document.prototype.setOverprintPreviewMode=b.o.Document.prototype.Lu;b.CoreControls.Document.prototype.extractPDFNetLayersContext=b.o.Document.prototype.Hm;b.CoreControls.Document.prototype.insertBlankPages=b.o.Document.prototype.Ip;b.CoreControls.Document.prototype.removePages=b.o.Document.prototype.xn;b.CoreControls.Document.prototype.movePages=b.o.Document.prototype.Wp;b.CoreControls.Document.prototype.rotatePages=b.o.Document.prototype.Bn;b.CoreControls.Document.prototype.extractPages=
b.o.Document.prototype.Im;b.CoreControls.Document.prototype.cropPages=b.o.Document.prototype.zm;b.CoreControls.Document.prototype.print=b.o.Document.prototype.print;b.CoreControls.Document.prototype.documentCompletePromise=b.o.Document.prototype.dc;b.CoreControls.Document.prototype.setWatermark=b.o.Document.prototype.ol;b.CoreControls.Document.prototype.requirePage=b.o.Document.prototype.il;b.CoreControls.Document.prototype.supportsExtraSelectorPositioning=b.o.Document.prototype.xj;b.CoreControls.Document.prototype.getOfficeDocInfo=
b.o.Document.prototype.XU;b.CoreControls.Document.prototype.getOfficeResources=b.o.Document.prototype.YU;b.CoreControls.Document.prototype.enableColorSeparations=b.o.Document.prototype.Ps;b.CoreControls.Document.prototype.getColorSeparations=b.o.Document.prototype.$s;b.CoreControls.Document.prototype.enableSeparation=b.o.Document.prototype.Qs;b.CoreControls.PageRotation=b.o.Qa;b.CoreControls.PageRotation.e_0=b.o.Qa.Dh;b.CoreControls.PageRotation.e_90=b.o.Qa.Le;b.CoreControls.PageRotation.e_180=b.o.Qa.jp;
b.CoreControls.PageRotation.e_270=b.o.Qa.Nf;b.CoreControls.OverprintPreviewMode=b.o.oo;b.CoreControls.OverprintPreviewMode.OFF=b.o.oo.JI;b.CoreControls.OverprintPreviewMode.ON=b.o.oo.LI;b.CoreControls.OverprintPreviewMode.PDFX_ON=b.o.oo.cJ;b.CoreControls.SaveOptions=b.o.Rj;b.CoreControls.SaveOptions.INCREMENTAL=b.o.Rj.xI;b.CoreControls.SaveOptions.REMOVE_UNUSED=b.o.Rj.dJ;b.CoreControls.SaveOptions.HEX_STRINGS=b.o.Rj.sI;b.CoreControls.SaveOptions.OMIT_XREF=b.o.Rj.KI;b.CoreControls.SaveOptions.LINEARIZED=
b.o.Rj.CI;b.CoreControls.SaveOptions.COMPATIBILITY=b.o.Rj.fI;b.CoreControls.DocumentViewer=b.o.W;b.CoreControls.DocumentViewer.prototype.loadAsync=b.o.W.prototype.$f;b.CoreControls.DocumentViewer.prototype.dispose=b.o.W.prototype.Sc;b.CoreControls.DocumentViewer.prototype.FitMode=function(){};b.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=b.o.W.prototype.og.sv;b.CoreControls.DocumentViewer.prototype.FitMode.FitPage=b.o.W.prototype.og.uA;b.CoreControls.DocumentViewer.prototype.FitMode.Zoom=
b.o.W.prototype.og.Zoom;b.CoreControls.DocumentViewer.prototype.displayLastPage=b.o.W.prototype.cM;b.CoreControls.DocumentViewer.prototype.displayFirstPage=b.o.W.prototype.bM;b.CoreControls.DocumentViewer.prototype.setCurrentPage=b.o.W.prototype.we;b.CoreControls.DocumentViewer.prototype.getCurrentPage=b.o.W.prototype.Mm;b.CoreControls.DocumentViewer.prototype.setRightToLeftPages=b.o.W.prototype.ER;b.CoreControls.DocumentViewer.prototype.getRightToLeftPages=b.o.W.prototype.by;b.CoreControls.DocumentViewer.prototype.getZoom=
b.o.W.prototype.Ih;b.CoreControls.DocumentViewer.prototype.getPageCount=b.o.W.prototype.Hb;b.CoreControls.DocumentViewer.prototype.setFitMode=b.o.W.prototype.Fz;b.CoreControls.DocumentViewer.prototype.getFitMode=b.o.W.prototype.UM;b.CoreControls.DocumentViewer.prototype.zoomTo=b.o.W.prototype.mA;b.CoreControls.DocumentViewer.prototype.zoomToMouse=b.o.W.prototype.eT;b.CoreControls.DocumentViewer.prototype.setToolMode=b.o.W.prototype.Ou;b.CoreControls.DocumentViewer.prototype.getToolMode=b.o.W.prototype.rt;
b.CoreControls.DocumentViewer.prototype.getToolModeMap=b.o.W.prototype.NN;b.CoreControls.DocumentViewer.prototype.getTool=b.o.W.prototype.Gp;b.CoreControls.DocumentViewer.prototype.rotateClockwise=b.o.W.prototype.CQ;b.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=b.o.W.prototype.DQ;b.CoreControls.DocumentViewer.prototype.textSearchInit=b.o.W.prototype.Yz;b.CoreControls.DocumentViewer.prototype.SearchMode=function(){};b.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=
XODText.cb.AD;b.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.cb.ED;b.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.cb.tx;b.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=XODText.cb.CD;b.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.cb.BD;b.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.cb.zD;b.CoreControls.DocumentViewer.prototype.SearchMode.e_wild_card=XODText.cb.FD;b.CoreControls.DocumentViewer.prototype.SearchMode.e_regex=
XODText.cb.DD;b.CoreControls.DocumentViewer.prototype.displayBookmark=b.o.W.prototype.aM;b.CoreControls.DocumentViewer.prototype.getDocument=b.o.W.prototype.getDocument;b.CoreControls.DocumentViewer.prototype.getSelectedText=b.o.W.prototype.qt;b.CoreControls.DocumentViewer.prototype.setTextHighlightColor=b.o.W.prototype.LR;b.CoreControls.DocumentViewer.prototype.setSearchHighlightColors=b.o.W.prototype.GR;b.CoreControls.DocumentViewer.prototype.displaySearchResult=b.o.W.prototype.mx;b.CoreControls.DocumentViewer.prototype.displayAdditionalSearchResult=
b.o.W.prototype.$L;b.CoreControls.DocumentViewer.prototype.setActiveSearchResult=b.o.W.prototype.RQ;b.CoreControls.DocumentViewer.prototype.clearSearchResults=b.o.W.prototype.rL;b.CoreControls.DocumentViewer.prototype.getColorSeparationsAtPoint=b.o.W.prototype.LM;b.CoreControls.DocumentViewer.prototype.scrollViewUpdated=b.o.W.prototype.MQ;b.CoreControls.DocumentViewer.prototype.closeDocument=b.o.W.prototype.SC;b.CoreControls.DocumentViewer.prototype.setOptions=b.o.W.prototype.$d;b.CoreControls.DocumentViewer.prototype.recalculateLayout=
b.o.W.prototype.qG;b.CoreControls.DocumentViewer.prototype.refreshAll=b.o.W.prototype.iQ;b.CoreControls.DocumentViewer.prototype.refreshPage=b.o.W.prototype.jQ;b.CoreControls.DocumentViewer.prototype.printCurrentDocument=b.o.W.prototype.PV;b.CoreControls.DocumentViewer.prototype.getRenderingPipeline=b.o.W.prototype.Xm;b.CoreControls.DocumentViewer.prototype.setWatermark=b.o.W.prototype.ol;b.CoreControls.DocumentViewer.prototype.getWatermark=b.o.W.prototype.ME;b.CoreControls.DocumentViewer.prototype.getViewer=
b.o.W.prototype.vc;b.CoreControls.DocumentViewer.prototype.getViewerElement=b.o.W.prototype.LE;b.CoreControls.DocumentViewer.prototype.setViewerElement=b.o.W.prototype.gH;b.CoreControls.DocumentViewer.prototype.getScrollView=b.o.W.prototype.Qb;b.CoreControls.DocumentViewer.prototype.getScrollViewElement=b.o.W.prototype.nt;b.CoreControls.DocumentViewer.prototype.setScrollViewElement=b.o.W.prototype.dH;b.CoreControls.RenderingPipeline=b.o.Pl;b.CoreControls.RenderingPipeline.PipelineManager=b.o.Pl.uo;
b.CoreControls.RenderingPipeline.PipelineManager.prototype.registerHandlers=b.o.Pl.uo.prototype.nz;b.CoreControls.RenderingPipeline.PipelineManager.prototype.pushChange=b.o.Pl.uo.prototype.qf;b.CoreControls.RenderingPipeline.PipelineManager.prototype.hasPipeline=b.o.Pl.uo.prototype.hO;b.CoreControls.SetCachingLevel=b.o.Cv;b.CoreControls.SetPreRenderLevel=b.o.FA;b.CoreControls.DocumentViewer.prototype.getMargin=b.o.W.prototype.vE;b.CoreControls.DocumentViewer.prototype.setMargin=b.o.W.prototype.lR;
b.CoreControls.DocumentViewer.prototype.updateView=b.o.W.prototype.sl;b.CoreControls.DocumentViewer.prototype.updateVisiblePages=b.o.W.prototype.Tn;b.CoreControls.DocumentViewer.prototype.stopPageRender=b.o.W.prototype.On;b.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=b.o.W.prototype.Nu;b.CoreControls.DocumentViewer.prototype.returnCanvas=b.o.W.prototype.Eu;b.CoreControls.DocumentViewer.prototype.drawSelection=b.o.W.prototype.hM;b.CoreControls.DocumentViewer.prototype.clearSelection=b.o.W.prototype.gp;
b.CoreControls.DocumentViewer.prototype.removeContent=b.o.W.prototype.Xh;b.CoreControls.DocumentViewer.prototype.select=b.o.W.prototype.select;b.CoreControls.DocumentViewer.prototype.getPageHeight=b.o.W.prototype.ld;b.CoreControls.DocumentViewer.prototype.getPageWidth=b.o.W.prototype.md;b.CoreControls.DocumentViewer.prototype.setPageZoom=b.o.W.prototype.Mu;b.CoreControls.DocumentViewer.prototype.getPageZoom=b.o.W.prototype.gc;b.CoreControls.DocumentViewer.prototype.getRotation=b.o.W.prototype.oe;
b.CoreControls.DocumentViewer.prototype.setRotation=b.o.W.prototype.FR;b.CoreControls.DocumentViewer.prototype.getCompleteRotation=b.o.W.prototype.Me;b.CoreControls.DocumentViewer.prototype.getPageRotations=b.o.W.prototype.sN;b.CoreControls.DocumentViewer.prototype.setPageRotations=b.o.W.prototype.rR;b.CoreControls.DocumentViewer.prototype.getAnnotationManager=b.o.W.prototype.ec;b.CoreControls.DocumentViewer.prototype.setAnnotationImportOptions=b.o.W.prototype.TQ;b.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=
b.o.W.prototype.fR;b.CoreControls.DocumentViewer.prototype.setPagesUpdatedInternalAnnotationsTransform=b.o.W.prototype.wR;b.CoreControls.DocumentViewer.prototype.setPageVisibilityCallback=b.o.W.prototype.vR;b.CoreControls.DocumentViewer.prototype.getDisplayModeManager=b.o.W.prototype.Nm;b.CoreControls.DocumentViewer.prototype.setViewportRenderMode=b.o.W.prototype.Oz;b.CoreControls.DocumentViewer.prototype.getViewportRegionRect=b.o.W.prototype.VN;b.CoreControls.DocumentViewer.prototype.setRenderBatchSize=
b.o.W.prototype.cH;b.CoreControls.DisplayMode=b.o.rd;b.CoreControls.DisplayMode.prototype.setParameters=b.o.rd.prototype.xR;b.CoreControls.DisplayMode.prototype.isContinuous=b.o.rd.prototype.Dy;b.CoreControls.DisplayMode.prototype.windowToPage=b.o.rd.prototype.Aj;b.CoreControls.DisplayMode.prototype.windowToPageNoRotate=b.o.rd.prototype.SS;b.CoreControls.DisplayMode.prototype.pageToWindow=b.o.rd.prototype.pf;b.CoreControls.DisplayMode.prototype.pageToWindowNoRotate=b.o.rd.prototype.HP;b.CoreControls.DisplayMode.prototype.getSelectedPages=
b.o.rd.prototype.pt;b.CoreControls.DisplayMode.prototype.getVisiblePages=b.o.rd.prototype.Wd;b.CoreControls.DisplayMode.prototype.getPageTransform=b.o.rd.prototype.Dp;b.CoreControls.DisplayMode.prototype.getPageOffset=b.o.rd.prototype.Ux;b.CoreControls.DisplayMode.prototype.createPageSections=b.o.rd.prototype.tU;b.CoreControls.DisplayMode.prototype.setCustomFunctions=b.o.rd.prototype.WQ;b.CoreControls.DisplayModes=b.o.sd;b.CoreControls.DisplayModes.Single=b.o.sd.GA;b.CoreControls.DisplayModes.Continuous=
b.o.sd.fo;b.CoreControls.DisplayModes.Facing=b.o.sd.sA;b.CoreControls.DisplayModes.FacingContinuous=b.o.sd.rv;b.CoreControls.DisplayModes.Cover=b.o.sd.Pq;b.CoreControls.DisplayModes.CoverFacing=b.o.sd.Qq;b.CoreControls.DisplayModes.Custom=b.o.sd.Af;b.CoreControls.DisplayModeManager=b.o.io;b.CoreControls.DisplayModeManager.prototype.setDisplayMode=b.o.io.prototype.UG;b.CoreControls.DisplayModeManager.prototype.getDisplayMode=b.o.io.prototype.fc;b.CoreControls.AnnotationManager=b.o.ia;b.CoreControls.AnnotationManager.prototype.addAnnotation=
b.o.ia.prototype.Ag;b.CoreControls.AnnotationManager.prototype.addAnnotations=b.o.ia.prototype.Ji;b.CoreControls.AnnotationManager.prototype.deleteAnnotation=b.o.ia.prototype.Am;b.CoreControls.AnnotationManager.prototype.deleteAnnotations=b.o.ia.prototype.gx;b.CoreControls.AnnotationManager.prototype.selectAnnotation=b.o.ia.prototype.En;b.CoreControls.AnnotationManager.prototype.selectAnnotations=b.o.ia.prototype.yz;b.CoreControls.AnnotationManager.prototype.deselectAnnotation=b.o.ia.prototype.hp;
b.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=b.o.ia.prototype.Ed;b.CoreControls.AnnotationManager.prototype.isAnnotationSelected=b.o.ia.prototype.Ok;b.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=b.o.ia.prototype.pe;b.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=b.o.ia.prototype.AS;b.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=b.o.ia.prototype.QP;b.CoreControls.AnnotationManager.prototype.getAnnotationCopy=b.o.ia.prototype.Gx;
b.CoreControls.AnnotationManager.prototype.drawAnnotations=b.o.ia.prototype.jd;b.CoreControls.AnnotationManager.prototype.redrawAnnotation=b.o.ia.prototype.Xb;b.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=b.o.ia.prototype.Dm;b.CoreControls.AnnotationManager.prototype.updateAnnotation=b.o.ia.prototype.wS;b.CoreControls.AnnotationManager.prototype.jumpToAnnotation=b.o.ia.prototype.$O;b.CoreControls.AnnotationManager.prototype.hasAnnotation=b.o.ia.prototype.Lk;b.CoreControls.AnnotationManager.prototype.getAnnotationsList=
b.o.ia.prototype.Zi;b.CoreControls.AnnotationManager.prototype.setNoteContents=b.o.ia.prototype.Iz;b.CoreControls.AnnotationManager.prototype.getCurrentUser=b.o.ia.prototype.Hk;b.CoreControls.AnnotationManager.prototype.setCurrentUser=b.o.ia.prototype.Ez;b.CoreControls.AnnotationManager.prototype.getIsAdminUser=b.o.ia.prototype.dN;b.CoreControls.AnnotationManager.prototype.setIsAdminUser=b.o.ia.prototype.gR;b.CoreControls.AnnotationManager.prototype.setReadOnly=b.o.ia.prototype.AR;b.CoreControls.AnnotationManager.prototype.getReadOnly=
b.o.ia.prototype.GE;b.CoreControls.AnnotationManager.prototype.canModify=b.o.ia.prototype.Bd;b.CoreControls.AnnotationManager.prototype.canModifyContents=b.o.ia.prototype.GC;b.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=b.o.ia.prototype.yR;b.CoreControls.AnnotationManager.prototype.setSubmitFormActionCallback=b.o.ia.prototype.KR;b.CoreControls.AnnotationManager.prototype.getAnnotCommand=b.o.ia.prototype.Zs;b.CoreControls.AnnotationManager.prototype.importAnnotCommand=b.o.ia.prototype.gn;
b.CoreControls.AnnotationManager.prototype.exportAnnotations=b.o.ia.prototype.LD;b.CoreControls.AnnotationManager.prototype.importAnnotations=b.o.ia.prototype.tO;b.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=b.o.ia.prototype.uy;b.CoreControls.AnnotationManager.prototype.setMarkupOff=b.o.ia.prototype.Hz;b.CoreControls.AnnotationManager.prototype.getMarkupOff=b.o.ia.prototype.Tm;b.CoreControls.AnnotationManager.prototype.toggleAnnotations=b.o.ia.prototype.rS;b.CoreControls.AnnotationManager.prototype.getUseFilter=
b.o.ia.prototype.vt;b.CoreControls.AnnotationManager.prototype.setUseFilter=b.o.ia.prototype.Mz;b.CoreControls.AnnotationManager.prototype.filterAnnotations=b.o.ia.prototype.vM;b.CoreControls.AnnotationManager.prototype.useFreeTextEditing=b.o.ia.prototype.KS;b.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=b.o.ia.prototype.YL;b.CoreControls.AnnotationManager.prototype.registerAnnotationType=b.o.ia.prototype.lQ;b.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=b.o.ia.prototype.TL;
b.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=b.o.ia.prototype.DN;b.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=b.o.ia.prototype.FM;b.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=b.o.ia.prototype.Km;b.CoreControls.AnnotationManager.prototype.getAnnotationById=b.o.ia.prototype.Yi;b.CoreControls.AnnotationManager.prototype.getRootAnnotation=b.o.ia.prototype.Ep;b.CoreControls.AnnotationManager.prototype.createAnnotationReply=b.o.ia.prototype.CL;
b.CoreControls.AnnotationManager.prototype.hideAnnotation=b.o.ia.prototype.nO;b.CoreControls.AnnotationManager.prototype.hideAnnotations=b.o.ia.prototype.WE;b.CoreControls.AnnotationManager.prototype.showAnnotation=b.o.ia.prototype.WR;b.CoreControls.AnnotationManager.prototype.showAnnotations=b.o.ia.prototype.oH;b.CoreControls.AnnotationManager.prototype.setRedrawThrottle=b.o.ia.prototype.CR;b.CoreControls.AnnotationManager.prototype.getFieldManager=b.o.ia.prototype.Jk;b.CoreControls.AnnotationManager.prototype.getEditBoxManager=
b.o.ia.prototype.mE;b.Actions=b.Actions;b.Actions.GoTo=b.Actions.Te;b.Actions.GoTo.Dest=b.Actions.Te.ho;b.Actions.GoToR=b.Actions.Fl;b.Actions.URI=b.Actions.vi;b.Actions.Named=b.Actions.Kl;b.Actions.JavaScript=b.Actions.Hl;b.Actions.ResetForm=b.Actions.Pj;b.Actions.SubmitForm=b.Actions.Uj;b.Actions.Hide=b.Actions.Gl;b.Annotations=b.Annotations;b.Annotations.Color=b.Annotations.Color;b.Annotations.Color.prototype.toHexString=b.Annotations.Color.prototype.toHexString;b.Annotations.Forms=b.Annotations.O;
b.Annotations.Forms.FieldManager=b.Annotations.O.El;b.Annotations.Forms.FieldManager.prototype.getField=b.Annotations.O.El.prototype.yb;b.Annotations.Forms.FieldManager.prototype.addField=b.Annotations.O.El.prototype.gs;b.Annotations.Forms.Field=b.Annotations.O.ea;b.Annotations.Forms.Field.prototype.getValue=b.Annotations.O.ea.prototype.Ua;b.Annotations.Forms.Field.prototype.setValue=b.Annotations.O.ea.prototype.Ab;b.Annotations.Forms.Field.prototype.setVisible=b.Annotations.O.ea.prototype.wf;b.Annotations.Forms.Field.prototype.on=
b.Annotations.O.ea.prototype.on;b.Annotations.Forms.Field.prototype.off=b.Annotations.O.ea.prototype.off;b.Annotations.Forms.Field.prototype.trigger=b.Annotations.O.ea.prototype.trigger;b.Annotations.HTMLAnnotation=b.Annotations.HTMLAnnotation;b.Annotations.HTMLAnnotation.prototype.addAction=b.Annotations.HTMLAnnotation.prototype.rk;b.Annotations.HTMLAnnotation.prototype.getActions=b.Annotations.HTMLAnnotation.prototype.Ek;b.Annotations.HTMLAnnotation.prototype.triggerAction=b.Annotations.HTMLAnnotation.prototype.xe;
b.Annotations.HTMLAnnotation.prototype.getInnerElement=b.Annotations.HTMLAnnotation.prototype.tE;b.Annotations.HTMLAnnotation.prototype.getElement=b.Annotations.HTMLAnnotation.prototype.nE;b.Annotations.WidgetAnnotation=b.Annotations.WidgetAnnotation;b.Annotations.WidgetAnnotation.prototype.setValue=b.Annotations.WidgetAnnotation.prototype.Ab;b.Annotations.WidgetAnnotation.prototype.getValue=b.Annotations.WidgetAnnotation.prototype.Ua;b.Annotations.WidgetAnnotation.prototype.addAction=b.Annotations.WidgetAnnotation.prototype.rk;
b.Annotations.WidgetAnnotation.prototype.getField=b.Annotations.WidgetAnnotation.prototype.yb;b.Annotations.WidgetAnnotation.prototype.setField=b.Annotations.WidgetAnnotation.prototype.WG;b.Annotations.WidgetAnnotation.prototype.on=b.Annotations.WidgetAnnotation.prototype.on;b.Annotations.WidgetAnnotation.prototype.off=b.Annotations.WidgetAnnotation.prototype.off;b.Annotations.WidgetAnnotation.prototype.trigger=b.Annotations.WidgetAnnotation.prototype.trigger;b.Annotations.TextWidgetAnnotation=b.Annotations.Xj;
b.Annotations.ChoiceWidgetAnnotation=b.Annotations.mg;b.Annotations.ListWidgetAnnotation=b.Annotations.ni;b.Annotations.ButtonWidgetAnnotation=b.Annotations.kc;b.Annotations.PushButtonWidgetAnnotation=b.Annotations.Mj;b.Annotations.CheckButtonWidgetAnnotation=b.Annotations.ki;b.Annotations.RadioButtonWidgetAnnotation=b.Annotations.Nj;b.Annotations.SignatureWidgetAnnotation=b.Annotations.Sj;b.Annotations.Annotation=b.Annotations.Annotation;b.Annotations.Annotation.prototype.getPageNumber=b.Annotations.Annotation.prototype.uc;
b.Annotations.Annotation.prototype.setPageNumber=b.Annotations.Annotation.prototype.ZG;b.Annotations.Annotation.prototype.getX=b.Annotations.Annotation.prototype.an;b.Annotations.Annotation.prototype.setX=b.Annotations.Annotation.prototype.QR;b.Annotations.Annotation.prototype.getY=b.Annotations.Annotation.prototype.bn;b.Annotations.Annotation.prototype.setY=b.Annotations.Annotation.prototype.RR;b.Annotations.Annotation.prototype.getTop=b.Annotations.Annotation.prototype.Ym;b.Annotations.Annotation.prototype.getBottom=
b.Annotations.Annotation.prototype.bE;b.Annotations.Annotation.prototype.getLeft=b.Annotations.Annotation.prototype.Rm;b.Annotations.Annotation.prototype.getRight=b.Annotations.Annotation.prototype.IE;b.Annotations.Annotation.prototype.getWidth=b.Annotations.Annotation.prototype.xa;b.Annotations.Annotation.prototype.setWidth=b.Annotations.Annotation.prototype.hH;b.Annotations.Annotation.prototype.getHeight=b.Annotations.Annotation.prototype.va;b.Annotations.Annotation.prototype.setHeight=b.Annotations.Annotation.prototype.sq;
b.Annotations.Annotation.prototype.getCustom=b.Annotations.Annotation.prototype.PM;b.Annotations.Annotation.prototype.setCustom=b.Annotations.Annotation.prototype.VQ;b.Annotations.Annotation.prototype.draw=b.Annotations.Annotation.prototype.draw;b.Annotations.Annotation.prototype.serialize=b.Annotations.Annotation.prototype.serialize;b.Annotations.Annotation.prototype.deserialize=b.Annotations.Annotation.prototype.deserialize;b.Annotations.Annotation.prototype.setRect=b.Annotations.Annotation.prototype.uj;
b.Annotations.Annotation.prototype.getRect=b.Annotations.Annotation.prototype.me;b.Annotations.Annotation.prototype.getRectPadding=b.Annotations.Annotation.prototype.getRectPadding;b.Annotations.Annotation.prototype.adjustRect=b.Annotations.Annotation.prototype.adjustRect;b.Annotations.Annotation.prototype.setContents=b.Annotations.Annotation.prototype.In;b.Annotations.Annotation.prototype.getContents=b.Annotations.Annotation.prototype.Gk;b.Annotations.Annotation.prototype.isReply=b.Annotations.Annotation.prototype.Mh;
b.Annotations.Annotation.prototype.getReplies=b.Annotations.Annotation.prototype.mt;b.Annotations.Annotation.prototype.isWidget=b.Annotations.Annotation.prototype.ij;b.Annotations.Annotation.prototype.isVisible=b.Annotations.Annotation.prototype.Tk;b.Annotations.Annotation.prototype.getInternal=b.Annotations.Annotation.prototype.cN;b.Annotations.Annotation.prototype.selectionModel=b.Annotations.Annotation.prototype.selectionModel;b.Annotations.Annotation.prototype.elementName=b.Annotations.Annotation.prototype.elementName;
b.Annotations.Point=b.Annotations.Point;b.Annotations.Quad=b.Annotations.ab;b.Annotations.Border=b.Annotations.ao;b.Annotations.Font=b.Annotations.pg;b.Annotations.Rect=b.Annotations.Rect;b.Annotations.Rect.prototype.getWidth=b.Annotations.Rect.prototype.xa;b.Annotations.Rect.prototype.getHeight=b.Annotations.Rect.prototype.va;b.Annotations.Rect.prototype.translate=b.Annotations.Rect.prototype.translate;b.Annotations.Rect.prototype.fitTo=b.Annotations.Rect.prototype.Us;b.Annotations.Rect.prototype.normalize=
b.Annotations.Rect.prototype.normalize;b.Annotations.Link=b.Annotations.ed;b.Annotations.PopupAnnotation=b.Annotations.Lj;b.Annotations.PopupAnnotation.prototype.isOpen=b.Annotations.Lj.prototype.isOpen;b.Annotations.PopupAnnotation.prototype.setOpen=b.Annotations.Lj.prototype.YG;b.Annotations.MarkupAnnotation=b.Annotations.ra;b.Annotations.MarkupAnnotation.prototype.setStyles=b.Annotations.ra.prototype.Yc;b.Annotations.MarkupAnnotation.prototype.selectionModel=b.Annotations.ra.prototype.selectionModel;
b.Annotations.MarkupAnnotation.prototype.getPopup=b.Annotations.ra.prototype.EE;b.Annotations.MarkupAnnotation.prototype.setPopup=b.Annotations.ra.prototype.aH;b.Annotations.IPathAnnotation=b.Annotations.Od;b.Annotations.IPathAnnotation.prototype.addPathPoint=b.Annotations.Od.prototype.ac;b.Annotations.IPathAnnotation.prototype.setPathPoint=b.Annotations.Od.prototype.vf;b.Annotations.IPathAnnotation.prototype.getPathPoint=b.Annotations.Od.prototype.Fh;b.Annotations.IPathAnnotation.prototype.popPath=
b.Annotations.Od.prototype.vn;b.Annotations.IPathAnnotation.prototype.getPath=b.Annotations.Od.prototype.getPath;b.Annotations.LineAnnotation=b.Annotations.ee;b.Annotations.LineAnnotation.prototype.setStartPoint=b.Annotations.ee.prototype.Lz;b.Annotations.LineAnnotation.prototype.getStartPoint=b.Annotations.ee.prototype.JN;b.Annotations.LineAnnotation.prototype.setEndPoint=b.Annotations.ee.prototype.setEndPoint;b.Annotations.LineAnnotation.prototype.getEndPoint=b.Annotations.ee.prototype.SM;b.Annotations.LineAnnotation.prototype.setStartStyle=
b.Annotations.ee.prototype.vj;b.Annotations.LineAnnotation.prototype.getStartStyle=b.Annotations.ee.prototype.dj;b.Annotations.LineAnnotation.prototype.setEndStyle=b.Annotations.ee.prototype.rq;b.Annotations.LineAnnotation.prototype.getEndStyle=b.Annotations.ee.prototype.vp;b.Annotations.RectangleAnnotation=b.Annotations.Oj;b.Annotations.EllipseAnnotation=b.Annotations.Al;b.Annotations.FreeHandAnnotation=b.Annotations.FreeHandAnnotation;b.Annotations.FreeHandAnnotation.prototype.addPathPoint=b.Annotations.FreeHandAnnotation.prototype.ac;
b.Annotations.FreeHandAnnotation.prototype.setPathPoint=b.Annotations.FreeHandAnnotation.prototype.vf;b.Annotations.FreeHandAnnotation.prototype.getPathPoint=b.Annotations.FreeHandAnnotation.prototype.Fh;b.Annotations.FreeHandAnnotation.prototype.popPath=b.Annotations.FreeHandAnnotation.prototype.vn;b.Annotations.FreeHandAnnotation.prototype.getPath=b.Annotations.FreeHandAnnotation.prototype.getPath;b.Annotations.FreeHandAnnotation.prototype.setPath=b.Annotations.FreeHandAnnotation.prototype.setPath;
b.Annotations.FreeHandAnnotation.prototype.getPaths=b.Annotations.FreeHandAnnotation.prototype.Kk;b.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=b.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;b.Annotations.TextMarkupAnnotation=b.Annotations.Eb;b.Annotations.TextMarkupAnnotation.prototype.setQuads=b.Annotations.Eb.prototype.Kz;b.Annotations.TextMarkupAnnotation.SurroundingTexts=b.Annotations.Eb.FT;b.Annotations.TextMarkupAnnotation.TextIndices=b.Annotations.Eb.GT;b.Annotations.TextHighlightAnnotation=
b.Annotations.ih;b.Annotations.TextUnderlineAnnotation=b.Annotations.Ul;b.Annotations.TextStrikeoutAnnotation=b.Annotations.Tl;b.Annotations.TextSquigglyAnnotation=b.Annotations.Sl;b.Annotations.CaretAnnotation=b.Annotations.eo;b.Annotations.StickyAnnotation=b.Annotations.gh;b.Annotations.StampAnnotation=b.Annotations.Tj;b.Annotations.PolylineAnnotation=b.Annotations.Ml;b.Annotations.PolygonAnnotation=b.Annotations.ri;b.Annotations.FreeTextAnnotation=b.Annotations.Ma;b.Annotations.FreeTextAnnotation.prototype.getPadding=
b.Annotations.Ma.prototype.Sx;b.Annotations.FreeTextAnnotation.prototype.setPadding=b.Annotations.Ma.prototype.Ln;b.Annotations.FreeTextAnnotation.prototype.getIntent=b.Annotations.Ma.prototype.cj;b.Annotations.FreeTextAnnotation.prototype.setIntent=b.Annotations.Ma.prototype.Jn;b.Annotations.FreeTextAnnotation.prototype.addPathPoint=b.Annotations.Ma.prototype.ac;b.Annotations.FreeTextAnnotation.prototype.setStartStyle=b.Annotations.Ma.prototype.vj;b.Annotations.FreeTextAnnotation.prototype.getStartStyle=
b.Annotations.Ma.prototype.dj;b.Annotations.FreeTextAnnotation.Intent=b.Annotations.Ma.Pc;b.Annotations.ControlHandle=b.Annotations.ControlHandle;b.Annotations.ControlHandle.prototype.testSelection=b.Annotations.ControlHandle.prototype.testSelection;b.Annotations.BoxControlHandle=b.Annotations.Be;b.Annotations.LineControlHandle=b.Annotations.Il;b.Annotations.PathControlHandle=b.Annotations.rg;b.Annotations.TextControlHandle=b.Annotations.Vj;b.Annotations.SelectionModel=b.Annotations.SelectionModel;
b.Annotations.SelectionModel.prototype.testSelection=b.Annotations.SelectionModel.prototype.testSelection;b.Annotations.SelectionModel.prototype.testControlHandles=b.Annotations.SelectionModel.prototype.vq;b.Annotations.SelectionModel.prototype.getControlHandles=b.Annotations.SelectionModel.prototype.OM;b.Annotations.SelectionModel.prototype.canModify=b.Annotations.SelectionModel.prototype.Bd;b.Annotations.SelectionModel.prototype.draw=b.Annotations.SelectionModel.prototype.draw;b.Annotations.BoxSelectionModel=
b.Annotations.na;b.Annotations.LineSelectionModel=b.Annotations.mo;b.Annotations.PathSelectionModel=b.Annotations.Ll;b.Annotations.TextSelectionModel=b.Annotations.Wj;b.Annotations.XfdfUtils=b.Annotations.ba;b.Annotations.XfdfUtils.serializePoint=b.Annotations.ba.Gu;b.Annotations.XfdfUtils.deserializePoint=b.Annotations.ba.Gu;b.Annotations.XfdfUtils.serializePointArray=b.Annotations.ba.Hn;b.Annotations.XfdfUtils.deserializePointArray=b.Annotations.ba.xk;b.Annotations.XfdfUtils.serializeRect=b.Annotations.ba.Bz;
b.Annotations.XfdfUtils.deserializeRect=b.Annotations.ba.kx;b.Annotations.XfdfUtils.serializeFringeRect=b.Annotations.ba.Az;b.Annotations.XfdfUtils.deserializeFringeRect=b.Annotations.ba.oD;b.Annotations.XfdfUtils.toXmlDate=b.Annotations.ba.aA;b.Annotations.SelectionAlgorithm=b.Annotations.Bc;b.Annotations.SelectionAlgorithm.boundingRectTest=b.Annotations.Bc.rm;b.Annotations.SelectionAlgorithm.canvasVisibilityTest=b.Annotations.Bc.cp;b.Annotations.SelectionAlgorithm.textQuadTest=b.Annotations.Bc.AH;
b.Annotations.Utilities=b.Annotations.eb;b.Annotations.Utilities.setExtraSelectors=b.Annotations.eb.$Q;b.Tool=b.Tool;b.Tools=b.ja;b.Tools.Tool=b.ja.Tool;b.Tools.Tool.prototype.getDocumentViewer=b.ja.Tool.prototype.Hg;b.Tools.Tool.prototype.getMouseLocation=b.ja.Tool.prototype.Qf;b.Tools.AnnotationSelectTool=b.ja.AnnotationSelectTool;b.Tools.TextTool=b.ja.Rb;b.Tools.GenericAnnotationCreateTool=b.ja.Cb;b.Tools.PanTool=b.ja.so;b.Tools.TextSelectTool=b.ja.Rl;b.Tools.AnnotationEditTool=b.ja.wl;b.Tools.LineCreateTool=
b.ja.Jl;b.Tools.ArrowCreateTool=b.ja.fv;b.Tools.RectangleCreateTool=b.ja.yv;b.Tools.EllipseCreateTool=b.ja.ov;b.Tools.FreeHandCreateTool=b.ja.FreeHandCreateTool;b.Tools.SignatureCreateTool=b.ja.SignatureCreateTool;b.Tools.SignatureCreateTool.prototype.setSignatureCanvas=b.ja.SignatureCreateTool.prototype.IR;b.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=b.ja.SignatureCreateTool.prototype.sL;b.Tools.SignatureCreateTool.prototype.initDefaultSignature=b.ja.SignatureCreateTool.prototype.$E;
b.Tools.SignatureCreateTool.prototype.hasDefaultSignature=b.ja.SignatureCreateTool.prototype.dO;b.Tools.SignatureCreateTool.prototype.addDefaultSignature=b.ja.SignatureCreateTool.prototype.CK;b.Tools.SignatureCreateTool.prototype.openSignature=b.ja.SignatureCreateTool.prototype.EP;b.Tools.SignatureCreateTool.prototype.addSignature=b.ja.SignatureCreateTool.prototype.vC;b.Tools.SignatureCreateTool.prototype.isEmptySignature=b.ja.SignatureCreateTool.prototype.gF;b.Tools.StickyCreateTool=b.ja.Ev;b.Tools.TextAnnotationCreateTool=
b.ja.fe;b.Tools.TextHighlightCreateTool=b.ja.Gv;b.Tools.TextUnderlineCreateTool=b.ja.Jv;b.Tools.TextStrikeoutCreateTool=b.ja.Iv;b.Tools.TextSquigglyCreateTool=b.ja.Hv;b.Tools.PolylineCreateTool=b.ja.Nl;b.Tools.PolygonCreateTool=b.ja.Kj;b.Tools.PolygonCloudCreateTool=b.ja.vo;b.Tools.CalloutCreateTool=b.ja.yl;b.Tools.FreeTextCreateTool=b.ja.uv;b.Tools.StampCreateTool=b.ja.wo})(window);
(function(){function b(b,c,a){function f(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function g(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function l(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function h(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function k(a,b,c){return{r:.299*a+.587*b+.114*c,g:-.1687*a-.3313*b+.5*c,b:.5*a-.4187*b-.0813*c}}function m(a,b,c){return{r:a+1.402*c,g:a-.3441*b-.7141*c,b:a+1.772*b}}function n(a,
b,c){a=k(a,b,c);return{Uf:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),PH:a.r}}function p(a,b,c){return m(c,b*Math.sin(a),b*Math.cos(a))}var q={},u;for(u in d)d.hasOwnProperty(u)&&(q[u]=a&&a[u]||d[u]);"auto"==q.width&&(q.width=this.canvas.width);"auto"==q.height&&(q.height=this.canvas.height);q.width=Math.min(q.width,this.canvas.width-q.rH,b.canvas.width-q.x);q.height=Math.min(q.height,this.canvas.height-q.sH,b.canvas.height-q.y);u=this.getImageData(q.rH,q.sH,q.width,q.height);a=b.getImageData(q.x,
q.y,q.width,q.height);u=u.data;for(var r=a.data,v,w,z=r.length,D,A,x,y,E,F,B,G,H,J,M,K,P,O,L=0;L<z;L+=4)if(v=u[L+3]/255,w=r[L+3]/255,B=v+w-v*w,r[L+3]=255*B,0!=v)if(0==w)r[L]=u[L],r[L+1]=u[L+1],r[L+2]=u[L+2];else{G=r[L];H=r[L+1];J=r[L+2];M=u[L];K=u[L+1];P=u[L+2];D=M/255*v;y=G/255*w;A=K/255*v;E=H/255*w;x=P/255*v;F=J/255*w;O=255/B;B=w*v;var C=w-B,Q=v-B;switch(c){case "normal":case "src-over":r[L]=(D+y-y*v)*O;r[L+1]=(A+E-E*v)*O;r[L+2]=(x+F-F*v)*O;break;case "screen":r[L]=(D+y-D*y)*O;r[L+1]=(A+E-A*E)*
O;r[L+2]=(x+F-x*F)*O;break;case "multiply":r[L]=(D*y+D*(1-w)+y*(1-v))*O;r[L+1]=(A*E+A*(1-w)+E*(1-v))*O;r[L+2]=(x*F+x*(1-w)+F*(1-v))*O;break;case "difference":r[L]=(D+y-2*Math.min(D*w,y*v))*O;r[L+1]=(A+E-2*Math.min(A*w,E*v))*O;r[L+2]=(x+F-2*Math.min(x*w,F*v))*O;break;case "src-in":B=v*w;O=255/B;r[L]=D*w*O;r[L+1]=A*w*O;r[L+2]=x*w*O;r[L+3]=255*B;break;case "plus":case "add":r[L]=Math.min(D+y,1)*O;r[L+1]=Math.min(A+E,1)*O;r[L+2]=Math.min(x+F,1)*O;break;case "overlay":r[L]=B*g(G,M)+C*G+Q*M;r[L+1]=B*g(H,
K)+C*H+Q*K;r[L+2]=B*g(J,P)+C*J+Q*P;break;case "hard-light":r[L]=B*g(M,G)+C*G+Q*M;r[L+1]=B*g(K,H)+C*H+Q*K;r[L+2]=B*g(P,J)+C*J+Q*P;break;case "color-dodge":case "dodge":r[L]=B*l(G,M)+C*G+Q*M;r[L+1]=B*l(H,K)+C*H+Q*K;r[L+2]=B*l(J,P)+C*J+Q*P;break;case "color-burn":case "burn":r[L]=B*h(G,M)+C*G+Q*M;r[L+1]=B*h(H,K)+C*H+Q*K;r[L+2]=B*h(J,P)+C*J+Q*P;break;case "darken":case "darker":r[L]=B*(G<M?G:M)+C*G+Q*M;r[L+1]=B*(H<K?H:K)+C*H+Q*K;r[L+2]=B*(J<P?J:P)+C*J+Q*P;break;case "lighten":case "lighter":r[L]=(D<y?
y:D)*O;r[L+1]=(A<E?E:A)*O;r[L+2]=(x<F?F:x)*O;break;case "exclusion":r[L]=(y+D-2*y*D)*O;r[L+1]=(E+A-2*E*A)*O;r[L+2]=(F+x-2*F*x)*O;break;case "soft-light":r[L]=B*f(G,M)+C*G+Q*M;r[L+1]=B*f(H,K)+C*H+Q*K;r[L+2]=B*f(J,P)+C*J+Q*P;break;case "luminosity":v=k(G,H,J);w=k(M,K,P);v=m(w.r,v.g,v.b);r[L]=B*v.r+C*G+Q*M;r[L+1]=B*v.g+C*H+Q*K;r[L+2]=B*v.b+C*J+Q*P;break;case "color":v=k(G,H,J);w=k(M,K,P);v=m(v.r,w.g,w.b);r[L]=B*v.r+C*G+Q*M;r[L+1]=B*v.g+C*H+Q*K;r[L+2]=B*v.b+C*J+Q*P;break;case "hue":v=n(G,H,J);w=n(M,K,
P);v=p(w.Uf,v.s,v.PH);r[L]=B*v.r+C*G+Q*M;r[L+1]=B*v.g+C*H+Q*K;r[L+2]=B*v.b+C*J+Q*P;break;case "saturation":v=n(G,H,J);w=n(M,K,P);v=p(v.Uf,w.s,v.PH);r[L]=B*v.r+C*G+Q*M;r[L+1]=B*v.g+C*H+Q*K;r[L+2]=B*v.b+C*J+Q*P;break;case "lighter-color":v=0<2.623*(G-M)+5.15*(H-K)+J-P?{r:G,g:H,b:J}:{r:M,g:K,b:P};r[L]=B*v.r+C*G+Q*M;r[L+1]=B*v.g+C*H+Q*K;r[L+2]=B*v.b+C*J+Q*P;break;case "darker-color":v=0>2.623*(G-M)+5.15*(H-K)+J-P?{r:G,g:H,b:J}:{r:M,g:K,b:P};r[L]=B*v.r+C*G+Q*M;r[L+1]=B*v.g+C*H+Q*K;r[L+2]=B*v.b+C*J+Q*P;
break;default:G=L/4%this.canvas.width,H=Math.floor(L/4/this.canvas.width),G=4>G%8&&4>H%8||3<G%8&&3<H%8,r[L]=r[L+3]=255,r[L+1]=G?255:0,r[L+2]=G?0:255}}b.putImageData(a,q.x,q.y)}var d={x:0,y:0,rH:0,sH:0,width:"auto",height:"auto"};(function(d){if(!d||"function"!==typeof d.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(d,"bO",{value:b});for(var c=b.eW="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
a=b.supports={},f=c.length;f--;)a[c[f]]=!0;b.gU={"src-over":"normal",un:"add",LU:"colordodge",jU:"colorburn",FU:"darken",tV:"lighten"};return d})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();("undefined"===typeof window?this:window).OU=0;
(function(b){b.Wq=function(d,e){this.name=d;this.wm=e;this.gL=1;this.gl=!0;this.uh={};var c=this.cs={};this.AK={};this.Xt=null;c.console_log=[function(a){b.utils.log(a)}];c.console_error=[function(a){b.utils.error(a)}];c.workerLoaded=[function(){}];e.addEventListener("message",this.QE.bind(this))};b.Wq.prototype={on:function(d,e,c){var a=this.cs;a[d]&&b.utils.error('There is already an actionName called "'+d+'"');a[d]=[e,c]},replace:function(b,e,c){this.cs[b]=[e,c]},send:function(b,e){this.postMessage({action:b,
data:e})},Ap:function(){return this.gL++},Ta:function(b,e,c){var a=this.Ap();b={action:b,data:e,callbackId:a,priority:c};e=createPromiseCapability();this.uh[a]=e;try{this.postMessage(b)}catch(f){e.reject(f)}return e.promise},Fu:function(b,e,c){var a=this.Ap();b={action:b,data:e,callbackId:a,priority:c};e=createPromiseCapability();this.uh[a]=e;try{this.postMessage(b)}catch(f){e.reject(f)}return{promise:e.promise,fL:a}},zz:function(b,e){if(b.message||b.pM){b.message&&b.message.message&&(b.message=b.message.message);
var c=b.pM;b={type:b.type?b.type:"JavascriptError",message:b.message};if(c)for(var a in c)c.hasOwnProperty(a)&&(b[a]=c[a])}this.postMessage({isReply:!0,callbackId:e,error:b})},Zx:function(d){if(d in this.uh)return this.uh[d];b.utils.error("Cannot get promise for callback "+d)},JC:function(d){if(d in this.uh){var e=this.uh[d];delete this.uh[d];e.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:d}})}else b.utils.warn("Cannot cancel callback "+
d)},postMessage:function(b){if(this.gl){var e=this.PN(b);this.wm.postMessage(b,e)}else this.wm.postMessage(b)},xE:function(b,e){if("object"===typeof b)if(b instanceof Uint8Array)e.push(b.buffer);else if(b instanceof ArrayBuffer)e.push(b);else for(var c in b)b.hasOwnProperty(c)&&this.xE(b[c],e)},PN:function(b){var e=[];this.xE(b,e);return 0===e.length?void 0:e},QE:function(d){var e=this,c=d.data,a=this.cs,f=this.AK;d=this.uh;var g;c.isReply?(a=c.callbackId,a in d?(f=d[a],delete d[a],"error"in c?f.reject(c.error):
f.resolve(c.data)):b.utils.warn("Cannot resolve callback "+a)):c.action in a?(g=a[c.action],c.callbackId?Promise.resolve().then(function(){return g[0].call(g[1],c.data)}).then(function(a){e.postMessage({isReply:!0,callbackId:c.callbackId,data:a})},function(a){e.zz(a,c.callbackId)}):g[0].call(g[1],c.data)):c.action in f?(g=f[c.action],c.callbackId?g[0].call(g[1],c).then(function(a){e.postMessage({isReply:!0,callbackId:c.callbackId,data:a});e.Xt()},function(a){e.zz(a,c.callbackId);e.Xt()}):g[0].call(g[1],
c).then(function(){e.Xt()},function(){e.Xt()})):b.utils.error("Unknown action from worker: "+c.action)}}})("undefined"===typeof window?this:window);var ma=this;
ma.DJ=function(){function b(b,e,c){var a=this;this.rj=[];this.Gm={};this.Em={};createPromiseCapability();this.gA=new Promise(function(f,g){if("undefined"!==typeof Worker)try{var l=new ma.Wq("main",b);l.gl=e;a.qa=l;l.on("test",function(b){b&&b.supportTypedArray?(b.supportTransfers||(l.gl=!1),a.TR(l),f()):g(new ma.Yj("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))});var h={array:new Uint8Array([255])};try{h.options=c?c:{},h.options.chunkMax=ma.hI,l.send("test",h)}catch(k){ma.utils.log("Cannot use postMessage transfers"),
l.gl=!1,h.array[0]=0,l.send("test",h)}return}catch(k){g(new ma.Yj("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}g(new ma.Yj("Can't start a worker","error.WorkerInitError"))})}b.prototype={zn:0,mS:1,$c:2,Vf:3,TR:function(b){this.qa=b;b.on("event",this.JG,this)},JG:function(b){var e=b.docId;if(this.Gm[e])this.Gm[e](b);else e in this.Em?this.Em[e].push(b):this.Em[e]=[b]},addEventListener:function(b,e){if(this.Gm[b])ma.utils.error("Event listener already set for "+
b);else if(this.Gm[b]=e,b in this.Em){for(var c=this.Em[b],a=0;a<c.length;++a)this.JG(c[a]);delete this.Em[b]}},oL:function(b){delete this.Gm[b]},rM:function(b){return this.qa.Ta("NewDoc",b,this.Vf)},hP:function(b,e){var c={array:b,workerPath:ma.o.ej()};e&&(c.l=e);return this.qa.Ta("LoadRes",c,this.Vf)},iP:function(b,e){var c={path:b};e&&(c.l=e);return this.qa.Ta("LoadResFromPath",c,this.Vf)},JM:function(b,e,c,a,f,g,l,h){return"undefined"===typeof h?this.qa.Fu("GetCanvas",{docId:b,pageIndex:e,width:c,
height:a,rotation:f,layers:g,overprintMode:l},this.zn):this.qa.Fu("GetCanvasPartial",{docId:b,pageIndex:e,width:c,height:a,rotation:f,layers:g,bbox:[h.x1,h.y1,h.x2,h.y2],overprintMode:l},this.zn)},KM:function(b,e,c,a,f,g,l,h,k){return"undefined"===typeof h?this.qa.Fu("GetCanvas",{docId:b,pageIndex:e,width:c,height:a,rotation:f,layers:g,filePath:k,overprintMode:l},this.zn):this.qa.Fu("GetCanvasPartial",{docId:b,pageIndex:e,width:c,height:a,rotation:f,layers:g,bbox:[h.x1,h.y1,h.x2,h.y2],filePath:k,
overprintMode:l},this.zn)},eE:function(b,e){return"undefined"!==typeof e?this.qa.Ta("GetCanvasProgressive",{callbackId:b,filePath:e},this.zn):this.qa.Ta("GetCanvasProgressive",{callbackId:b},this.zn)},Gd:function(b,e){return this.qa.Ta("LoadText",{docId:b,pageIndex:e},this.mS)},dP:function(b){return this.qa.Ta("LoadBookmarks",{docId:b},this.Vf)},uF:function(b,e){var c={docId:b};e&&(c.pages=e);return this.qa.Ta("LoadAnnotations",c,this.Vf)},Vp:function(b,e){return this.qa.Ta("MergeXFDF",{docId:b,xfdf:e},
this.$c)},JQ:function(b){return this.qa.Ta("SaveDoc",b,this.$c)},IQ:function(b){return this.qa.Ta("SaveDocFromFixedElements",b,this.$c)},KQ:function(b){return this.qa.Ta("SaveDocAs",b,this.$c)},FS:function(b,e){return this.qa.Ta("UpdatePassword",{docId:b,password:e},this.Vf)},Ip:function(b,e,c,a){return this.qa.Ta("InsertBlankPages",{docId:b,width:c,height:a,pageArray:e},this.$c)},jn:function(b,e,c,a,f){return this.qa.Ta("InsertPages",{docId:b,doc:e,pageArray:c,destPos:a,insertBookmarks:f},this.$c)},
Wp:function(b,e,c){return this.qa.Ta("MovePages",{docId:b,pageArray:e,destPos:c},this.$c)},xn:function(b,e){return this.qa.Ta("RemovePages",{docId:b,pageArray:e},this.$c)},Bn:function(b,e,c){return this.qa.Ta("RotatePages",{docId:b,pageArray:e,rotation:c},this.$c)},Vm:function(b){return this.qa.Ta("GetPDFDoc",{docId:b},this.$c)},Im:function(b,e,c){return this.qa.Ta("ExtractPages",{docId:b,pageArray:e,xfdfString:c},this.$c)},zm:function(b,e,c,a,f,g){return this.qa.Ta("CropPages",{docId:b,pageArray:e,
topMargin:c,botMargin:a,leftMargin:f,rightMargin:g},this.$c)},ll:function(b,e){return this.qa.Ta("DownloaderHint",{docId:b,hint:e},this.$c)},KO:function(b){return this.qa.Ta("IsLinearized",{docId:b},this.$c)},Qm:function(b){return this.qa.Ta("GetLayers",{docId:b},this.$c)},Hm:function(b,e){return this.qa.Ta("ExtractPDFNetLayersContext",{docId:b,layers:e},this.$c)},Ap:function(){return this.qa.Ap()},hx:function(b){return this.qa.Ta("DeleteDocument",{docId:b},this.$c)},Dz:function(b){return this.qa.Ta("SetColorManagement",
{value:b},this.Vf)},Hu:function(b){return this.qa.Ta("SetCustomFontURL",{fontURL:b},this.Vf)},getWorkerType:function(){return this.qa.wm&&"function"===typeof this.qa.wm.getWorkerType?this.qa.wm.getWorkerType():ma.BI(this.qa.wm)?"ems":"pnacl"},il:function(b,e){return this.qa.Ta("RequirePage",{docId:b,pageNum:e},this.Vf)},sendWithPromise:function(b,e,c){return this.qa.Ta(b,e,c)},xs:function(b){this.qa.JC(b)}};return b}();
(function(b){function d(){var a=document.createElement("embed");a.type="application/pdf";a.style.position="fixed";a.style.width="9px";a.style.height="9px";a.style.top="-9990px;";a.style.left="-999px";return a}function e(a,b){for(var c=!1,d=0,e=navigator.plugins;d<e.length;++d){var k=e[d].name;if("Chrome PDF Viewer"===k||"Chromium PDF Viewer"===k){c=!0;break}}c?a():b()}var c;b.isPDFiumSupported=function(){c||(c=new Promise(function(a){e(function(){a(!0)},function(){a(!1)})}));return c};b.pdfiumPrint=
function(a){var b={Fm:null,ou:"",handleEvent:function(){var a=b;window.removeEventListener("focus",a);a.Fm&&a.Fm.remove();a.ou&&URL.revokeObjectURL(a.ou)}};b.ou=URL.createObjectURL(a);b.Fm=d();b.Fm.src=b.ou;b.Fm.addEventListener("message",function(){console.log("I actually got a message")});document.body.appendChild(b.Fm);window.addEventListener("focus",b)}})(window);
(function(b){function d(d,c){b.Wq.call(this,d,c);this.Bh={}}d.prototype={fs:function(b,c){b in this.Bh?this.Bh[b].push(c):this.Bh[b]=[c]},wu:function(b){b in this.Bh&&delete this.Bh[b]},QE:function(d){var c=this,a=d.data,f=this.cs;d=this.uh;if("object"===typeof a)if("callbackId"in a)if(f=a.callbackId,f in d){var g=d[f];delete d[f];"type"in a&&"error"===a.type?g.reject(a):g.resolve(a.data)}else b.utils.warn("Cannot resolve callback "+f);else if(a.action in f){var l=f[a.action];a.callbackId?Promise.resolve().then(function(){return l[0].call(l[1],
a.data)}).then(function(b){c.postMessage({isReply:!0,callbackId:a.callbackId,data:b})},function(a){c.zz(a)}):l[0].call(l[1],a.data)}else if(a.type)if("page"===a.type)d=a.meta.docId,this.Bh[d]?this.Bh[d].forEach(function(b){b(a)}):b.utils.warn("load","No doc listeners for this docId: "+d);else{if("documentComplete"===a.type||"error"===a.type)d=a.docId,this.Bh[d]?this.Bh[d].forEach(function(b){b(a)}):b.utils.warn("load","No doc listeners for this docId: "+d)}else b.utils.error("Unknown action from worker: "+
a.action)}};d.prototype=$.extend(Object.create(b.Wq.prototype),d.prototype);b.OI=d})("undefined"===typeof window?this:window);
(function(b){function d(d,c,a){var f=this;this.rj=[];this.Gm={};createPromiseCapability();this.gA=new Promise(function(g,l){if("undefined"!==typeof Worker)try{if(f.qa)g();else{var h=new b.OI("main",d);h.gl=c;f.qa=h;h.on("test",function(a){if(a.ready){var c=a&&a.supportTypedArray;a&&a.info&&b.utils.log("load","Office worker info: "+a.info);c?(a.supportTransfers||(h.gl=!1),g()):l(new b.Yj("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}else l("License Key Error: "+
a.license)});var k={array:new Uint8Array([255])};try{a&&(k=$.extend({},k,a)),h.send("test",k)}catch(m){h.gl=!1,k.array[0]=0,h.send("test",k)}}return}catch(m){l(new b.Yj("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}l(new b.Yj("Can't start a worker","error.WorkerInitError"))})}d.prototype={wF:function(b){return this.qa.Ta("loadDocument",b,this.Vf)},fs:function(b,c){this.qa.fs(b,c)},wu:function(b){this.qa.wu(b)},hx:function(b){this.qa.wu(b);
return this.qa.Ta("unloadDocument",{docId:b},this.$c)},xs:function(b){this.qa.JC(b)},RM:function(b){return this.qa.Ta("getDocBuffer",{docId:b},this.Vf)}};b.o.QI=d})("undefined"===typeof window?this:window);
(function(b){function d(a){this.bu=!1;this.qb=[];this.wq={};this.rs={};this.Hs={};this.Ys=[];this.qp={};this.Sa={};this.te=a}function e(){}function c(a,b){this.Vg=a;this.Sa={};this.ob=null;this.Na=b}e.prototype={YD:function(a){var b=this;b.functions=[];a.forEach(function(a){b.functions.push(new Function("c","t",a))});this.index=0},run:function(a,b,c){var d=this.functions[this.index];c&&this.index++;return d?(d(a,b),!1):!0},clone:function(){var a=new e;a.functions=this.functions;a.index=0;return a},
bq:function(){return Promise.resolve()},cancel:function(){}};d.prototype={gy:function(a,b){var c=a+1;if(c in this.qb){var c=this.qb[c],d=$.extend({},c);if(!c.ob){var h=new e;h.YD(c.Op);c.ob=h}d.ob=c.ob.clone();b(null,d)}else b(Error("The page "+c+" does not exist yet."))},Vx:function(a,c,d){a+=1;if(a in this.qb){c=this.qb[a];a=$.extend({},c);if(!c.ob){var l=new e;l.YD(c.Op);c.ob=l}a.ob=c.ob.clone();a.Sa=$.extend(!0,{},a.Sa);for(var h in a.Sa)if(c=a.Sa[h],"jpg"===c.type)a.Sa[h].data=b.o.Rx(c.data.type,
c.data.data);else{if(b.Jm)l=b.o.Rx(c.data.type,c.data.data),l=new b.dh.FontFace(c.name,"","sfnt",l);else{for(var l="",k=new Uint8Array(c.data.data),m=k.byteLength,n=0;n<m;n++)l+=String.fromCharCode(k[n]);l=new b.dh.FontFace(c.name,l,"sfnt",void 0)}this.te.Fy(c.name)||l.insert();a.Sa[h].data=l}d(null,a)}else d(Error("The page "+a+" does not exist yet."))},GK:function(a){var b=a.meta.page,d=new c(b,this),e=a.img,h=a.text_structure,k={},m="",n;for(m in e)e[m]&&e[m].data?(n={data:e[m],type:"jpg",name:m},
k[m]=n,this.Sa[m]=n):k[m]=this.Sa[m];e=a.embeddedFonts;for(m in e)(n=e[m])&&n.data?(n={data:n,type:"font",name:m},k[m]=n,this.Sa[m]=n):k[m]=this.Sa[m];d.Op=a.js;d.Sa=k;d.text=h;this.qb[b]=d},bp:function(){}};_(d.prototype).extend(Backbone.Events);b.o.NI=d})(window);
(function(b){function d(){}var e=b.o;e.$q=function(c){this.gf=[];this.Sd=[];this.Xd={};this.J=[];this.ju={};this.Kh={};this.ce={};this.op={};this.Ba=null;this.nm=new b.Ue.br;this.id=c;this.Ty=[]};e.$q.prototype=Object.create(e.Df.prototype);e.$q.prototype.constructor=e.eh;$.extend(e.$q.prototype,{FK:function(c){this.Na.GK(c);var a=new b.qo(c.meta.width,c.meta.height);a.sb=new XODText.Da;a.sb.Oa(1,0,0,-1,0,c.meta.height);a.rotation=0;this.J.push(a);this.Up=this.ap();c=c.fonts;for(var d in c){var e=
c[d];d in this.op?a=this.op[d]:(a=new XODText.pg,a.sq(-e.ascent,e.descent),a.fH(500),this.op[d]=a);for(var e=e.charX,l=e.length,h=0;h<l;h+=3)a.es(e[h],e[h+1],e[h+2])}},$f:function(c,a,d){var g=this;this.bb=c;this.J=[];g.Xd={};var l=d.annotsLoadedCallback;g.dc=new Promise(function(a){g.bind("documentComplete",function(){g.unbind("documentComplete");a()})});var h=d.workerTransportPromise;c.getFileData(function(d){g.bind("documentReady",a);var f={outputFormat:"canvasCommands"};c.file?(f.type="file",
f.value={bytes:d.buffer,name:c.file.name},g.Ts=c.file.name):c.url?(f.type="file",f.value={bytes:d.buffer,name:c.filename||c.url},g.Ts=f.value.name):(f.type="array",f.value=d.buffer,g.Ts="");g.Na=new e.NI(g.nm);var n=!1;h.then(function(c){g.ya=c;b.utils.log("load","Worker Initialized");g.ya.wF(f).then(function(c){g.Ba=c.docId;g.ya.fs(c.docId,function(c){switch(c.type){case "page":var d=150,e=function(){var a;13<g.oj.length?a=g.oj.splice(0,13):(a=g.oj,g.oj=[]);return a},f=function(){for(var c=e(),h=
0;h<c.length;++h)b.utils.log("load","page "+c[h].meta.page+": "+c[h].meta.elapsedTime+"ms"),g.FK(c[h]);for(h=0;h<c.length;++h)if(c[h].tk)for(var k=0;k<c[h].tk.length;++k){var m=c[h].tk[k],m=new Annotations.ed({actions:{U:[{name:"URI",uri:m.vi}]},rect:{x1:parseInt(m.x1,10),y1:parseInt(m.y1,10),x2:parseInt(m.x2,10),y2:parseInt(m.y2,10)}});m.PageNumber=c[h].xV.page;g.Ty.push(m)}g.dc.then(function(a){g.Wi({type:"officeAnnotationsUpdated",data:a})}.bind(null,g.Ty));g.Ty=[];n||(n=!0,a(),l&&l('<?xml version="1.0" encoding="UTF-8"?><xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">  <pdf-info version="2" xmlns="http://www.pdftron.com/pdfinfo" /></xfdf>'));
g.Wi({type:"pagesUpdated",data:g.J.slice()});b.utils.log("load","processed "+c.length+" pages, "+g.oj.length+" remaining");0<g.oj.length?(g.dn=setTimeout(f,d),d=30):(g.dn=null,g.dM&&g.trigger("documentComplete"))};g.oj?(g.oj.push(c),g.dn||(g.dn=setTimeout(f,d),d=30)):(b.utils.log("load","Received first page data"),g.oj=[c],f());break;case "error":n?console.error(c.message):a(c);break;case "documentComplete":g.dn?g.dM=!0:g.trigger("documentComplete")}});b.utils.log("load","Document initialized")})["catch"](function(b){a(b)})})})},
Gd:function(b,a){var d=this;this.J[b].text?a(this.J[b].text):this.Na.gy(b,function(e,l){if(!e&&"undefined"!==typeof l.text){var h=new XODText.We,k=new XODText.Da;k.Oa(1,0,0,1,0,0);var m=new XODText.Ql(d.op),n=l.ob.clone(),p=!1;try{do p=n.run(m,k,!0);while(!p)}catch(q){console.warn("Custom Canvas has encountered an error: "+q.message);return}h.yL(l.text,m);d.J[b].text=h;a(h)}})},kn:function(){return!1},Nk:d,Pn:d,hj:function(){return!1},Dk:function(){return null},um:d,Um:function(){return!1},Kn:d,Vz:d,
Sm:function(){return[]},Hb:function(){return this.J.length},Vc:function(b){var a={};a.width=this.J[b].width;a.height=this.J[b].height;return a},pd:function(){e.Df.prototype.pd.call(this);clearTimeout(this.dn);this.Na=this.dn=null;this.ya&&this.Ba&&this.ya.hx(this.Ba)},sr:function(){},jv:function(c){var a=new b.qo(c.width,c.height);a.sb=new XODText.Da;c=c.matrix;a.sb.Oa(c[0],c[1],c[2],c[3],c[4],c[5]);c=this.sm(a.sb);a.sb=this.uz({w:a.width,Uf:a.height});a.rotation=c;return a},Fk:function(){return Promise.resolve([])},
yK:function(){var b=this,a={outputFormat:"binaryStream"};b.Ts?(a.type="file",a.value={bytes:null,name:b.Ts}):(a.type="array",a.value=null);return new Promise(function(d,e){b.dc.then(function(){b.ya.wF(a).then(function(a){var h=0,k=[];b.Ba=a.docId;b.ya.wu(b.Ba);b.ya.fs(b.Ba,function(a){switch(a.type){case "page":"binaryStream"===a.format&&a.bytes||e("Expected binaryStream data");k.push(new Uint8Array(a.bytes));h+=a.bytes.byteLength;break;case "error":console.error(a.message);e(a.message);break;case "documentComplete":a=
new Uint8Array(h);for(var b=0,c=0;c<k.length;++c)a.set(k[c],b),b+=k[c].length,k[c]=null;d(a);break;default:e("Unable to export data")}})})})})},getFileData:function(b){var a="pdf"===b.downloadType;if(this.ya&&this.Ba){var d=this.Ba;return a?(a=e.Bt(e.Kx(),{},window.parent.CJ?window.parent.CJ.l():void 0),Promise.all([a,this.yK()]).then(function(a){var d=a[0];b.bytes=a[1].buffer;return d.IQ(b).then(function(a){return a.fileData&&0!==a.fileData.byteLength?Promise.resolve(a.fileData):Promise.reject("Failed to convert document to PDF")},
function(a){console.error(a);return Promise.resolve(a)})})):this.ya.RM(this.Ba).then(function(a){return a&&"array"===a.type&&d===a.docId?a.value:Promise.reject()})}return Promise.reject()},gj:function(){return!1},DE:function(b){return this.J[b].links},xj:function(){return!0}})})(window);
(function(b){function d(b){return new Promise(function(a,d){var e=indexedDB.open("wasm-cache",b);e.onerror=d.bind(null,"Error opening wasm cache database");e.onsuccess=function(){a(e.result)};e.onupgradeneeded=function(a){var b=e.result;b.objectStoreNames.contains("wasm-cache")&&(console.log("Clearing out version "+a.oldVersion+" wasm cache"),b.deleteObjectStore("wasm-cache"));console.log("Creating version "+a.newVersion+" wasm cache");b.createObjectStore("wasm-cache")}})}function e(b,a){return new Promise(function(d,
e){var l=b.transaction(["wasm-cache"]).objectStore("wasm-cache").get(a);l.onsuccess=function(){l.result?d(l.result):e("Module "+a+" was not found in wasm cache")};l.onerror=e.bind(null,"Error getting wasm module "+a)})}b.VO=function(b){return d(b).then(function(a){return e(a,"PDFNetCWasm.wasm").then(function(){return!0})})["catch"](function(){return!1})};b.kV=function(c,a,f,g){function l(b,c){var d=b.transaction(["wasm-cache"],"readwrite").objectStore("wasm-cache").put(c,a);d.onerror=function(a){console.log("Failed to store in wasm cache: "+
a)};d.onsuccess=function(){console.log("Successfully stored "+a+" in wasm cache")}}function h(c){m=m||Date.now();return c?(b.utils.log("load","Try instantiateStreaming"),WebAssembly.FO(fetch(b.RU(a)),f)["catch"](function(c){b.utils.log("load","instantiateStreaming Failed "+a+" message "+c.message);return h(!1)})):b.uV(a,g,!0,!0).then(function(a){k=Date.now();b.utils.log("load","Request took "+(k-m)+" ms");return WebAssembly.zy(a,f)})}var k,m;return d(c).then(function(c){return e(c,a).then(function(c){b.utils.log("Found "+
a+" in wasm cache");return WebAssembly.zy(c,f)},function(a){b.utils.log(a);return h(!!WebAssembly.FO).then(function(a){try{b.utils.log("load","WASM compilation took "+(Date.now()-(k||m))+" ms"),l(c,a.AV)}catch(d){}return a.instance})})},function(a){console.log(a);return h().then(function(a){return a.instance})})}})(this);
(function(b){function d(){this.fq=this.Lh=null;this.zoom=0;this.sO=!0;this.cu=0;this.Zg=null}function e(a,b){this.Vg=a;this.Sa={};this.text=this.ob=null;this.Na=b;this.rl=this.Lh=null}function c(a,b,c,d){this.w=b;this.Uf=c;this.Mb=a;this.di=d;this.Zn={}}function a(a,b){var c=b.split(".").slice(-2,-1)[0].split("_");return{url:b,di:a,yu:(5<c.length?parseInt(c[5],10):1)/parseInt(c[0],10),XH:parseInt(c[1],10),ZH:parseInt(c[2],10),WH:parseInt(c[3],10),YH:parseInt(c[4],10),getName:function(){return b.substring(b.lastIndexOf("/")+
1)},yD:function(a){var b=this.yu*this.di*this.WH,c=this.yu*this.di*this.YH,d=this.yu*this.XH,e=this.yu*this.ZH,f=this.getName();a.RS=!0;a.tP=!0;a.uP=!0;a.rO="high";a.qO=!0;window.ci[f]&&a.I(window.ci[f],0,0,this.XH,this.ZH,b,c,d,e)}}}function f(){}e.prototype={clone:function(){var a=new e(this.Vg,this.Na);a.Sa=JSON.parse(JSON.stringify(this.Sa));a.ob=this.ob.clone();a.rl=this.rl;return a}};c.prototype={tL:function(){this.Zn={}},KK:function(a,b){var c=Math.ceil(1*this.w*b/this.di)|0;this.Zn[b]=this.Zn[b]||
[];for(var d=this.Zn[b],e=0;e<a.length;e++)d[a[e].YH*c+a[e].WH]=a[e]},MN:function(a,b){var c=Math.max(Math.min(30,Math.round(3*b)|0),1),d=c/b,e=Math.ceil(1*this.w*c/this.di)|0,f;if(!(c in this.Zn))return null;var g=[],u={tiles:g,p:this.Mb,z:c,missing:0},r=Math.floor(a[0]*d/this.di)|0,v=Math.ceil(a[2]*d/this.di)|0,w=Math.ceil(a[3]*d/this.di)|0,c=this.Zn[c];for(f=Math.floor(a[1]*d/this.di)|0;f<w;f++)for(d=r;d<v;d++)c[f*e+d]?g.push(c[f*e+d]):u.missing+=1;return u}};d.prototype={create:function(a,b,c,
d,e){this.Lh=b;this.fq=c;this.Mb=a;this.xq=d;this.Rp=e;this.aq=this.Zg;this.cu=this.zoom;this.Vk=this.Zg=null;this.Qk=!1},NR:function(a){this.Zg=a},run:function(a,b){var c=this;if(c.Qk)return!0;this.zoom=b.m_a;var d=0,e=this.zoom.toFixed(5)===this.cu.toFixed(5);if(!c.Zg){a.S();a.RS=!0;a.tP=!0;a.uP=!0;a.rO="high";a.qO=!0;a.I(window.ci[this.Lh],0,0,this.fq.width,this.fq.height);a.r();if(this.aq)for(d=0;d<this.aq.length;d++)this.aq[d].yD(a,b,e?"rgba(0, 0, 255, 0.5)":"rgba(255, 0, 0, 0.5)");if(d=this.xq&&
this.Rp){var e=[-b.m_h,-b.m_v,a.canvas.width-b.m_h,a.canvas.height-b.m_v],f=c.Rp,g=c.xq;c.Rp=null;c.xq=null;this.Vk=createPromiseCapability();var u=function(){c.Qk||c.Vk&&c.Vk.resolve()};g(c.Mb,c.zoom,e,960).then(function(a){!c.Qk&&a&&f(a,c,u)})}return!d}if(this.Zg&&this.Zg.length)for(d=0;d<this.Zg.length;d++)this.Zg[d].yD(a,b,"rgba(0, 255, 0, 0.5)");return!0},clone:function(){var a=new d;a.Lh=this.Lh;a.fq=this.fq;a.Mb=this.Mb;a.xq=this.xq;a.Rp=this.Rp;a.Zg=this.Zg;a.aq=this.aq;a.zoom=this.zoom;a.cu=
this.cu;return a},bq:function(){return this.Vk?this.Vk.promise:Promise.resolve()},cancel:function(){this.Qk=!0;this.Vk&&this.Vk.resolve()}};var g=b.o;g.$g=function(a){this.gf=[];this.Sd={};this.Xd={};this.ju={};this.Kh={};this.ce={};this.op={};this.Ba=null;this.nm=this.te=new b.Ue.br;this.id=a;this.Na=this;this.qb=[];this.Zz=[];this.dg={};this.J=[];this.page=[];this.Je=null;this.qj={};this.Vu=createPromiseCapability();this.fz=createPromiseCapability();this.Su=this.Ru=!0;this.bP=0;this.oS=1};g.$g.prototype=
Object.create(g.Df.prototype);g.$g.prototype.constructor=g.eh;$.extend(g.$g.prototype,{kO:function(a){return a.PE().then(function(a){return Promise.resolve(!!a.url)})},HL:function(a){return a.vQ()},Oi:function(a){2===this.dg[a]?(delete this.dg[a],this.bp(0,a)):this.dg[a]&&delete this.dg[a]},lj:function(a,b){if(!this.J||this.J.length<a)throw Error("Document is not initialized!");var c=this,d=c,e,f=null;c.Zz[a]?f=Promise.resolve(c.Zz[a]):this.Ri||(f=c.Je.Au(a));f?(e=c.aD(),d.dg[e]=1,f.then(function(f){var g=
new Image;c.Zz[a]=f;g.onload=function(){URL.revokeObjectURL(f.url);d.dg[e]&&(b(g),delete d.dg[e]);g=g.onload=null};g.src=f.url})):(c=this.Ri,f=c.J[a],e=c.Pg({pageIndex:a,zoom:f.width>f.height?450/f.width:450/f.height,drawComplete:function(a){a.style.backgroundColor="white";d.dg[e]&&(c.Rn(e),b(a),delete d.dg[e])},pageCanvas:!0}),d.dg[e]=2);return e},Sz:function(){return this.Su&&(b.utils.ie||!this.Ru||b.utils.isMobileDevice)},hL:function(){return!b.utils.isMobileDevice},$V:function(a){for(var b=a.length,
c=this.Hg(),d=0;d<b;++d)a[d].uf(c)},wH:function(a){function c(g){u[g]||("function"===typeof a[g]?(b.utils.log("load","Redirected function name "+g),p[g]=f(g)):(b.utils.log("load","Redirected property name "+g),Object.defineProperty(p,g,{get:d(g),set:e(g)})))}function d(a){return function(){return p.Ri[a]}}function e(a){return function(b){p.Ri[a]=b}}function f(a){return function(){return p.Ri[a].apply(p.Ri,arguments)}}if(null===a)return b.utils.log("load","Not switching backends because the server gave us nothing to use"),
!1;var p=this,q=this.Sz();b.utils.log("load","Switching backend XOD: "+q);var u={};u[g.$g.prototype.pd.name]=!0;u[g.$g.prototype.lj.name]=!0;u[g.$g.prototype.Oi.name]=!0;u[g.$g.prototype.Wm.name]=!0;u[g.$g.prototype.tp.name]=!0;q=q?g.Df.prototype:g.eh.prototype;p.Ri=a;for(var r in a)(a.hasOwnProperty(r)||q.hasOwnProperty(r))&&c(r);try{localStorage.setItem("isCached",!0)}catch(v){b.utils.log("load","Couldn't add the loaded marker to localStorage")}return!0},mW:function(){return Promise.resolve(b.WebAssembly?
b.VO(b.WN()):!0)},VR:function(a){return this.Sz()?this.kO(a):a.gE().then(function(a){return Promise.resolve(a.unhealthy)})},YC:function(a,c,d){function e(a,b){return new Promise(function(c,e){b.$f(a,function(a){a?e(a):c(b)},d)})}var f=c.QM(),p={withCredentials:c.YN()};if(this.Sz()){var q=function(c){if(c.flat||!c.url)return Promise.resolve(null);c=new b.o.V.Hj(c.url,p);c.ml(f);var d=new g.Df(a);return e(c,d)};return d.UE?q(d.UE):this.HL(c).then(q)}if(!this.hL())return Promise.resolve(null);var u=
g.Lx().then(function(a){return g.Bt(a,d.workerHandlers?d.workerHandlers:{},d.l)});return Promise.all([c.DG(),u]).then(function(a){a=new g.V.Tq(a[0].url,p);a.ml(f);var b=new g.eh;d.workerTransportPromise=u;d.extension="pdf";return e(a,b)})},HK:function(a){if(0!==a.length){for(var b=0;b<a.length;++b)for(var c=a[b],d=Math.min(this.J.length,c.i-1),e=c.i+c.n-2;e>=d;--e){var f=this.jv(c);this.J[e]=f}this.Up=this.ap();this.Wi({type:"pagesUpdated",data:this.J.slice()})}},BK:function(a){function b(a){var c=
[];a.children.forEach(function(a){c.push(b(a))});return new g.Se(c,a.name,a.pageNumber,a.parent,a.verticalOffset,a.horizontalOffset,a.url)}for(var c=0;c<a.length;++c)this.gf.push(b(a[c]))},$f:function(a,c,d){var e=this,f=d.annotsLoadedCallback,g=!1;e.Je=e.bb=a;var q=e.Je;d.annotsLoadedCallback=null;e.J=[];e.Na=e;var u;b.utils.log("load","Request Document");e.Je.kR(function(){e.GO()},null);e.Je.gE().then(function(r){e.Ru&=r.hasPDF;e.Su&=r.hasXOD;"tileScale"in r&&(e.oS=r.tileScale);e.Je.hl(d.extension).then(function(r){function w(){f&&
z.then(function(a){g||(g=!0,f(a))},function(a){console.error("Error loading annotations: "+a);g||(g=!0,f(void 0))})}b.utils.log("load","Document response received.");r&&("pages"in r&&e.HK(r.pages),"bookmarks"in r&&(e.gf=[],e.BK(r.bookmarks)));var z=f?q.GM():Promise.resolve();e.VR(a).then(function(f){b.utils.log("load","Should we use client side rendering? "+f);f?("object"===typeof f&&(d.UE=f),e.YC(e.id,a,d).then(function(a){e.wH(a);u=c();e.fz.resolve(u);w()})):(d.annotsLoadedCallback=null,u=c(),e.fz.resolve(u),
e.Ru||e.Su?(b.utils.log("load","Load client side document"),e.Vu.promise.then(function(){e.YC(e.id,a,d).then(function(a){var b=e.J[0].height;if(e.wH(a)){a=u.Hg();for(var c=0;c<e.J.length;c++)e.J[c].uf(a);for(var d=!1,f=(e.J[0].height|0)===(b|0),g=b/e.J[0].height,h=a.N.Wd(),c=0;c<h.length;c++)!f&&a.N.oN(h[c].Ra-1)&&(d=!0,a.N.Mu(h[c].Ra-1,h[c].zoom*g),a.$i(h[c].Ra-1)),(b=a.Ca.qc(h[c].id))&&b.od&&(b.od=null);f||a.N.bi(a.N.Tf*g);d||f||(a.Xh(),a.da.eg());a.trigger("backendSwitch")}w()})})):w(),e.dc=new Promise(function(a){e.bind("documentComplete",
function(){e.unbind("documentComplete");a()})}))})},function(a){c(a)})},function(a){c(a)})},Gd:function(a,b){a in this.qb&&this.qb[a].text?b(this.qb[a].text):this.gy(a,b)},Ah:function(a){return a},Vx:function(f,g,k){if(f in this.J){var m=this;m.bP=f;this.qb[f]=this.qb[f]||new e(f,this);var n=this.qb[f],p=null,q=null;n.ob?p=Promise.resolve(n):(b.utils.log("load","blackbox(pgi: "+f+") request image"),p=(0!==f?m.Vu.promise.then(function(){return m.Je.Au(f)}):m.Je.Au(f)).then(function(a){n.rl=new c(f,
m.J[f].width,m.J[f].height,960);m.J[f].Lh=a.name;n.ob=new d;n.Sa[m.J[f].Lh]={data:a.url,type:"jpg",name:m.J[f].Lh};return n},function(a){q=a;b.utils.log("load","blackbox(pgi "+f+") error requesting image: "+a);n.Sa.img_error={data:"",type:"jpg",name:"img_error"};n.ob=new d;n.ob.create(f,"img_error",m.J[f],null,null);return n}));var u=function(b,c,d,e){var f=n.rl.MN(d,c);return f&&0===f.missing?Promise.resolve(f):m.Je?m.Je.uQ(b,c,d,e).then(function(b){for(var c=b.tiles,d=0;d<c.length;d++)c[d]=a(b.size,
c[d]);return Promise.resolve(b)}):Promise.resolve(null)};p.then(function(a){b.utils.log("load","blackbox(pg "+f+") has image URL");var c=null;a.ob.create(f,m.J[f].Lh,m.J[f],u,function(d,e,f){if(g in m.Sd&&!a.ob.Qk){var k,l,n=d.tiles,p=m.Sd[g].mj,q=!("missing"in d),u=[],G=0;for(;G<n.length;G++)l=n[G],k=l.getName(),c.Sa[k]||(l={data:l.url,type:"jpg",name:k},u.push(l),c.Sa[k]=l);q&&a.rl.KK(n,d.z);a.Sa=JSON.parse(JSON.stringify(c.Sa));e.NR(n);a.ob=e.clone();p.zF(function(){m.Vu.resolve();f()},u,!0);q&&
b.utils.log("load","Server took "+d.runTime+"ms to generate "+n.length+" tiles")}});c=a.clone();m.qj[g]=c.ob;b.utils.log("load","blackbox(pg "+f+") calling resource load callback");k(q,c)},function(a){console.warn("Error creating resources for page: "+a);k(a)})}else k(Error("The page "+(f+1)+" does not exist."))},gy:function(a,b){var c=this;if(a in this.J){this.qb[a]=this.qb[a]||new e(a,this);var d=this.qb[a],f=null,f=d.text?Promise.resolve(d):c.Je.tQ(a).then(function(b){var e=new XODText.We;e.mu({Va:b.struct,
Pa:b.str,Vb:b.offsets,Aa:b.quads,hc:!0});c.J[a].text=e;c.Ds(a,e);d.text=e;return d},function(b){console.warn("Error retrieving text for page: "+b);b=new XODText.We;b.mu({Va:[],Pa:"",Vb:[],Aa:[],hc:!0});c.J[a].text=b;d.text=b;return d});f.then(function(a){b(a.text)})}else b(Error("The page "+(a+1)+" does not exist."))},bp:function(a,b){b in this.qj&&(this.Vu.resolve(),this.qj[b].cancel(),delete this.qj[b])},lU:function(){for(var a=_.keys(this.qj),b=0;b<a.length;b++)this.bp(0,a[b])},GO:function(){this.qb&&
_.each(this.qb,function(a){a.rl&&a.rl.tL()})},kn:function(){return!1},Nk:f,Pn:f,hj:function(){return!1},Dk:function(){return null},um:f,Um:function(){return!1},Kn:f,Vz:f,Sm:function(){return[]},Hb:function(){return this.J.length},Vc:function(a){var b={};b.width=this.J[a].width;b.height=this.J[a].height;return b},Pi:function(a){a in this.Sd&&this.Sd[a]&&delete this.Sd[a];a in this.qj&&delete this.qj[a]},pd:function(){g.Df.prototype.pd.call(this);this.qb=[];this.dg={};this.qj={};this.Na=null;this.Ri&&
this.Ri.pd()},sr:function(){},jv:function(a){var c=new b.qo(a.w,a.h),d=a.mtx;c.sb=new XODText.Da;c.sb.Oa(d[0],d[1],d[2],d[3],d[4],d[5]);var e=this.sm(c.sb);c.sb=this.tS(d,{w:a.w,Uf:a.h});c.rotation=e;return c},tS:function(a,b){var c=new XODText.Da;c.Oa(a[0],a[1],a[2],a[3],a[4],a[5]);var d=this.vs(c,b);c.Oa(1,0,0,-1,-d.x1,d.y2);return c},Fk:function(){return Promise.resolve(this.gf)},getFileData:function(){return this.Je.getFileData()},Wm:function(){return this.lE({print:!0})},tp:function(){return this.lE({}).then(function(a){var b=
a.url.lastIndexOf(".pdf");a.url=a.url.substring(0,0<b?b:a.url.length)+"?attach=pdf";return Promise.resolve(a)})},lE:function(a){var b=this;return this.fz.promise.then(function(c){var d=c.Hg();return d.ME().then(function(e){var f=createPromiseCapability(),g=createPromiseCapability();if(e){e=c.Vc(0);var u=document.createElement("canvas");u.width=e.width;u.height=e.height;var r=u.getContext("2d");r.rect(0,0,e.width,e.height);r.fillStyle="rgba(255, 255, 255, 0.0);";r.fill();b.sx(u,0);u.fW(function(a){f.resolve(a)})}else f.resolve(null);
g.resolve(d.ec().LD());return Promise.all([g.promise,f.promise]).then(function(c){var d=JSON.parse(JSON.stringify(a||{}));d.annots=c[0];d.watermark=c[1];return b.Je.jN(d)})})})},gj:function(){return!1},DE:function(a){return this.J[a].links},xj:function(){return!0}})})(window);}).call(window);
